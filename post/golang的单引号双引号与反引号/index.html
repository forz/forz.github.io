<!DOCTYPE html>
<html lang="zh-cn" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Golang的单引号、双引号与反引号 | Forz Blog</title>
<meta name="keywords" content="Go" />
<meta name="description" content="简介 一个Go语言字符串是一个任意字节的常量序列。Go语言的字符串类型在本质上就与其他语言的字符串类型不同。 Java的String、C&#43;&#43;的s">
<meta name="author" content="">
<link rel="canonical" href="/post/golang%E7%9A%84%E5%8D%95%E5%BC%95%E5%8F%B7%E5%8F%8C%E5%BC%95%E5%8F%B7%E4%B8%8E%E5%8F%8D%E5%BC%95%E5%8F%B7/" />
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.00d5d4fc479b1575183ee8d86b4fb372ba9d9b1904e96fa8e4c40ff7debe2b94.css" integrity="sha256-ANXU/EebFXUYPujYa0&#43;zcrqdmxkE6W&#43;o5MQP996&#43;K5Q=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js" integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5&#43;kdJvBz5iKbt6B5PJI="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
<link rel="mask-icon" href="/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<meta name="generator" content="Hugo 0.87.0" />
<meta property="og:title" content="Golang的单引号、双引号与反引号" />
<meta property="og:description" content="简介 一个Go语言字符串是一个任意字节的常量序列。Go语言的字符串类型在本质上就与其他语言的字符串类型不同。 Java的String、C&#43;&#43;的s" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/post/golang%E7%9A%84%E5%8D%95%E5%BC%95%E5%8F%B7%E5%8F%8C%E5%BC%95%E5%8F%B7%E4%B8%8E%E5%8F%8D%E5%BC%95%E5%8F%B7/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2019-04-14T16:45:01&#43;00:00" />
<meta property="article:modified_time" content="2019-04-14T16:45:01&#43;00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Golang的单引号、双引号与反引号"/>
<meta name="twitter:description" content="简介 一个Go语言字符串是一个任意字节的常量序列。Go语言的字符串类型在本质上就与其他语言的字符串类型不同。 Java的String、C&#43;&#43;的s"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "/post/"
    }
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Golang的单引号、双引号与反引号",
      "item": "/post/golang%E7%9A%84%E5%8D%95%E5%BC%95%E5%8F%B7%E5%8F%8C%E5%BC%95%E5%8F%B7%E4%B8%8E%E5%8F%8D%E5%BC%95%E5%8F%B7/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Golang的单引号、双引号与反引号",
  "name": "Golang的单引号、双引号与反引号",
  "description": "简介 一个Go语言字符串是一个任意字节的常量序列。Go语言的字符串类型在本质上就与其他语言的字符串类型不同。 Java的String、C++的s",
  "keywords": [
    "Go"
  ],
  "articleBody": "简介 一个Go语言字符串是一个任意字节的常量序列。Go语言的字符串类型在本质上就与其他语言的字符串类型不同。\nJava的String、C++的std::string以及python3的str类型都只是定宽字符序列，而 Go语言的字符串是一个用UTF-8编码的变宽字符序列，它的每一个字符都用一个或多个字节表示 。\nGo语言中的字符串字面量使用 双引号 或 反引号 来创建 ：\n  双引号用来创建可解析的字符串字面量 (支持转义，但不能用来引用多行)；\n  反引号用来创建原生的字符串字面量 ，这些字符串可能由多行组成(不支持任何转义序列)，原生的字符串字面量多用于书写多行消息、HTML以及正则表达式。\n  单引号则用于表示Golang的一个特殊类型：rune，类似其他语言的byte但又不完全一样，是指：码点字面量（Unicode code point），不做任何转义的原始内容。\n  字符串的实质 go中有两种方式对字符串进行遍历，一种是utf-8遍历，另一种是Unicode遍历。\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  package main import \"fmt\" func main() { str := \"Hello,世界\" //utf-8遍历  for i := 0; i  len(str); i++ { ch := str[i] fmt.Println(ch) } fmt.Println(\"=============Unicode遍历\") //Unicode遍历  for _, ch1 := range str { fmt.Println(ch1) } }   上面代码执行后，会打印一串数字而不是字符。这是由于go语言中的字符串实际上是类型为byte的只读切片。或者说一个字符串就是一堆字节。这意味着，当我们将字符存储在字符串中时，实际存储的是这个字符的字节。一个字符串包含了任意个byte，它并不限定Unicode，UTF-8或者任何其他预定义的编码。那么go语言用什么来表示字符呢，下面的例子可以验证一下：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22  package main import ( \"fmt\" \"reflect\" ) func main() { str := \"Hello,世界\" //utf-8遍历  for i := 0; i  len(str); i++ { ch := str[i] ctype:=reflect.TypeOf(ch) fmt.Printf(\"%s \",ctype) } fmt.Println(\"=============Unicode遍历\") //Unicode遍历  for _, ch1 := range str { ctype:=reflect.TypeOf(ch1) fmt.Printf(\"%s \",ctype) } }   1 2  uint8 uint8 uint8 uint8 uint8 uint8 uint8 uint8 uint8 uint8 uint8 uint8 =============Unicode遍历 int32 int32 int32 int32 int32 int32 int32 int32 %   代码运行后显示ch的类型为uint8，也就是byte类型，而ch1的类型为int32，也就是rune类型。go语言中的源码定义为utf-8文本，不允许其他的表示。但是也存在特殊处理，那就是字符串上使用for…range循环。range循环迭代时，就会解码一个utf-8编码的rune。现在既然已经知道上述不管哪种遍历方式，其实质都是字节。所以在打印时，只需要将这些结果转化为字符字面值或者转换其输出类型就可以了。下面是两种字符串遍历方式：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  package main import ( \"fmt\" ) func main() { str := \"Hello,世界\" //方法一：格式化打印  for _, ch1 := range str { fmt.Printf(\"%q\",ch1) //单引号围绕的字符字面值，由go语法安全的转义  } fmt.Println(\"==========方法二\") //方法二：转化输出格式  for _, ch2 := range str { fmt.Println(string(ch2)) } }   字符串面值 一个原生的字符串面值形式是`…`，使用反引号代替双引号。在原生的字符串面值中，没有转义操作；全部的内容都是字面的意思，包含退格和换行，因此一个程序中的原生字符串面值可能跨越多行（译注：在原生字符串面值内部是无法直接写 ` 字符的，可以用八进制或十六进制转义或+ \" ` \" 连接字符串常量完成）。唯一的特殊处理是会删除回车以保证在所有平台上的值都是一样的，包括那些把回车也放入文本文件的系统（译注：Windows系统会把回车和换行一起放入文本文件中）。\n原生字符串面值用于编写正则表达式会很方便，因为正则表达式往往会包含很多反斜杠。原生字符串面值同时被广泛应用于HTML模板、JSON面值、命令行提示信息以及那些需要扩展到多行的场景。\n1 2 3 4 5  const GoUsage = `Go is a tool for managing Go source code. Usage: go command [arguments] ...`   拼接 看下面那个选项是正确的：\n1 2 3 4 5 6  A. str:='abc'+'123' B. str:=\"abc\"+\"123\" C. str:='123'+\"abc\" D. str:=`123`+`abc` E. str:=`123`+'abc' F. str:=`123`+\"abc\"   正确答案为BDF，为什么是这样呢？这就是Go的特别之处。其他语言，例如JavaScript，单引号和双引号可以同时使用，都可以用来表示字符串。Java中单引号表示char类型，双引号表示string类型。而在Go中，双引号是用来表示字符串string，其实质是一个byte类型的数组，单引号表示rune类型。还有一个反引号，用来创建原生的字符串字面量，它可以由多行组成，但不支持任何转义序列。因此，当把两个不同类型的变量进行拼接时，就会报错。\n双引号字符串的转义 在一个双引号包含的字符串面值中，可以用以反斜杠\\开头的转义序列插入任意的数据。下面的换行、回车和制表符等是常见的ASCII控制代码的转义方式：\n1 2 3 4 5 6 7 8 9 10  \\a 响铃 \\b 退格 \\f 换页 \\n 换行 \\r 回车 \\t 制表符 \\v 垂直制表符 \\' 单引号 (只用在 '\\'' 形式的rune符号面值中) \\\" 双引号 (只用在 \"...\" 形式的字符串面值中) \\\\ 反斜杠   可以通过十六进制或八进制转义在字符串面值中包含任意的字节。一个十六进制的转义形式是\\xhh，其中两个h表示十六进制数字（大写或小写都可以）。一个八进制转义形式是\\ooo，包含三个八进制的o数字（0到7），但是不能超过\\377（译注：对应一个字节的范围，十进制为255）。每一个单一的字节表达一个特定的值。稍后我们将看到如何将一个Unicode码点写到字符串面值中。\n参考:https://blog.csdn.net/benben_2015/article/details/78904860\n",
  "wordCount" : "2295",
  "inLanguage": "zh-cn",
  "datePublished": "2019-04-14T16:45:01Z",
  "dateModified": "2019-04-14T16:45:01Z",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "/post/golang%E7%9A%84%E5%8D%95%E5%BC%95%E5%8F%B7%E5%8F%8C%E5%BC%95%E5%8F%B7%E4%B8%8E%E5%8F%8D%E5%BC%95%E5%8F%B7/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Forz Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>
<noscript>
    <style type="text/css">
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: #1d1e20;
                --entry: #2e2e33;
                --primary: rgba(255, 255, 255, 0.84);
                --secondary: rgba(255, 255, 255, 0.56);
                --tertiary: rgba(255, 255, 255, 0.16);
                --content: rgba(255, 255, 255, 0.74);
                --hljs-bg: #2e2e33;
                --code-bg: #37383e;
                --border: #333;
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="/" accesskey="h" title="Forz Blog (Alt + H)">Forz Blog</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="/" title="Home">
                    <span>Home</span>
                </a>
            </li>
            <li>
                <a href="/post/" title="Archives">
                    <span>Archives</span>
                </a>
            </li>
            <li>
                <a href="/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="/categories/" title="Categories">
                    <span>Categories</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      Golang的单引号、双引号与反引号
    </h1>
    <div class="post-meta">April 14, 2019
</div>
  </header> 
  <div class="post-content"><h1 id="简介">简介<a hidden class="anchor" aria-hidden="true" href="#简介">#</a></h1>
<p>一个Go语言字符串是一个任意字节的常量序列。Go语言的字符串类型在本质上就与其他语言的字符串类型不同。</p>
<p>Java的String、C++的std::string以及python3的str类型都只是定宽字符序列，而 Go语言的字符串是一个用UTF-8编码的变宽字符序列，它的每一个字符都用一个或多个字节表示 。</p>
<p>Go语言中的字符串字面量使用 双引号 或 反引号 来创建 ：</p>
<ul>
<li>
<p>双引号用来创建可解析的字符串字面量 (支持转义，但不能用来引用多行)；</p>
</li>
<li>
<p>反引号用来创建原生的字符串字面量 ，这些字符串可能由多行组成(不支持任何转义序列)，原生的字符串字面量多用于书写多行消息、HTML以及正则表达式。</p>
</li>
<li>
<p>单引号则用于表示Golang的一个特殊类型：rune，类似其他语言的byte但又不完全一样，是指：码点字面量（Unicode code point），不做任何转义的原始内容。</p>
</li>
</ul>
<h1 id="字符串的实质">字符串的实质<a hidden class="anchor" aria-hidden="true" href="#字符串的实质">#</a></h1>
<p>go中有两种方式对字符串进行遍历，一种是utf-8遍历，另一种是Unicode遍历。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">str</span> <span class="o">:=</span> <span class="s">&#34;Hello,世界&#34;</span>
    <span class="c1">//utf-8遍历
</span><span class="c1"></span>    <span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="nx">str</span><span class="p">);</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
        <span class="nx">ch</span> <span class="o">:=</span> <span class="nx">str</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span>
        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">ch</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;=============&gt;Unicode遍历&#34;</span><span class="p">)</span>
    <span class="c1">//Unicode遍历
</span><span class="c1"></span>    <span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">ch1</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">str</span> <span class="p">{</span>
        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">ch1</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>上面代码执行后，会打印一串数字而不是字符。这是由于go语言中的字符串实际上是类型为byte的只读切片。或者说一个字符串就是一堆字节。这意味着，当我们将字符存储在字符串中时，实际存储的是这个字符的字节。一个字符串包含了任意个byte，它并不限定Unicode，UTF-8或者任何其他预定义的编码。那么go语言用什么来表示字符呢，下面的例子可以验证一下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
    <span class="s">&#34;fmt&#34;</span>
    <span class="s">&#34;reflect&#34;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">str</span> <span class="o">:=</span> <span class="s">&#34;Hello,世界&#34;</span>
    <span class="c1">//utf-8遍历
</span><span class="c1"></span>    <span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="nx">str</span><span class="p">);</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
        <span class="nx">ch</span> <span class="o">:=</span> <span class="nx">str</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span>
        <span class="nx">ctype</span><span class="o">:=</span><span class="nx">reflect</span><span class="p">.</span><span class="nf">TypeOf</span><span class="p">(</span><span class="nx">ch</span><span class="p">)</span>
        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;%s &#34;</span><span class="p">,</span><span class="nx">ctype</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;=============&gt;Unicode遍历&#34;</span><span class="p">)</span>
    <span class="c1">//Unicode遍历
</span><span class="c1"></span>    <span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">ch1</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">str</span> <span class="p">{</span>
        <span class="nx">ctype</span><span class="o">:=</span><span class="nx">reflect</span><span class="p">.</span><span class="nf">TypeOf</span><span class="p">(</span><span class="nx">ch1</span><span class="p">)</span>
        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;%s &#34;</span><span class="p">,</span><span class="nx">ctype</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">uint8 uint8 uint8 uint8 uint8 uint8 uint8 uint8 uint8 uint8 uint8 uint8 =============&gt;Unicode遍历
int32 int32 int32 int32 int32 int32 int32 int32 %   
</code></pre></td></tr></table>
</div>
</div><p>代码运行后显示ch的类型为uint8，也就是byte类型，而ch1的类型为int32，也就是rune类型。go语言中的源码定义为utf-8文本，不允许其他的表示。但是也存在特殊处理，那就是字符串上使用for…range循环。range循环迭代时，就会解码一个utf-8编码的rune。现在既然已经知道上述不管哪种遍历方式，其实质都是字节。所以在打印时，只需要将这些结果转化为字符字面值或者转换其输出类型就可以了。下面是两种字符串遍历方式：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
    <span class="s">&#34;fmt&#34;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">str</span> <span class="o">:=</span> <span class="s">&#34;Hello,世界&#34;</span>
    <span class="c1">//方法一：格式化打印
</span><span class="c1"></span>    <span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">ch1</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">str</span> <span class="p">{</span>
        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;%q&#34;</span><span class="p">,</span><span class="nx">ch1</span><span class="p">)</span> <span class="c1">//单引号围绕的字符字面值，由go语法安全的转义
</span><span class="c1"></span>    <span class="p">}</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;==========&gt;方法二&#34;</span><span class="p">)</span>
    <span class="c1">//方法二：转化输出格式
</span><span class="c1"></span>    <span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">ch2</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">str</span> <span class="p">{</span>
        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nb">string</span><span class="p">(</span><span class="nx">ch2</span><span class="p">))</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h1 id="字符串面值">字符串面值<a hidden class="anchor" aria-hidden="true" href="#字符串面值">#</a></h1>
<p>一个原生的字符串面值形式是`&hellip;`，使用反引号代替双引号。在原生的字符串面值中，没有转义操作；全部的内容都是字面的意思，包含退格和换行，因此一个程序中的原生字符串面值可能跨越多行（译注：在原生字符串面值内部是无法直接写 ` 字符的，可以用八进制或十六进制转义或+ &quot; ` &quot; 连接字符串常量完成）。唯一的特殊处理是会删除回车以保证在所有平台上的值都是一样的，包括那些把回车也放入文本文件的系统（译注：Windows系统会把回车和换行一起放入文本文件中）。</p>
<p>原生字符串面值用于编写正则表达式会很方便，因为正则表达式往往会包含很多反斜杠。原生字符串面值同时被广泛应用于HTML模板、JSON面值、命令行提示信息以及那些需要扩展到多行的场景。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">const</span> <span class="nx">GoUsage</span> <span class="p">=</span> <span class="s">`Go is a tool for managing Go source code.
</span><span class="s">
</span><span class="s">Usage:
</span><span class="s">    go command [arguments]
</span><span class="s">...`</span>
</code></pre></td></tr></table>
</div>
</div><h1 id="拼接">拼接<a hidden class="anchor" aria-hidden="true" href="#拼接">#</a></h1>
<p>看下面那个选项是正确的：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="nx">A</span><span class="p">.</span> <span class="nx">str</span><span class="o">:=</span><span class="err">&#39;</span><span class="nx">abc</span><span class="sc">&#39;+&#39;</span><span class="mi">123</span><span class="err">&#39;</span>
<span class="nx">B</span><span class="p">.</span> <span class="nx">str</span><span class="o">:=</span><span class="s">&#34;abc&#34;</span><span class="o">+</span><span class="s">&#34;123&#34;</span>
<span class="nx">C</span><span class="p">.</span> <span class="nx">str</span><span class="o">:=</span><span class="err">&#39;</span><span class="mi">123</span><span class="err">&#39;</span><span class="o">+</span><span class="s">&#34;abc&#34;</span>
<span class="nx">D</span><span class="p">.</span> <span class="nx">str</span><span class="o">:=</span><span class="s">`123`</span><span class="o">+</span><span class="s">`abc`</span>
<span class="nx">E</span><span class="p">.</span> <span class="nx">str</span><span class="o">:=</span><span class="s">`123`</span><span class="o">+</span><span class="err">&#39;</span><span class="nx">abc</span><span class="err">&#39;</span>
<span class="nx">F</span><span class="p">.</span> <span class="nx">str</span><span class="o">:=</span><span class="s">`123`</span><span class="o">+</span><span class="s">&#34;abc&#34;</span>
</code></pre></td></tr></table>
</div>
</div><p>正确答案为BDF，为什么是这样呢？这就是Go的特别之处。其他语言，例如JavaScript，单引号和双引号可以同时使用，都可以用来表示字符串。Java中单引号表示char类型，双引号表示string类型。而在Go中，双引号是用来表示字符串string，其实质是一个byte类型的数组，单引号表示rune类型。还有一个反引号，用来创建原生的字符串字面量，它可以由多行组成，但不支持任何转义序列。因此，当把两个不同类型的变量进行拼接时，就会报错。</p>
<h1 id="双引号字符串的转义">双引号字符串的转义<a hidden class="anchor" aria-hidden="true" href="#双引号字符串的转义">#</a></h1>
<p>在一个双引号包含的字符串面值中，可以用以反斜杠\开头的转义序列插入任意的数据。下面的换行、回车和制表符等是常见的ASCII控制代码的转义方式：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">\a      响铃
\b      退格
\f      换页
\n      换行
\r      回车
\t      制表符
\v      垂直制表符
\&#39;      单引号 (只用在 &#39;\&#39;&#39; 形式的rune符号面值中)
\&#34;      双引号 (只用在 &#34;...&#34; 形式的字符串面值中)
\\      反斜杠
</code></pre></td></tr></table>
</div>
</div><p>可以通过十六进制或八进制转义在字符串面值中包含任意的字节。一个十六进制的转义形式是\xhh，其中两个h表示十六进制数字（大写或小写都可以）。一个八进制转义形式是\ooo，包含三个八进制的o数字（0到7），但是不能超过\377（译注：对应一个字节的范围，十进制为255）。每一个单一的字节表达一个特定的值。稍后我们将看到如何将一个Unicode码点写到字符串面值中。</p>
<p>参考:<a href="https://blog.csdn.net/benben_2015/article/details/78904860">https://blog.csdn.net/benben_2015/article/details/78904860</a></p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="/tags/go/">Go</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2021 <a href="/">Forz Blog</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)">
    <button class="top-link" id="top-link" type="button" accesskey="g">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
            <path d="M12 6H0l6-6z" />
        </svg>
    </button>
</a>

<script>
    let menu = document.getElementById('menu')
    menu.scrollLeft = localStorage.getItem("menu-scroll-position");
    menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
