<!DOCTYPE html>
<html lang="zh-cn" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>丑数 | Forz Blog</title>
<meta name="keywords" content="Math" />
<meta name="description" content="LeetCode 263. Ugly Number Write a program to check whether a given number is an ugly number. Ugly numbers are positive numbers whose prime factors only include 2, 3, 5. For example, 6, 8 are ugly while 14 is not ugly since it includes another prime factor 7. Note that 1 is typically treated as an ugly number. 解析： 我们将给定数除以2">
<meta name="author" content="">
<link rel="canonical" href="/post/%E4%B8%91%E6%95%B0/" />
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.00d5d4fc479b1575183ee8d86b4fb372ba9d9b1904e96fa8e4c40ff7debe2b94.css" integrity="sha256-ANXU/EebFXUYPujYa0&#43;zcrqdmxkE6W&#43;o5MQP996&#43;K5Q=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js" integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5&#43;kdJvBz5iKbt6B5PJI="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
<link rel="mask-icon" href="/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<meta name="generator" content="Hugo 0.87.0" />
<meta property="og:title" content="丑数" />
<meta property="og:description" content="LeetCode 263. Ugly Number Write a program to check whether a given number is an ugly number. Ugly numbers are positive numbers whose prime factors only include 2, 3, 5. For example, 6, 8 are ugly while 14 is not ugly since it includes another prime factor 7. Note that 1 is typically treated as an ugly number. 解析： 我们将给定数除以2" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/post/%E4%B8%91%E6%95%B0/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2017-06-24T23:59:47&#43;00:00" />
<meta property="article:modified_time" content="2017-06-24T23:59:47&#43;00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="丑数"/>
<meta name="twitter:description" content="LeetCode 263. Ugly Number Write a program to check whether a given number is an ugly number. Ugly numbers are positive numbers whose prime factors only include 2, 3, 5. For example, 6, 8 are ugly while 14 is not ugly since it includes another prime factor 7. Note that 1 is typically treated as an ugly number. 解析： 我们将给定数除以2"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "/post/"
    }
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "丑数",
      "item": "/post/%E4%B8%91%E6%95%B0/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "丑数",
  "name": "丑数",
  "description": "LeetCode 263. Ugly Number Write a program to check whether a given number is an ugly number. Ugly numbers are positive numbers whose prime factors only include 2, 3, 5. For example, 6, 8 are ugly while 14 is not ugly since it includes another prime factor 7. Note that 1 is typically treated as an ugly number. 解析： 我们将给定数除以2",
  "keywords": [
    "Math"
  ],
  "articleBody": "LeetCode 263. Ugly Number Write a program to check whether a given number is an ugly number.\nUgly numbers are positive numbers whose prime factors only include 2, 3, 5. For example, 6, 8 are ugly while 14 is not ugly since it includes another prime factor 7.\nNote that 1 is typically treated as an ugly number.\n解析：\n我们将给定数除以2、3、5，直到无法整除，也就是除以2、3、5的余数不再为0时停止。\n这时如果得到1，说明是所有因子都是2或3或5，如果不是1，则不是丑数。因为2，3，5中间只少了4，而4为2的倍数，可以简化一下代码\n1 2 3 4 5 6 7 8 9 10  class Solution { public: bool isUgly(int num) { for (int i=2; i6 \u0026\u0026 num; i++) while (num % i == 0) num /= i; return num == 1; //1看作丑数  } };   LeetCode 264. Ugly Number II Write a program to find the n-th ugly number.\nUgly numbers are positive numbers whose prime factors only include 2, 3, 5. For example, 1, 2, 3, 4, 5, 6, 8, 9, 10, 12 is the sequence of the first 10 ugly numbers.\nNote that 1 is typically treated as an ugly number, and n does not exceed 1690.\n解析：\n求第n个丑数。因为丑数就是质因数只有2,3,5的数。不同的丑数的区别就是其中包含2，3，5三种因子的个数。丑数和2，3，5相乘的结果还是丑数。\n采用动态规划的思想。每个ugly数都是由2或3或5乘以另外一个ugly数组成。设置三个指针，分别表示乘以2，3或5指向的最小的ugly数。每次选择三个指针中指向最小元素的指针，因为该指针指向的元素已经被使用，所以该指针前移一位。\n指针设为index_2=0, index_3=0, index_5=0。值设为val_2=2, val_3=3, val_5=5。\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  class Solution { public: int nthUglyNumber(int n) {//求第n个丑数  vectorint dp(n); int index_2 = 0, index_3 = 0, index_5 = 0; int val_2 = 2, val_3 = 3, val_5 = 5; dp[0] = 1; for(int i = 1;i  n;i++){ int val = min(val_2, min(val_3, val_5) ); if(val == val_2) {dp[i] = val_2; index_2++; val_2 = dp[index_2] * 2;} if(val == val_3) {dp[i] = val_3; index_3++; val_3 = dp[index_3] * 3;} if(val == val_5) {dp[i] = val_5; index_5++; val_5 = dp[index_5] * 5;} } return dp[n - 1]; } };   LeetCode 313. Super Ugly Number Write a program to find the nth super ugly number.\nSuper ugly numbers are positive numbers whose all prime factors are in the given prime list primes of size k. For example, [1, 2, 4, 7, 8, 13, 14, 16, 19, 26, 28, 32] is the sequence of the first 12 super ugly numbers given primes = [2, 7, 13, 19] of size 4.\nNote:\n(1) 1 is a super ugly number for any given primes.\n(2) The given numbers in primes are in ascending order.\n(3) 0 (4) The nth super ugly number is guaranteed to fit in a 32-bit signed integer.\n解析：\n超级丑数。跟丑数II很类似，只不过这次primes从2, 3, 5变成了一个size k的list。\n维护一个index数组，记录每个质因数要乘的最小丑数的位置。index[i]表示第i个质数应该和哪个超级丑数相乘\n维护一个res数组。保存超级丑数。res[i]代表第i个超级丑数的值\nmin = res[[index[j]]] * primes[j]。\n之后再遍历一次primes来update每个数在index[]中的使用次数。\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  class Solution { public: int nthSuperUglyNumber(int n, vectorint\u0026 primes) { vectorint res(n,INT_MAX),index(primes.size(),0); res[0]=1; //第一个超级丑数是1  int size=primes.size(); for(int i=1;in;++i){ // 枚举所有质因数，找到最小值，就是第i个丑数  for(int j=0;jsize;++j)res[i]=min(res[i],res[index[j]]*primes[j]); //找到之前乘的因子，维护它下一个要乘的最小丑数（也就是指针+1）  for(int j=0;jsize;++j)index[j]+=(res[i]==res[index[j]]*primes[j]); } return res[n-1]; } };   ",
  "wordCount" : "1045",
  "inLanguage": "zh-cn",
  "datePublished": "2017-06-24T23:59:47Z",
  "dateModified": "2017-06-24T23:59:47Z",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "/post/%E4%B8%91%E6%95%B0/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Forz Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>
<noscript>
    <style type="text/css">
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: #1d1e20;
                --entry: #2e2e33;
                --primary: rgba(255, 255, 255, 0.84);
                --secondary: rgba(255, 255, 255, 0.56);
                --tertiary: rgba(255, 255, 255, 0.16);
                --content: rgba(255, 255, 255, 0.74);
                --hljs-bg: #2e2e33;
                --code-bg: #37383e;
                --border: #333;
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="/" accesskey="h" title="Forz Blog (Alt + H)">Forz Blog</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="/" title="Home">
                    <span>Home</span>
                </a>
            </li>
            <li>
                <a href="/post/" title="Archives">
                    <span>Archives</span>
                </a>
            </li>
            <li>
                <a href="/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="/categories/" title="Categories">
                    <span>Categories</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      丑数
    </h1>
    <div class="post-meta">June 24, 2017
</div>
  </header> 
  <div class="post-content"><h1 id="leetcode-263-ugly-number">LeetCode 263. Ugly Number<a hidden class="anchor" aria-hidden="true" href="#leetcode-263-ugly-number">#</a></h1>
<p>Write a program to check whether a given number is an ugly number.</p>
<p>Ugly numbers are positive numbers whose prime factors only include 2, 3, 5. For example, 6, 8 are ugly while 14 is not ugly since it includes another prime factor 7.</p>
<p>Note that 1 is typically treated as an ugly number.</p>
<p>解析：</p>
<p>我们将给定数除以2、3、5，直到无法整除，也就是除以2、3、5的余数不再为0时停止。</p>
<p>这时如果得到1，说明是所有因子都是2或3或5，如果不是1，则不是丑数。因为2，3，5中间只少了4，而4为2的倍数，可以简化一下代码</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="n">class</span> <span class="n">Solution</span> <span class="p">{</span>

<span class="nl">public</span><span class="p">:</span>
    <span class="kt">bool</span> <span class="n">isUgly</span><span class="p">(</span><span class="kt">int</span> <span class="n">num</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">2</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="mi">6</span> <span class="o">&amp;&amp;</span> <span class="n">num</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
            <span class="k">while</span> <span class="p">(</span><span class="n">num</span> <span class="o">%</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
                <span class="n">num</span> <span class="o">/=</span> <span class="n">i</span><span class="p">;</span>
        <span class="k">return</span> <span class="n">num</span> <span class="o">==</span> <span class="mi">1</span><span class="p">;</span>    <span class="c1">//1看作丑数
</span><span class="c1"></span>    <span class="p">}</span>
<span class="p">};</span>
</code></pre></td></tr></table>
</div>
</div><h1 id="leetcode-264-ugly-number-ii">LeetCode 264. Ugly Number II<a hidden class="anchor" aria-hidden="true" href="#leetcode-264-ugly-number-ii">#</a></h1>
<p>Write a program to find the n-th ugly number.</p>
<p>Ugly numbers are positive numbers whose prime factors only include 2, 3, 5. For example, 1, 2, 3, 4, 5, 6, 8, 9, 10, 12 is the sequence of the first 10 ugly numbers.</p>
<p>Note that 1 is typically treated as an ugly number, and n does not exceed 1690.</p>
<p>解析：</p>
<p>求第n个丑数。因为丑数就是质因数只有2,3,5的数。不同的丑数的区别就是其中包含2，3，5三种因子的个数。丑数和2，3，5相乘的结果还是丑数。</p>
<p>采用动态规划的思想。每个ugly数都是由2或3或5乘以另外一个ugly数组成。设置三个指针，分别表示乘以2，3或5指向的最小的ugly数。每次选择三个指针中指向最小元素的指针，因为该指针指向的元素已经被使用，所以该指针前移一位。</p>
<p>指针设为index_2=0, index_3=0, index_5=0。值设为val_2=2, val_3=3, val_5=5。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="n">class</span> <span class="n">Solution</span> <span class="p">{</span>
<span class="nl">public</span><span class="p">:</span>
<span class="kt">int</span> <span class="n">nthUglyNumber</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span><span class="c1">//求第n个丑数
</span><span class="c1"></span>    <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">dp</span><span class="p">(</span><span class="n">n</span><span class="p">);</span>
    <span class="kt">int</span> <span class="n">index_2</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">index_3</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">index_5</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">val_2</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">val_3</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="n">val_5</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
    <span class="n">dp</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span><span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
        <span class="kt">int</span> <span class="n">val</span> <span class="o">=</span> <span class="n">min</span><span class="p">(</span><span class="n">val_2</span><span class="p">,</span> <span class="n">min</span><span class="p">(</span><span class="n">val_3</span><span class="p">,</span> <span class="n">val_5</span><span class="p">)</span> <span class="p">);</span>
        <span class="k">if</span><span class="p">(</span><span class="n">val</span> <span class="o">==</span> <span class="n">val_2</span><span class="p">)</span> <span class="p">{</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">val_2</span><span class="p">;</span> <span class="n">index_2</span><span class="o">++</span><span class="p">;</span> <span class="n">val_2</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">index_2</span><span class="p">]</span> <span class="o">*</span> <span class="mi">2</span><span class="p">;}</span>
        <span class="k">if</span><span class="p">(</span><span class="n">val</span> <span class="o">==</span> <span class="n">val_3</span><span class="p">)</span> <span class="p">{</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">val_3</span><span class="p">;</span> <span class="n">index_3</span><span class="o">++</span><span class="p">;</span> <span class="n">val_3</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">index_3</span><span class="p">]</span> <span class="o">*</span> <span class="mi">3</span><span class="p">;}</span>
        <span class="k">if</span><span class="p">(</span><span class="n">val</span> <span class="o">==</span> <span class="n">val_5</span><span class="p">)</span> <span class="p">{</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">val_5</span><span class="p">;</span> <span class="n">index_5</span><span class="o">++</span><span class="p">;</span> <span class="n">val_5</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">index_5</span><span class="p">]</span> <span class="o">*</span> <span class="mi">5</span><span class="p">;}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">dp</span><span class="p">[</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
<span class="p">}</span>
<span class="p">};</span>
</code></pre></td></tr></table>
</div>
</div><h1 id="leetcode-313-super-ugly-number">LeetCode 313. Super Ugly Number<a hidden class="anchor" aria-hidden="true" href="#leetcode-313-super-ugly-number">#</a></h1>
<p>Write a program to find the nth super ugly number.</p>
<p>Super ugly numbers are positive numbers whose all prime factors are in the given prime list primes of size k. For example, [1, 2, 4, 7, 8, 13, 14, 16, 19, 26, 28, 32] is the sequence of the first 12 super ugly numbers given primes = [2, 7, 13, 19] of size 4.</p>
<p>Note:</p>
<p>(1) 1 is a super ugly number for any given primes.</p>
<p>(2) The given numbers in primes are in ascending order.</p>
<p>(3) 0 &lt; k ≤ 100, 0 &lt; n ≤ 106, 0 &lt; primes[i] &lt; 1000.</p>
<p>(4) The nth super ugly number is guaranteed to fit in a 32-bit signed integer.</p>
<p>解析：</p>
<p>超级丑数。跟丑数II很类似，只不过这次primes从2, 3, 5变成了一个size k的list。</p>
<p>维护一个index数组，记录每个质因数要乘的最小丑数的位置。index[i]表示第i个质数应该和哪个超级丑数相乘</p>
<p>维护一个res数组。保存超级丑数。res[i]代表第i个超级丑数的值</p>
<p>min = res[[index[j]]] * primes[j]。</p>
<p>之后再遍历一次primes来update每个数在index[]中的使用次数。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="n">class</span> <span class="n">Solution</span> <span class="p">{</span>  
<span class="nl">public</span><span class="p">:</span>  
<span class="kt">int</span> <span class="n">nthSuperUglyNumber</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">,</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">primes</span><span class="p">)</span> <span class="p">{</span> 
    <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">res</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">INT_MAX</span><span class="p">),</span><span class="n">index</span><span class="p">(</span><span class="n">primes</span><span class="p">.</span><span class="n">size</span><span class="p">(),</span><span class="mi">0</span><span class="p">);</span>  
    <span class="n">res</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>  <span class="c1">//第一个超级丑数是1
</span><span class="c1"></span>    <span class="kt">int</span> <span class="n">size</span><span class="o">=</span><span class="n">primes</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>  
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">n</span><span class="p">;</span><span class="o">++</span><span class="n">i</span><span class="p">){</span> 
       <span class="c1">// 枚举所有质因数，找到最小值，就是第i个丑数
</span><span class="c1"></span>        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">j</span><span class="o">&lt;</span><span class="n">size</span><span class="p">;</span><span class="o">++</span><span class="n">j</span><span class="p">)</span><span class="n">res</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="n">min</span><span class="p">(</span><span class="n">res</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">res</span><span class="p">[</span><span class="n">index</span><span class="p">[</span><span class="n">j</span><span class="p">]]</span><span class="o">*</span><span class="n">primes</span><span class="p">[</span><span class="n">j</span><span class="p">]);</span>
        <span class="c1">//找到之前乘的因子，维护它下一个要乘的最小丑数（也就是指针+1）
</span><span class="c1"></span>        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">j</span><span class="o">&lt;</span><span class="n">size</span><span class="p">;</span><span class="o">++</span><span class="n">j</span><span class="p">)</span><span class="n">index</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">+=</span><span class="p">(</span><span class="n">res</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">==</span><span class="n">res</span><span class="p">[</span><span class="n">index</span><span class="p">[</span><span class="n">j</span><span class="p">]]</span><span class="o">*</span><span class="n">primes</span><span class="p">[</span><span class="n">j</span><span class="p">]);</span>  
    <span class="p">}</span>  
    <span class="k">return</span> <span class="n">res</span><span class="p">[</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">];</span>  
<span class="p">}</span>  
<span class="p">};</span>  
</code></pre></td></tr></table>
</div>
</div>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="/tags/math/">Math</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2021 <a href="/">Forz Blog</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)">
    <button class="top-link" id="top-link" type="button" accesskey="g">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
            <path d="M12 6H0l6-6z" />
        </svg>
    </button>
</a>

<script>
    let menu = document.getElementById('menu')
    menu.scrollLeft = localStorage.getItem("menu-scroll-position");
    menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
