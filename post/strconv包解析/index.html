<!DOCTYPE html>
<html lang="zh-cn" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>strconv包解析 | Forz Blog</title>
<meta name="keywords" content="Go标准库" />
<meta name="description" content="Constants const IntSize = intSize IntSize是int或uint类型的字位数。 Variables var ErrRange = errors.New(&quot;value out of range&quot;) ErrRange表示超出目标类型表示范围。 var ErrSyntax = errors.New(&quot;invalid syntax&quot;) ErrSynta">
<meta name="author" content="">
<link rel="canonical" href="/post/strconv%E5%8C%85%E8%A7%A3%E6%9E%90/" />
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.00d5d4fc479b1575183ee8d86b4fb372ba9d9b1904e96fa8e4c40ff7debe2b94.css" integrity="sha256-ANXU/EebFXUYPujYa0&#43;zcrqdmxkE6W&#43;o5MQP996&#43;K5Q=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js" integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5&#43;kdJvBz5iKbt6B5PJI="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
<link rel="mask-icon" href="/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<meta name="generator" content="Hugo 0.87.0" />
<meta property="og:title" content="strconv包解析" />
<meta property="og:description" content="Constants const IntSize = intSize IntSize是int或uint类型的字位数。 Variables var ErrRange = errors.New(&quot;value out of range&quot;) ErrRange表示超出目标类型表示范围。 var ErrSyntax = errors.New(&quot;invalid syntax&quot;) ErrSynta" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/post/strconv%E5%8C%85%E8%A7%A3%E6%9E%90/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2018-11-15T18:44:53&#43;00:00" />
<meta property="article:modified_time" content="2018-11-15T18:44:53&#43;00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="strconv包解析"/>
<meta name="twitter:description" content="Constants const IntSize = intSize IntSize是int或uint类型的字位数。 Variables var ErrRange = errors.New(&quot;value out of range&quot;) ErrRange表示超出目标类型表示范围。 var ErrSyntax = errors.New(&quot;invalid syntax&quot;) ErrSynta"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "/post/"
    }
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "strconv包解析",
      "item": "/post/strconv%E5%8C%85%E8%A7%A3%E6%9E%90/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "strconv包解析",
  "name": "strconv包解析",
  "description": "Constants const IntSize = intSize IntSize是int或uint类型的字位数。 Variables var ErrRange = errors.New(\u0026quot;value out of range\u0026quot;) ErrRange表示超出目标类型表示范围。 var ErrSyntax = errors.New(\u0026quot;invalid syntax\u0026quot;) ErrSynta",
  "keywords": [
    "Go标准库"
  ],
  "articleBody": "Constants const IntSize = intSize  IntSize是int或uint类型的字位数。\nVariables var ErrRange = errors.New(\"value out of range\")  ErrRange表示超出目标类型表示范围。\nvar ErrSyntax = errors.New(\"invalid syntax\")  ErrSyntax表示不符合目标类型语法。\ntype NumError 1 2 3 4 5  type NumError struct { Func string // 失败的函数（ParseBool、ParseInt、ParseUint、ParseFloat）  Num string // 输入的字符串  Err error // 失败的原因（ErrRange、ErrSyntax） }   NumError表示一次失败的转换。\nfunc (*NumError) Error func (e *NumError) Error() string  func IsPrint func IsPrint(r rune) bool  返回一个字符是否是可打印的，和unicode.IsPrint一样，r必须是：字母（广义）、数字、标点、符号、ASCII空格。\nfunc CanBackquote func CanBackquote(s string) bool  返回字符串s是否可以不被修改的表示为一个单行的、没有空格和tab之外控制字符的反引号字符串。\nfunc Quote func Quote(s string) string  返回字符串s在go语法下的双引号字面值表示，控制字符、不可打印字符会进行转义。（如\\t，\\n，\\xFF，\\u0100）\nfunc QuoteToASCII func QuoteToASCII(s string) string  返回字符串s在go语法下的双引号字面值表示，控制字符和不可打印字符、非ASCII字符会进行转义。\nfunc QuoteRune func QuoteRune(r rune) string  返回字符r在go语法下的单引号字面值表示，控制字符、不可打印字符会进行转义。（如\\t，\\n，\\xFF，\\u0100）\nfunc QuoteRuneToASCII func QuoteRuneToASCII(r rune) string  返回字符r在go语法下的单引号字面值表示，控制字符、不可打印字符、非ASCII字符会进行转义。\nfunc Unquote func Unquote(s string) (t string, err error)  函数假设s是一个单引号、双引号、反引号包围的go语法字符串，解析它并返回它表示的值。（如果是单引号括起来的，函数会认为s是go字符字面值，返回一个单字符的字符串）\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21  Example test := func(s string) { t, err := strconv.Unquote(s) if err != nil { fmt.Printf(\"Unquote(%#v): %v\\n\", s, err) } else { fmt.Printf(\"Unquote(%#v) = %v\\n\", s, t) } } s := `cafe\\u0301` // If the string doesn't have quotes, it can't be unquoted. test(s) // invalid syntax test(\"`\" + s + \"`\") test(`\"` + s + `\"`) test(`'\\u00e9'`) Output: Unquote(\"cafe\\\\u0301\"): invalid syntax Unquote(\"`cafe\\\\u0301`\") = cafe\\u0301 Unquote(\"\\\"cafe\\\\u0301\\\"\") = café Unquote(\"'\\\\u00e9'\") = é   func UnquoteChar func UnquoteChar(s string, quote byte) (value rune, multibyte bool, tail string, err error)  函数假设s是一个表示字符的go语法字符串，解析它并返回四个值：\n1 2 3 4  1) value，表示一个rune值或者一个byte值 2) multibyte，表示value是否是一个多字节的utf-8字符 3) tail，表示字符串剩余的部分 4) err，表示可能存在的语法错误   quote参数为单引号时，函数认为单引号是语法字符，不接受未转义的单引号；双引号时，函数认为双引号是语法字符，不接受未转义的双引号；如果是零值，函数把单引号和双引号当成普通字符。\nfunc ParseBool func ParseBool(str string) (value bool, err error)  返回字符串表示的bool值。它接受1、0、t、f、T、F、true、false、True、False、TRUE、FALSE；否则返回错误。\nfunc ParseInt func ParseInt(s string, base int, bitSize int) (i int64, err error)  返回字符串表示的整数值，接受正负号。\nbase指定进制（2到36），如果base为0，则会从字符串前置判断，“0x\"是16进制，“0\"是8进制，否则是10进制；\nbitSize指定结果必须能无溢出赋值的整数类型，0、8、16、32、64 分别代表 int、int8、int16、int32、int64；返回的err是*NumErr类型的，如果语法有误，err.Error = ErrSyntax；如果结果超出类型范围err.Error = ErrRange。\nfunc ParseUint func ParseUint(s string, base int, bitSize int) (n uint64, err error)  ParseUint类似ParseInt但不接受正负号，用于无符号整型。\nfunc ParseFloat func ParseFloat(s string, bitSize int) (f float64, err error)  解析一个表示浮点数的字符串并返回其值。\n如果s合乎语法规则，函数会返回最为接近s表示值的一个浮点数（使用IEEE754规范舍入）。bitSize指定了期望的接收类型，32是float32（返回值可以不改变精确值的赋值给float32），64是float64；返回值err是*NumErr类型的，语法有误的，err.Error=ErrSyntax；结果超出表示范围的，返回值f为±Inf，err.Error= ErrRange。\nfunc FormatBool func FormatBool(b bool) string  根据b的值返回\"true\"或\"false”。\nfunc FormatInt func FormatInt(i int64, base int) string  返回i的base进制的字符串表示。base 必须在2到36之间，结果中会使用小写字母’a’到’z’表示大于10的数字。\nfunc FormatUint func FormatUint(i uint64, base int) string  是FormatInt的无符号整数版本。\nfunc FormatFloat func FormatFloat(f float64, fmt byte, prec, bitSize int) string  函数将浮点数表示为字符串并返回。\nbitSize表示f的来源类型（32：float32、64：float64），会据此进行舍入。\nfmt表示格式：‘f’（-ddd.dddd）、‘b’（-ddddp±ddd，指数为二进制）、‘e’（-d.dddde±dd，十进制指数）、‘E’（-d.ddddE±dd，十进制指数）、‘g’（指数很大时用’e’格式，否则’f’格式）、‘G’（指数很大时用’E’格式，否则’f’格式）。\nprec控制精度（排除指数部分）：对’f'、‘e’、‘E’，它表示小数点后的数字个数；对’g'、‘G’，它控制总的数字个数。如果prec 为-1，则代表使用最少数量的、但又必需的数字来表示f。\nfunc Atoi func Atoi(s string) (i int, err error)  Atoi是ParseInt(s, 10, 0)的简写。\nfunc Itoa func Itoa(i int) string  Itoa是FormatInt(i, 10) 的简写。\nfunc AppendBool func AppendBool(dst []byte, b bool) []byte  等价于append(dst, FormatBool(b)…)\nfunc AppendInt func AppendInt(dst []byte, i int64, base int) []byte  等价于append(dst, FormatInt(I, base)…)\nfunc AppendUint func AppendUint(dst []byte, i uint64, base int) []byte  等价于append(dst, FormatUint(I, base)…)\nfunc AppendFloat func AppendFloat(dst []byte, f float64, fmt byte, prec int, bitSize int) []byte  等价于append(dst, FormatFloat(f, fmt, prec, bitSize)…)\nfunc AppendQuote func AppendQuote(dst []byte, s string) []byte  等价于append(dst, Quote(s)…)\nfunc AppendQuoteToASCII func AppendQuoteToASCII(dst []byte, s string) []byte  等价于append(dst, QuoteToASCII(s)…)\nfunc AppendQuoteRune func AppendQuoteRune(dst []byte, r rune) []byte  等价于append(dst, QuoteRune(r)…)\nfunc AppendQuoteRuneToASCII func AppendQuoteRuneToASCII(dst []byte, r rune) []byte  等价于append(dst, QuoteRuneToASCII(r)…)\n",
  "wordCount" : "2486",
  "inLanguage": "zh-cn",
  "datePublished": "2018-11-15T18:44:53Z",
  "dateModified": "2018-11-15T18:44:53Z",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "/post/strconv%E5%8C%85%E8%A7%A3%E6%9E%90/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Forz Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>
<noscript>
    <style type="text/css">
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: #1d1e20;
                --entry: #2e2e33;
                --primary: rgba(255, 255, 255, 0.84);
                --secondary: rgba(255, 255, 255, 0.56);
                --tertiary: rgba(255, 255, 255, 0.16);
                --content: rgba(255, 255, 255, 0.74);
                --hljs-bg: #2e2e33;
                --code-bg: #37383e;
                --border: #333;
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="/" accesskey="h" title="Forz Blog (Alt + H)">Forz Blog</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="/" title="Home">
                    <span>Home</span>
                </a>
            </li>
            <li>
                <a href="/post/" title="Archives">
                    <span>Archives</span>
                </a>
            </li>
            <li>
                <a href="/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="/categories/" title="Categories">
                    <span>Categories</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      strconv包解析
    </h1>
    <div class="post-meta">November 15, 2018
</div>
  </header> 
  <div class="post-content"><h1 id="constants">Constants<a hidden class="anchor" aria-hidden="true" href="#constants">#</a></h1>
<pre><code>const IntSize = intSize
</code></pre>
<p>IntSize是int或uint类型的字位数。</p>
<h1 id="variables">Variables<a hidden class="anchor" aria-hidden="true" href="#variables">#</a></h1>
<pre><code>var ErrRange = errors.New(&quot;value out of range&quot;)
</code></pre>
<p>ErrRange表示超出目标类型表示范围。</p>
<pre><code>var ErrSyntax = errors.New(&quot;invalid syntax&quot;)
</code></pre>
<p>ErrSyntax表示不符合目标类型语法。</p>
<h1 id="type-numerror">type NumError<a hidden class="anchor" aria-hidden="true" href="#type-numerror">#</a></h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">type</span> <span class="nx">NumError</span> <span class="kd">struct</span> <span class="p">{</span>
    <span class="nx">Func</span> <span class="kt">string</span> <span class="c1">// 失败的函数（ParseBool、ParseInt、ParseUint、ParseFloat）
</span><span class="c1"></span>    <span class="nx">Num</span>  <span class="kt">string</span> <span class="c1">// 输入的字符串
</span><span class="c1"></span>    <span class="nx">Err</span>  <span class="kt">error</span>  <span class="c1">// 失败的原因（ErrRange、ErrSyntax）
</span><span class="c1"></span><span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>NumError表示一次失败的转换。</p>
<h1 id="func-numerror-error">func (*NumError) Error<a hidden class="anchor" aria-hidden="true" href="#func-numerror-error">#</a></h1>
<pre><code>func (e *NumError) Error() string
</code></pre>
<h1 id="func-isprint">func IsPrint<a hidden class="anchor" aria-hidden="true" href="#func-isprint">#</a></h1>
<pre><code>func IsPrint(r rune) bool
</code></pre>
<p>返回一个字符是否是可打印的，和unicode.IsPrint一样，r必须是：字母（广义）、数字、标点、符号、ASCII空格。</p>
<h1 id="func-canbackquote">func CanBackquote<a hidden class="anchor" aria-hidden="true" href="#func-canbackquote">#</a></h1>
<pre><code>func CanBackquote(s string) bool
</code></pre>
<p>返回字符串s是否可以不被修改的表示为一个单行的、没有空格和tab之外控制字符的反引号字符串。</p>
<h1 id="func-quote">func Quote<a hidden class="anchor" aria-hidden="true" href="#func-quote">#</a></h1>
<pre><code>func Quote(s string) string
</code></pre>
<p>返回字符串s在go语法下的双引号字面值表示，控制字符、不可打印字符会进行转义。（如\t，\n，\xFF，\u0100）</p>
<h1 id="func-quotetoascii">func QuoteToASCII<a hidden class="anchor" aria-hidden="true" href="#func-quotetoascii">#</a></h1>
<pre><code>func QuoteToASCII(s string) string
</code></pre>
<p>返回字符串s在go语法下的双引号字面值表示，控制字符和不可打印字符、非ASCII字符会进行转义。</p>
<h1 id="func-quoterune">func QuoteRune<a hidden class="anchor" aria-hidden="true" href="#func-quoterune">#</a></h1>
<pre><code>func QuoteRune(r rune) string
</code></pre>
<p>返回字符r在go语法下的单引号字面值表示，控制字符、不可打印字符会进行转义。（如\t，\n，\xFF，\u0100）</p>
<h1 id="func-quoterunetoascii">func QuoteRuneToASCII<a hidden class="anchor" aria-hidden="true" href="#func-quoterunetoascii">#</a></h1>
<pre><code>func QuoteRuneToASCII(r rune) string
</code></pre>
<p>返回字符r在go语法下的单引号字面值表示，控制字符、不可打印字符、非ASCII字符会进行转义。</p>
<h1 id="func-unquote">func Unquote<a hidden class="anchor" aria-hidden="true" href="#func-unquote">#</a></h1>
<pre><code>func Unquote(s string) (t string, err error)
</code></pre>
<p>函数假设s是一个单引号、双引号、反引号包围的go语法字符串，解析它并返回它表示的值。（如果是单引号括起来的，函数会认为s是go字符字面值，返回一个单字符的字符串）</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="nx">Example</span>
<span class="nx">test</span> <span class="o">:=</span> <span class="kd">func</span><span class="p">(</span><span class="nx">s</span> <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">t</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">strconv</span><span class="p">.</span><span class="nf">Unquote</span><span class="p">(</span><span class="nx">s</span><span class="p">)</span>
    <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;Unquote(%#v): %v\n&#34;</span><span class="p">,</span> <span class="nx">s</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;Unquote(%#v) = %v\n&#34;</span><span class="p">,</span> <span class="nx">s</span><span class="p">,</span> <span class="nx">t</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="nx">s</span> <span class="o">:=</span> <span class="s">`cafe\u0301`</span>
<span class="c1">// If the string doesn&#39;t have quotes, it can&#39;t be unquoted.
</span><span class="c1"></span><span class="nf">test</span><span class="p">(</span><span class="nx">s</span><span class="p">)</span> <span class="c1">// invalid syntax
</span><span class="c1"></span><span class="nf">test</span><span class="p">(</span><span class="s">&#34;`&#34;</span> <span class="o">+</span> <span class="nx">s</span> <span class="o">+</span> <span class="s">&#34;`&#34;</span><span class="p">)</span>
<span class="nf">test</span><span class="p">(</span><span class="s">`&#34;`</span> <span class="o">+</span> <span class="nx">s</span> <span class="o">+</span> <span class="s">`&#34;`</span><span class="p">)</span>
<span class="nf">test</span><span class="p">(</span><span class="s">`&#39;\u00e9&#39;`</span><span class="p">)</span>
<span class="nx">Output</span><span class="p">:</span>

<span class="nf">Unquote</span><span class="p">(</span><span class="s">&#34;cafe\\u0301&#34;</span><span class="p">):</span> <span class="nx">invalid</span> <span class="nx">syntax</span>
<span class="nf">Unquote</span><span class="p">(</span><span class="s">&#34;`cafe\\u0301`&#34;</span><span class="p">)</span> <span class="p">=</span> <span class="nx">cafe</span><span class="err">\</span><span class="nx">u0301</span>
<span class="nf">Unquote</span><span class="p">(</span><span class="s">&#34;\&#34;cafe\\u0301\&#34;&#34;</span><span class="p">)</span> <span class="p">=</span> <span class="nx">café</span>
<span class="nf">Unquote</span><span class="p">(</span><span class="s">&#34;&#39;\\u00e9&#39;&#34;</span><span class="p">)</span> <span class="p">=</span> <span class="nx">é</span>
</code></pre></td></tr></table>
</div>
</div><h1 id="func-unquotechar">func UnquoteChar<a hidden class="anchor" aria-hidden="true" href="#func-unquotechar">#</a></h1>
<pre><code>func UnquoteChar(s string, quote byte) (value rune, multibyte bool, tail string, err error)
</code></pre>
<p>函数假设s是一个表示字符的go语法字符串，解析它并返回四个值：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="mi">1</span><span class="p">)</span> <span class="nx">value</span><span class="err">，</span><span class="nx">表示一个rune值或者一个byte值</span>
<span class="mi">2</span><span class="p">)</span> <span class="nx">multibyte</span><span class="err">，</span><span class="nx">表示value是否是一个多字节的utf</span><span class="o">-</span><span class="mi">8</span><span class="nx">字符</span>
<span class="mi">3</span><span class="p">)</span> <span class="nx">tail</span><span class="err">，</span><span class="nx">表示字符串剩余的部分</span>
<span class="mi">4</span><span class="p">)</span> <span class="nx">err</span><span class="err">，</span><span class="nx">表示可能存在的语法错误</span>
</code></pre></td></tr></table>
</div>
</div><p>quote参数为单引号时，函数认为单引号是语法字符，不接受未转义的单引号；双引号时，函数认为双引号是语法字符，不接受未转义的双引号；如果是零值，函数把单引号和双引号当成普通字符。</p>
<h1 id="func-parsebool">func ParseBool<a hidden class="anchor" aria-hidden="true" href="#func-parsebool">#</a></h1>
<pre><code>func ParseBool(str string) (value bool, err error)
</code></pre>
<p>返回字符串表示的bool值。它接受1、0、t、f、T、F、true、false、True、False、TRUE、FALSE；否则返回错误。</p>
<h1 id="func-parseint">func ParseInt<a hidden class="anchor" aria-hidden="true" href="#func-parseint">#</a></h1>
<pre><code>func ParseInt(s string, base int, bitSize int) (i int64, err error)
</code></pre>
<p>返回字符串表示的整数值，接受正负号。</p>
<p>base指定进制（2到36），如果base为0，则会从字符串前置判断，&ldquo;0x&quot;是16进制，&ldquo;0&quot;是8进制，否则是10进制；</p>
<p>bitSize指定结果必须能无溢出赋值的整数类型，0、8、16、32、64 分别代表 int、int8、int16、int32、int64；返回的err是*NumErr类型的，如果语法有误，err.Error = ErrSyntax；如果结果超出类型范围err.Error = ErrRange。</p>
<h1 id="func-parseuint">func ParseUint<a hidden class="anchor" aria-hidden="true" href="#func-parseuint">#</a></h1>
<pre><code>func ParseUint(s string, base int, bitSize int) (n uint64, err error)
</code></pre>
<p>ParseUint类似ParseInt但不接受正负号，用于无符号整型。</p>
<h1 id="func-parsefloat">func ParseFloat<a hidden class="anchor" aria-hidden="true" href="#func-parsefloat">#</a></h1>
<pre><code>func ParseFloat(s string, bitSize int) (f float64, err error)
</code></pre>
<p>解析一个表示浮点数的字符串并返回其值。</p>
<p>如果s合乎语法规则，函数会返回最为接近s表示值的一个浮点数（使用IEEE754规范舍入）。bitSize指定了期望的接收类型，32是float32（返回值可以不改变精确值的赋值给float32），64是float64；返回值err是*NumErr类型的，语法有误的，err.Error=ErrSyntax；结果超出表示范围的，返回值f为±Inf，err.Error= ErrRange。</p>
<h1 id="func-formatbool">func FormatBool<a hidden class="anchor" aria-hidden="true" href="#func-formatbool">#</a></h1>
<pre><code>func FormatBool(b bool) string
</code></pre>
<p>根据b的值返回&quot;true&quot;或&quot;false&rdquo;。</p>
<h1 id="func-formatint">func FormatInt<a hidden class="anchor" aria-hidden="true" href="#func-formatint">#</a></h1>
<pre><code>func FormatInt(i int64, base int) string
</code></pre>
<p>返回i的base进制的字符串表示。base 必须在2到36之间，结果中会使用小写字母&rsquo;a&rsquo;到&rsquo;z&rsquo;表示大于10的数字。</p>
<h1 id="func-formatuint">func FormatUint<a hidden class="anchor" aria-hidden="true" href="#func-formatuint">#</a></h1>
<pre><code>func FormatUint(i uint64, base int) string
</code></pre>
<p>是FormatInt的无符号整数版本。</p>
<h1 id="func-formatfloat">func FormatFloat<a hidden class="anchor" aria-hidden="true" href="#func-formatfloat">#</a></h1>
<pre><code>func FormatFloat(f float64, fmt byte, prec, bitSize int) string
</code></pre>
<p>函数将浮点数表示为字符串并返回。</p>
<p>bitSize表示f的来源类型（32：float32、64：float64），会据此进行舍入。</p>
<p>fmt表示格式：&lsquo;f&rsquo;（-ddd.dddd）、&lsquo;b&rsquo;（-ddddp±ddd，指数为二进制）、&lsquo;e&rsquo;（-d.dddde±dd，十进制指数）、&lsquo;E&rsquo;（-d.ddddE±dd，十进制指数）、&lsquo;g&rsquo;（指数很大时用&rsquo;e&rsquo;格式，否则&rsquo;f&rsquo;格式）、&lsquo;G&rsquo;（指数很大时用&rsquo;E&rsquo;格式，否则&rsquo;f&rsquo;格式）。</p>
<p>prec控制精度（排除指数部分）：对&rsquo;f'、&lsquo;e&rsquo;、&lsquo;E&rsquo;，它表示小数点后的数字个数；对&rsquo;g'、&lsquo;G&rsquo;，它控制总的数字个数。如果prec 为-1，则代表使用最少数量的、但又必需的数字来表示f。</p>
<h1 id="func-atoi">func Atoi<a hidden class="anchor" aria-hidden="true" href="#func-atoi">#</a></h1>
<pre><code>func Atoi(s string) (i int, err error)
</code></pre>
<p>Atoi是ParseInt(s, 10, 0)的简写。</p>
<h1 id="func-itoa">func Itoa<a hidden class="anchor" aria-hidden="true" href="#func-itoa">#</a></h1>
<pre><code>func Itoa(i int) string
</code></pre>
<p>Itoa是FormatInt(i, 10) 的简写。</p>
<h1 id="func-appendbool">func AppendBool<a hidden class="anchor" aria-hidden="true" href="#func-appendbool">#</a></h1>
<pre><code>func AppendBool(dst []byte, b bool) []byte
</code></pre>
<p>等价于append(dst, FormatBool(b)&hellip;)</p>
<h1 id="func-appendint">func AppendInt<a hidden class="anchor" aria-hidden="true" href="#func-appendint">#</a></h1>
<pre><code>func AppendInt(dst []byte, i int64, base int) []byte
</code></pre>
<p>等价于append(dst, FormatInt(I, base)&hellip;)</p>
<h1 id="func-appenduint">func AppendUint<a hidden class="anchor" aria-hidden="true" href="#func-appenduint">#</a></h1>
<pre><code>func AppendUint(dst []byte, i uint64, base int) []byte
</code></pre>
<p>等价于append(dst, FormatUint(I, base)&hellip;)</p>
<h1 id="func-appendfloat">func AppendFloat<a hidden class="anchor" aria-hidden="true" href="#func-appendfloat">#</a></h1>
<pre><code>func AppendFloat(dst []byte, f float64, fmt byte, prec int, bitSize int) []byte
</code></pre>
<p>等价于append(dst, FormatFloat(f, fmt, prec, bitSize)&hellip;)</p>
<h1 id="func-appendquote">func AppendQuote<a hidden class="anchor" aria-hidden="true" href="#func-appendquote">#</a></h1>
<pre><code>func AppendQuote(dst []byte, s string) []byte
</code></pre>
<p>等价于append(dst, Quote(s)&hellip;)</p>
<h1 id="func-appendquotetoascii">func AppendQuoteToASCII<a hidden class="anchor" aria-hidden="true" href="#func-appendquotetoascii">#</a></h1>
<pre><code>func AppendQuoteToASCII(dst []byte, s string) []byte
</code></pre>
<p>等价于append(dst, QuoteToASCII(s)&hellip;)</p>
<h1 id="func-appendquoterune">func AppendQuoteRune<a hidden class="anchor" aria-hidden="true" href="#func-appendquoterune">#</a></h1>
<pre><code>func AppendQuoteRune(dst []byte, r rune) []byte
</code></pre>
<p>等价于append(dst, QuoteRune(r)&hellip;)</p>
<h1 id="func-appendquoterunetoascii">func AppendQuoteRuneToASCII<a hidden class="anchor" aria-hidden="true" href="#func-appendquoterunetoascii">#</a></h1>
<pre><code>func AppendQuoteRuneToASCII(dst []byte, r rune) []byte
</code></pre>
<p>等价于append(dst, QuoteRuneToASCII(r)&hellip;)</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="/tags/go%E6%A0%87%E5%87%86%E5%BA%93/">Go标准库</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2021 <a href="/">Forz Blog</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)">
    <button class="top-link" id="top-link" type="button" accesskey="g">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
            <path d="M12 6H0l6-6z" />
        </svg>
    </button>
</a>

<script>
    let menu = document.getElementById('menu')
    menu.scrollLeft = localStorage.getItem("menu-scroll-position");
    menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
