<!DOCTYPE html>
<html lang="zh-cn" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>printf()输出格式控制 | Forz Blog</title>
<meta name="keywords" content="" />
<meta name="description" content="格式化 格式化字符串 格式化整型数值 格式化浮点值（普通计数法） 格式化浮点值（科学计数法） 补充：E是exponent,表示以10为底的指数 prin">
<meta name="author" content="">
<link rel="canonical" href="/post/printf-%E8%BE%93%E5%87%BA%E6%A0%BC%E5%BC%8F%E6%8E%A7%E5%88%B6/" />
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.00d5d4fc479b1575183ee8d86b4fb372ba9d9b1904e96fa8e4c40ff7debe2b94.css" integrity="sha256-ANXU/EebFXUYPujYa0&#43;zcrqdmxkE6W&#43;o5MQP996&#43;K5Q=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js" integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5&#43;kdJvBz5iKbt6B5PJI="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
<link rel="mask-icon" href="/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<meta name="generator" content="Hugo 0.87.0" />
<meta property="og:title" content="printf()输出格式控制" />
<meta property="og:description" content="格式化 格式化字符串 格式化整型数值 格式化浮点值（普通计数法） 格式化浮点值（科学计数法） 补充：E是exponent,表示以10为底的指数 prin" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/post/printf-%E8%BE%93%E5%87%BA%E6%A0%BC%E5%BC%8F%E6%8E%A7%E5%88%B6/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2017-06-23T20:46:36&#43;00:00" />
<meta property="article:modified_time" content="2017-06-23T20:46:36&#43;00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="printf()输出格式控制"/>
<meta name="twitter:description" content="格式化 格式化字符串 格式化整型数值 格式化浮点值（普通计数法） 格式化浮点值（科学计数法） 补充：E是exponent,表示以10为底的指数 prin"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "/post/"
    }
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "printf()输出格式控制",
      "item": "/post/printf-%E8%BE%93%E5%87%BA%E6%A0%BC%E5%BC%8F%E6%8E%A7%E5%88%B6/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "printf()输出格式控制",
  "name": "printf()输出格式控制",
  "description": "格式化 格式化字符串 格式化整型数值 格式化浮点值（普通计数法） 格式化浮点值（科学计数法） 补充：E是exponent,表示以10为底的指数 prin",
  "keywords": [
    
  ],
  "articleBody": "格式化 格式化字符串 格式化整型数值 格式化浮点值（普通计数法） 格式化浮点值（科学计数法） 补充：E是exponent,表示以10为底的指数\nprintf()格式转换的一般形式如下\n%[flags][width][.perc] [F|N|h|l]type  以中括号括起来的参数为选择性参数，而%与type则是必要的。\ntype 整数 %d 整数的参数会被转成一有符号的十进制数字\n%i 有符号十进制数（与％d相同）\n%u 整数的参数会被转成一无符号的十进制数字\n%o 整数的参数会被转成一无符号的八进制数字\n%x 整数的参数会被转成一无符号的十六进制数字，并以小写abcdef表示\n%X 整数的参数会被转成一无符号的十六进制数字，并以大写ABCDEF表示浮点型数\n%I64d 用于INT64 或者 long long\n%I64u 用于UINT64 或者 unsigned long long\n%I64x 用于64位16进制数据\n浮点数 %f double 型的参数会被转成十进制数字，并取到小数点以下六位，四舍五入。\n%e double型的参数以指数形式打印，有一个数字会在小数点前，六位数字在小数点后，而在指数部分会以小写的e来表示。\n%E 与%e作用相同，唯一区别是指数部分将以大写的E 来表示。\n%g double 型的参数会自动选择以%f 或%e 的格式来打印，其标准是根据欲打印的数值及所设置的有效位数来决定。\n%G 与%g 作用相同，唯一区别在以指数形态打印时会选择%E 格式。\n字符及字符串 %c 整型数的参数会被转成unsigned char型打印出。\n%s 指向字符串的参数会被逐字输出，直到出现NULL字符为止\n%p 如果是参数是“void *”型指针则使用十六进制格式显示。\n.prec 正整数的最小位数。\n在浮点型数中代表小数位数\n在%g 格式代表有效位数的最大值。\n在%s格式代表字符串的最大长度。\n若为×符号则代表下个参数值为最大长度。\nwidth width为参数的最小长度，若此栏并非数值，而是*符号，则表示以下一个参数当做参数长度。\nflags flags 有下列几种情况\n  + 一般在打印负数时，printf（）会加印一个负号，整数则不加任何负号。此旗标会使得在打印正数前多一个正号（+）。\n  # 此旗标会根据其后转换字符的不同而有不同含义。当在类型为o 之前（如%#o），则会在打印八进制数值前多印一个o。而在类型为x 之前（%#x）则会在打印十六进制数前多印’0x’，在型态为e、E、f、g或G 之前则会强迫数值打印小数点。在类型为g 或G之前时则同时保留小数点及小数位数末尾的零。\n  0 当有指定参数时，无数字的参数将补上0。默认是关闭此旗标，所以一般会打印出空白字符。\n  格式控制的完整格式 % - 0 m.n l或h 格式字符\n下面对组成格式说明的各项加以说明：\n%：表示格式说明的起始符号，不可缺少。\n-：有-表示左对齐输出，如省略表示右对齐输出。\n0：有0表示指定空位填0,如省略表示指定空位不填。\nm.n：m指域宽，即对应的输出项在输出设备上所占的字符数。N指精度。用于说明输出的实型数的小数位数。为指定n时，隐含的精度为n=6位。\nl或h:l对整型指long型，对实型指double型。h用于将整型的格式字符修正为short型。\n详细说明 格式字符用以指定输出项的数据类型和输出格式。\nd格式 用来输出十进制整数。有以下几种用法：\n%d：按整型数据的实际长度输出。\n%md：m为指定的输出字段的宽度。如果数据的位数小于m，则左端补以空格，若大于m，则按实际位数输出。\n%ld：输出长整型数据。\no格式 以无符号八进制形式输出整数。对长整型可以用”%lo”格式输出。同样也可以指定字段宽度用“%mo”格式输出。 例：\nmain() { int a = -1; printf(\"%d, %o\", a, a); }  运行结果：-1,177777\n程序解析：-1在内存单元中（以补码形式存放）为(1111111111111111)2，转换为八进制数为(177777)8。\nx格式 以无符号十六进制形式输出整数。对长整型可以用”%lx”格式输出。同样也可以指定字段宽度用”%mx”格式输出。\nu格式 以无符号十进制形式输出整数。对长整型可以用”%lu”格式输出。同样也可以指定字段宽度用“%mu”格式输出。\nc格式 输出一个字符。\ns格式 用来输出一个串。有几种用法\n%s：例如:printf(“%s”, “CHINA”)输出”CHINA”字符串（不包括双引号）。\n%ms：输出的字符串占m列，如字符串本身长度大于m，则突破获m的限制,将字符串全部输出。若串长小于m，则左补空格。\n%-ms：如果串长小于m，则在m列范围内，字符串向左靠，右补空格。\n%m.ns：输出占m列，但只取字符串中左端n个字符。这n个字符输出在m列的右侧，左补空格。\n%-m.ns：其中m、n含义同上，n个字符输出在m列范围的左侧，右补空格。如果nm，则自动取n值，即保证n个字符正常输出。\nf格式 用来输出实数（包括单、双精度），以小数形式输出。有以下几种用法：\n%f：不指定宽度，整数部分全部输出并输出6位小数。\n%m.nf：输出共占m列，其中有n位小数，如数值宽度小于m左端补空格。\n%-m.nf：输出共占n列，其中有n位小数，如数值宽度小于m右端补空格。\ne格式 以指数形式输出实数。可用以下形式：\n%e：数字部分（又称尾数）输出6位小数，指数部分占5位或4位。\n%m.ne和%-m.ne：m、n和”-”字符含义与前相同。此处n指数据的数字部分的小数位数，m表示整个输出数据所占的宽度。\ng格式 自动选f格式或e格式中较短的一种输出，且不输出无意义的零。\n补充 输出字符”%” 如果想输出字符”%”,则应该在“格式控制”字符串中用连续两个%表示，如:\nprintf(\"%f%%\", 1.0/3);  输出0.333333%。\nprintf在解释第一个参数字符串的时候，遇到%和\\，不会直接输出，而会根据后面的字符，当作转义字符处理。解释到第一个%的时候，函数不会输出%而是看后面的字符是什么，如果读到第二个%才，输出%。\n因为\\是用来转义字符的，%是用来表示格式说明的，这两者是在不同的层次上。\n在代码里写\\n是两个字符\\和n，在程序运行时，其实就是回车这一个字符，所有的地方都认为它是一个字符。\n而在代码里写%%，在运行的时候还是%%这两个字符，只是printf这个函数会认识这两个字符。因为在printf中，%有特殊的含义，所以才有这种写法。而没有%这么一个字符存在\n%lf和%f 对于单精度数，使用%f格式符输出时，仅前7位是有效数字，小数6位．\n对于双精度数，使用%lf格式符输出时，前16位是有效数字，小数6位．\nm.n的格式的新表示方法\nchar ch[20]; printf(\"%*.*s/n\",m,n,ch);  前边的*定义的是总的宽度，后边的定义的是输出的个数。分别对应外面的参数m和n 。\n这种方法的好处是可以在语句之外对参数m和n赋值，从而控制输出格式。\n%p与%x的转换 格式控制符“%p”中的p是pointer（指针）的缩写。指针的值是语言实现（编译程序）相关的，但几乎所有实现中，指针的值都是一个表示地址空间中某个存储器单元的整数。printf函数族中对于%p一般以十六进制整数方式输出指针的值，附加前缀0x。\n示例：\nint i = 1; printf(\"%p\",\u0026i);  相当于\nint i = 1; printf(\"0x%x\",\u0026i);  对于32位的指针，输出一般会是类似0xf0001234之类的结果。\n%p存在的理由除了附加前缀输出的便利性以外，指针的大小是不确定的，由实现决定。根据地址空间的大小，一般有16位、32位、64位的指针。\n尽管目前32位平台上的指针一般全是32位的，但旧的一些平台上可能有多种长度的指针（例如非标准的near、far、huge修饰的pointer）混用，无法用%x、%lx、%hx、%llx（对应int、long、short、long long）中的任意一种保证能输出所有类型的指针。\n参考：http://blog.csdn.net/TrueLie/article/details/1692942\n",
  "wordCount" : "3037",
  "inLanguage": "zh-cn",
  "datePublished": "2017-06-23T20:46:36Z",
  "dateModified": "2017-06-23T20:46:36Z",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "/post/printf-%E8%BE%93%E5%87%BA%E6%A0%BC%E5%BC%8F%E6%8E%A7%E5%88%B6/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Forz Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>
<noscript>
    <style type="text/css">
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: #1d1e20;
                --entry: #2e2e33;
                --primary: rgba(255, 255, 255, 0.84);
                --secondary: rgba(255, 255, 255, 0.56);
                --tertiary: rgba(255, 255, 255, 0.16);
                --content: rgba(255, 255, 255, 0.74);
                --hljs-bg: #2e2e33;
                --code-bg: #37383e;
                --border: #333;
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="/" accesskey="h" title="Forz Blog (Alt + H)">Forz Blog</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="/" title="Home">
                    <span>Home</span>
                </a>
            </li>
            <li>
                <a href="/post/" title="Archives">
                    <span>Archives</span>
                </a>
            </li>
            <li>
                <a href="/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="/categories/" title="Categories">
                    <span>Categories</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      printf()输出格式控制
    </h1>
    <div class="post-meta">June 23, 2017
</div>
  </header> 
  <div class="post-content"><h1 id="格式化">格式化<a hidden class="anchor" aria-hidden="true" href="#格式化">#</a></h1>
<h2 id="格式化字符串">格式化字符串<a hidden class="anchor" aria-hidden="true" href="#格式化字符串">#</a></h2>
<p><img loading="lazy" src="https://blog-1257321977.cos.ap-beijing.myqcloud.com/QQ%E6%88%AA%E5%9B%BE20170401152666.png" alt=""  />
</p>
<h2 id="格式化整型数值">格式化整型数值<a hidden class="anchor" aria-hidden="true" href="#格式化整型数值">#</a></h2>
<p><img loading="lazy" src="https://blog-1257321977.cos.ap-beijing.myqcloud.com/QQ%E6%88%AA%E5%9B%BE20170401152611.png" alt=""  />
</p>
<h2 id="格式化浮点值普通计数法">格式化浮点值（普通计数法）<a hidden class="anchor" aria-hidden="true" href="#格式化浮点值普通计数法">#</a></h2>
<p><img loading="lazy" src="https://blog-1257321977.cos.ap-beijing.myqcloud.com/QQ%E6%88%AA%E5%9B%BE20170401152643.png" alt=""  />
</p>
<h2 id="格式化浮点值科学计数法">格式化浮点值（科学计数法）<a hidden class="anchor" aria-hidden="true" href="#格式化浮点值科学计数法">#</a></h2>
<p><img loading="lazy" src="https://blog-1257321977.cos.ap-beijing.myqcloud.com/QQ%E6%88%AA%E5%9B%BE20170401152653.png" alt=""  />
</p>
<p>补充：E是exponent,表示以10为底的指数</p>
<p>printf()格式转换的一般形式如下</p>
<pre><code>%[flags][width][.perc] [F|N|h|l]type
</code></pre>
<p>以中括号括起来的参数为选择性参数，而%与type则是必要的。</p>
<h1 id="type">type<a hidden class="anchor" aria-hidden="true" href="#type">#</a></h1>
<h2 id="整数">整数<a hidden class="anchor" aria-hidden="true" href="#整数">#</a></h2>
<p>%d 整数的参数会被转成一有符号的十进制数字</p>
<p>%i 有符号十进制数（与％d相同）</p>
<p>%u 整数的参数会被转成一无符号的十进制数字</p>
<p>%o 整数的参数会被转成一无符号的八进制数字</p>
<p>%x 整数的参数会被转成一无符号的十六进制数字，并以小写abcdef表示</p>
<p>%X 整数的参数会被转成一无符号的十六进制数字，并以大写ABCDEF表示浮点型数</p>
<p>%I64d 用于INT64 或者 long long</p>
<p>%I64u 用于UINT64 或者 unsigned long long</p>
<p>%I64x 用于64位16进制数据</p>
<h2 id="浮点数">浮点数<a hidden class="anchor" aria-hidden="true" href="#浮点数">#</a></h2>
<p>%f double 型的参数会被转成十进制数字，并取到小数点以下六位，四舍五入。</p>
<p>%e double型的参数以指数形式打印，有一个数字会在小数点前，六位数字在小数点后，而在指数部分会以小写的e来表示。</p>
<p>%E 与%e作用相同，唯一区别是指数部分将以大写的E 来表示。</p>
<p>%g double 型的参数会自动选择以%f 或%e 的格式来打印，其标准是根据欲打印的数值及所设置的有效位数来决定。</p>
<p>%G 与%g 作用相同，唯一区别在以指数形态打印时会选择%E 格式。</p>
<h2 id="字符及字符串">字符及字符串<a hidden class="anchor" aria-hidden="true" href="#字符及字符串">#</a></h2>
<p>%c 整型数的参数会被转成unsigned char型打印出。</p>
<p>%s 指向字符串的参数会被逐字输出，直到出现NULL字符为止</p>
<p>%p 如果是参数是“void *”型指针则使用十六进制格式显示。</p>
<h2 id="prec">.prec<a hidden class="anchor" aria-hidden="true" href="#prec">#</a></h2>
<p>正整数的最小位数。</p>
<p>在浮点型数中代表小数位数</p>
<p>在%g 格式代表有效位数的最大值。</p>
<p>在%s格式代表字符串的最大长度。</p>
<p>若为×符号则代表下个参数值为最大长度。</p>
<h2 id="width">width<a hidden class="anchor" aria-hidden="true" href="#width">#</a></h2>
<p>width为参数的最小长度，若此栏并非数值，而是*符号，则表示以下一个参数当做参数长度。</p>
<h2 id="flags">flags<a hidden class="anchor" aria-hidden="true" href="#flags">#</a></h2>
<p>flags 有下列几种情况</p>
<ol>
<li>
<p>+ 一般在打印负数时，printf（）会加印一个负号，整数则不加任何负号。此旗标会使得在打印正数前多一个正号（+）。</p>
</li>
<li>
<p># 此旗标会根据其后转换字符的不同而有不同含义。当在类型为o 之前（如%#o），则会在打印八进制数值前多印一个o。而在类型为x 之前（%#x）则会在打印十六进制数前多印’0x’，在型态为e、E、f、g或G 之前则会强迫数值打印小数点。在类型为g 或G之前时则同时保留小数点及小数位数末尾的零。</p>
</li>
<li>
<p>0 当有指定参数时，无数字的参数将补上0。默认是关闭此旗标，所以一般会打印出空白字符。</p>
</li>
</ol>
<h2 id="格式控制的完整格式">格式控制的完整格式<a hidden class="anchor" aria-hidden="true" href="#格式控制的完整格式">#</a></h2>
<p>% - 0 m.n l或h 格式字符</p>
<p>下面对组成格式说明的各项加以说明：</p>
<p>%：表示格式说明的起始符号，不可缺少。</p>
<p>-：有-表示左对齐输出，如省略表示右对齐输出。</p>
<p>0：有0表示指定空位填0,如省略表示指定空位不填。</p>
<p>m.n：m指域宽，即对应的输出项在输出设备上所占的字符数。N指精度。用于说明输出的实型数的小数位数。为指定n时，隐含的精度为n=6位。</p>
<p>l或h:l对整型指long型，对实型指double型。h用于将整型的格式字符修正为short型。</p>
<h2 id="详细说明">详细说明<a hidden class="anchor" aria-hidden="true" href="#详细说明">#</a></h2>
<p>格式字符用以指定输出项的数据类型和输出格式。</p>
<h3 id="d格式">d格式<a hidden class="anchor" aria-hidden="true" href="#d格式">#</a></h3>
<p>用来输出十进制整数。有以下几种用法：</p>
<p>%d：按整型数据的实际长度输出。</p>
<p>%md：m为指定的输出字段的宽度。如果数据的位数小于m，则左端补以空格，若大于m，则按实际位数输出。</p>
<p>%ld：输出长整型数据。</p>
<h3 id="o格式">o格式<a hidden class="anchor" aria-hidden="true" href="#o格式">#</a></h3>
<p>以无符号八进制形式输出整数。对长整型可以用”%lo”格式输出。同样也可以指定字段宽度用“%mo”格式输出。
例：</p>
<pre><code>main()
{ int a = -1;
  printf(&quot;%d, %o&quot;, a, a);
}
</code></pre>
<p>运行结果：-1,177777</p>
<p>程序解析：-1在内存单元中（以补码形式存放）为(1111111111111111)2，转换为八进制数为(177777)8。</p>
<h3 id="x格式">x格式<a hidden class="anchor" aria-hidden="true" href="#x格式">#</a></h3>
<p>以无符号十六进制形式输出整数。对长整型可以用”%lx”格式输出。同样也可以指定字段宽度用”%mx”格式输出。</p>
<h3 id="u格式">u格式<a hidden class="anchor" aria-hidden="true" href="#u格式">#</a></h3>
<p>以无符号十进制形式输出整数。对长整型可以用”%lu”格式输出。同样也可以指定字段宽度用“%mu”格式输出。</p>
<h3 id="c格式">c格式<a hidden class="anchor" aria-hidden="true" href="#c格式">#</a></h3>
<p>输出一个字符。</p>
<h3 id="s格式">s格式<a hidden class="anchor" aria-hidden="true" href="#s格式">#</a></h3>
<p>用来输出一个串。有几种用法</p>
<p>%s：例如:printf(“%s”, “CHINA”)输出”CHINA”字符串（不包括双引号）。</p>
<p>%ms：输出的字符串占m列，如字符串本身长度大于m，则突破获m的限制,将字符串全部输出。若串长小于m，则左补空格。</p>
<p>%-ms：如果串长小于m，则在m列范围内，字符串向左靠，右补空格。</p>
<p>%m.ns：输出占m列，但只取字符串中左端n个字符。这n个字符输出在m列的右侧，左补空格。</p>
<p>%-m.ns：其中m、n含义同上，n个字符输出在m列范围的左侧，右补空格。如果n&gt;m，则自动取n值，即保证n个字符正常输出。</p>
<h3 id="f格式">f格式<a hidden class="anchor" aria-hidden="true" href="#f格式">#</a></h3>
<p>用来输出实数（包括单、双精度），以小数形式输出。有以下几种用法：</p>
<p>%f：不指定宽度，整数部分全部输出并输出6位小数。</p>
<p>%m.nf：输出共占m列，其中有n位小数，如数值宽度小于m左端补空格。</p>
<p>%-m.nf：输出共占n列，其中有n位小数，如数值宽度小于m右端补空格。</p>
<h3 id="e格式">e格式<a hidden class="anchor" aria-hidden="true" href="#e格式">#</a></h3>
<p>以指数形式输出实数。可用以下形式：</p>
<p>%e：数字部分（又称尾数）输出6位小数，指数部分占5位或4位。</p>
<p>%m.ne和%-m.ne：m、n和”-”字符含义与前相同。此处n指数据的数字部分的小数位数，m表示整个输出数据所占的宽度。</p>
<h3 id="g格式">g格式<a hidden class="anchor" aria-hidden="true" href="#g格式">#</a></h3>
<p>自动选f格式或e格式中较短的一种输出，且不输出无意义的零。</p>
<h1 id="补充">补充<a hidden class="anchor" aria-hidden="true" href="#补充">#</a></h1>
<h2 id="输出字符">输出字符”%”<a hidden class="anchor" aria-hidden="true" href="#输出字符">#</a></h2>
<p>如果想输出字符”%”,则应该在“格式控制”字符串中用连续两个%表示，如:</p>
<pre><code>printf(&quot;%f%%&quot;, 1.0/3);
</code></pre>
<p>输出0.333333%。</p>
<p>printf在解释第一个参数字符串的时候，遇到%和\，不会直接输出，而会根据后面的字符，当作转义字符处理。解释到第一个%的时候，函数不会输出%而是看后面的字符是什么，如果读到第二个%才，输出%。</p>
<p>因为\是用来转义字符的，%是用来表示格式说明的，这两者是在不同的层次上。</p>
<p>在代码里写\n是两个字符\和n，在程序运行时，其实就是回车这一个字符，所有的地方都认为它是一个字符。</p>
<p>而在代码里写%%，在运行的时候还是%%这两个字符，只是printf这个函数会认识这两个字符。因为在printf中，%有特殊的含义，所以才有这种写法。而没有%这么一个字符存在</p>
<h2 id="lf和f">%lf和%f<a hidden class="anchor" aria-hidden="true" href="#lf和f">#</a></h2>
<p>对于单精度数，使用%f格式符输出时，仅前7位是有效数字，小数6位．</p>
<p>对于双精度数，使用%lf格式符输出时，前16位是有效数字，小数6位．</p>
<p>m.n的格式的新表示方法</p>
<pre><code>char ch[20];
printf(&quot;%*.*s/n&quot;,m,n,ch);
</code></pre>
<p>前边的*定义的是总的宽度，后边的定义的是输出的个数。分别对应外面的参数m和n 。</p>
<p>这种方法的好处是可以在语句之外对参数m和n赋值，从而控制输出格式。</p>
<h2 id="p与x的转换">%p与%x的转换<a hidden class="anchor" aria-hidden="true" href="#p与x的转换">#</a></h2>
<p>格式控制符“%p”中的p是pointer（指针）的缩写。指针的值是语言实现（编译程序）相关的，但几乎所有实现中，指针的值都是一个表示地址空间中某个存储器单元的整数。printf函数族中对于%p一般以十六进制整数方式输出指针的值，附加前缀0x。</p>
<p>示例：</p>
<pre><code>int i = 1;
printf(&quot;%p&quot;,&amp;i);
</code></pre>
<p>相当于</p>
<pre><code>int i = 1;
printf(&quot;0x%x&quot;,&amp;i);
</code></pre>
<p>对于32位的指针，输出一般会是类似0xf0001234之类的结果。</p>
<p>%p存在的理由除了附加前缀输出的便利性以外，指针的大小是不确定的，由实现决定。根据地址空间的大小，一般有16位、32位、64位的指针。</p>
<p>尽管目前32位平台上的指针一般全是32位的，但旧的一些平台上可能有多种长度的指针（例如非标准的near、far、huge修饰的pointer）混用，无法用%x、%lx、%hx、%llx（对应int、long、short、long long）中的任意一种保证能输出所有类型的指针。</p>
<p>参考：<a href="">http://blog.csdn.net/TrueLie/article/details/1692942</a></p>


  </div>

  <footer class="post-footer">
  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2021 <a href="/">Forz Blog</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)">
    <button class="top-link" id="top-link" type="button" accesskey="g">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
            <path d="M12 6H0l6-6z" />
        </svg>
    </button>
</a>

<script>
    let menu = document.getElementById('menu')
    menu.scrollLeft = localStorage.getItem("menu-scroll-position");
    menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
