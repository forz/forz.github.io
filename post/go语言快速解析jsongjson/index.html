<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Go语言快速解析JSON:gjson - Forz Blog</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="Forz" /><meta name="description" content="前言 GJSON是一个Go包，它提供了一种快速，简单的方法来从json文档中获取值。它具有诸如单行检索，点符号路径，迭代和解析json行之类的" /><meta name="keywords" content="Hugo, theme, even" />






<meta name="generator" content="Hugo 0.92.2 with theme even" />


<link rel="canonical" href="/post/go%E8%AF%AD%E8%A8%80%E5%BF%AB%E9%80%9F%E8%A7%A3%E6%9E%90jsongjson/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.98f8e47918247c097fa26317cbb567fe9f05503485bf08d8547f5579543303b1.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="Go语言快速解析JSON:gjson" />
<meta property="og:description" content="前言 GJSON是一个Go包，它提供了一种快速，简单的方法来从json文档中获取值。它具有诸如单行检索，点符号路径，迭代和解析json行之类的" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/post/go%E8%AF%AD%E8%A8%80%E5%BF%AB%E9%80%9F%E8%A7%A3%E6%9E%90jsongjson/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2019-12-23T19:38:12+00:00" />
<meta property="article:modified_time" content="2019-12-23T19:38:12+00:00" />

<meta itemprop="name" content="Go语言快速解析JSON:gjson">
<meta itemprop="description" content="前言 GJSON是一个Go包，它提供了一种快速，简单的方法来从json文档中获取值。它具有诸如单行检索，点符号路径，迭代和解析json行之类的"><meta itemprop="datePublished" content="2019-12-23T19:38:12+00:00" />
<meta itemprop="dateModified" content="2019-12-23T19:38:12+00:00" />
<meta itemprop="wordCount" content="3566">
<meta itemprop="keywords" content="gjson," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Go语言快速解析JSON:gjson"/>
<meta name="twitter:description" content="前言 GJSON是一个Go包，它提供了一种快速，简单的方法来从json文档中获取值。它具有诸如单行检索，点符号路径，迭代和解析json行之类的"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Forz Blog</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">Forz Blog</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
      <a class="menu-item-link" href="/">Home</a>
    </li><li class="menu-item">
      <a class="menu-item-link" href="/post/">Archives</a>
    </li><li class="menu-item">
      <a class="menu-item-link" href="/tags/">Tags</a>
    </li><li class="menu-item">
      <a class="menu-item-link" href="/categories/">Categories</a>
    </li>
  </ul>
</nav><div class="docsearch-input__container">
  <input type="search" class="docsearch-input" placeholder="Search" />
</div>
    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">Go语言快速解析JSON:gjson</h1>

      <div class="post-meta">
        <span class="post-time"> 2019-12-23 </span>
        <div class="post-category">
            <a href="/categories/go/"> Go </a>
            </div>
          <span class="more-meta"> 约 3566 字 </span>
          <span class="more-meta"> 预计阅读 8 分钟 </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">文章目录</h2>
  <div class="post-toc-content always-active">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#路径结构">路径结构</a></li>
    <li><a href="#举例">举例</a>
      <ul>
        <li><a href="#基本的">基本的</a></li>
        <li><a href="#通配符">通配符</a></li>
        <li><a href="#转义符">转义符</a></li>
        <li><a href="#数组">数组</a></li>
        <li><a href="#查询">查询</a></li>
        <li><a href="#-vs-"><code>.</code> vs <code>|</code></a></li>
        <li><a href="#修饰符">修饰符</a></li>
        <li><a href="#多路径">多路径</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#64位整数">64位整数</a></li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <h1 id="前言">前言</h1>
<p>GJSON是一个Go包，它提供了一种快速，简单的方法来从json文档中获取值。它具有诸如单行检索，点符号路径，迭代和解析json行之类的功能。</p>
<h1 id="获得值">获得值</h1>
<p>获取搜索json以查找指定的路径。路径采用点语法，例如“name.last”或“age”。找到该值后，将立即返回。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="s">&#34;github.com/tidwall/gjson&#34;</span>

<span class="kd">const</span> <span class="nx">json</span> <span class="p">=</span> <span class="s">`{&#34;name&#34;:{&#34;first&#34;:&#34;Janet&#34;,&#34;last&#34;:&#34;Prichard&#34;},&#34;age&#34;:47}`</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">value</span> <span class="o">:=</span> <span class="nx">gjson</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="nx">json</span><span class="p">,</span> <span class="s">&#34;name.last&#34;</span><span class="p">)</span>
	<span class="nb">println</span><span class="p">(</span><span class="nx">value</span><span class="p">.</span><span class="nf">String</span><span class="p">())</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">Prichard
</code></pre></td></tr></table>
</div>
</div><p>还有一个GetMany函数可以一次获取多个值，还有GetBytes用于处理JSON字节片。</p>
<h1 id="gjson路径语法">GJSON路径语法</h1>
<h2 id="路径结构">路径结构</h2>
<p>GJSON Path旨在易于表达为一系列由.字符分隔的组件。</p>
<p>除了<code>.</code>还有一些具有特殊含义，包括几个<code>|</code>，<code>#</code>，<code>@</code>，<code>\</code>，<code>*</code>，和<code>?</code>。</p>
<h2 id="举例">举例</h2>
<p>给定此JSON</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="p">{</span>
  <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="p">{</span><span class="nt">&#34;first&#34;</span><span class="p">:</span> <span class="s2">&#34;Tom&#34;</span><span class="p">,</span> <span class="nt">&#34;last&#34;</span><span class="p">:</span> <span class="s2">&#34;Anderson&#34;</span><span class="p">},</span>
  <span class="nt">&#34;age&#34;</span><span class="p">:</span><span class="mi">37</span><span class="p">,</span>
  <span class="nt">&#34;children&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;Sara&#34;</span><span class="p">,</span><span class="s2">&#34;Alex&#34;</span><span class="p">,</span><span class="s2">&#34;Jack&#34;</span><span class="p">],</span>
  <span class="nt">&#34;fav.movie&#34;</span><span class="p">:</span> <span class="s2">&#34;Deer Hunter&#34;</span><span class="p">,</span>
  <span class="nt">&#34;friends&#34;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span><span class="nt">&#34;first&#34;</span><span class="p">:</span> <span class="s2">&#34;Dale&#34;</span><span class="p">,</span> <span class="nt">&#34;last&#34;</span><span class="p">:</span> <span class="s2">&#34;Murphy&#34;</span><span class="p">,</span> <span class="nt">&#34;age&#34;</span><span class="p">:</span> <span class="mi">44</span><span class="p">,</span> <span class="nt">&#34;nets&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;ig&#34;</span><span class="p">,</span> <span class="s2">&#34;fb&#34;</span><span class="p">,</span> <span class="s2">&#34;tw&#34;</span><span class="p">]},</span>
    <span class="p">{</span><span class="nt">&#34;first&#34;</span><span class="p">:</span> <span class="s2">&#34;Roger&#34;</span><span class="p">,</span> <span class="nt">&#34;last&#34;</span><span class="p">:</span> <span class="s2">&#34;Craig&#34;</span><span class="p">,</span> <span class="nt">&#34;age&#34;</span><span class="p">:</span> <span class="mi">68</span><span class="p">,</span> <span class="nt">&#34;nets&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;fb&#34;</span><span class="p">,</span> <span class="s2">&#34;tw&#34;</span><span class="p">]},</span>
    <span class="p">{</span><span class="nt">&#34;first&#34;</span><span class="p">:</span> <span class="s2">&#34;Jane&#34;</span><span class="p">,</span> <span class="nt">&#34;last&#34;</span><span class="p">:</span> <span class="s2">&#34;Murphy&#34;</span><span class="p">,</span> <span class="nt">&#34;age&#34;</span><span class="p">:</span> <span class="mi">47</span><span class="p">,</span> <span class="nt">&#34;nets&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;ig&#34;</span><span class="p">,</span> <span class="s2">&#34;tw&#34;</span><span class="p">]}</span>
  <span class="p">]</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>以下GJSON路径将评估为随附的值。</p>
<h3 id="基本的">基本的</h3>
<p>在许多情况下，您只想按对象名称或数组索引检索值。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="err">name.last</span>              <span class="s2">&#34;Anderson&#34;</span>
<span class="err">name.first</span>             <span class="s2">&#34;Tom&#34;</span>
<span class="err">age</span>                    <span class="mi">37</span>
<span class="err">children</span>               <span class="p">[</span><span class="s2">&#34;Sara&#34;</span><span class="p">,</span><span class="s2">&#34;Alex&#34;</span><span class="p">,</span><span class="s2">&#34;Jack&#34;</span><span class="p">]</span>
<span class="err">children.</span><span class="mi">0</span>             <span class="s2">&#34;Sara&#34;</span>
<span class="err">children.</span><span class="mi">1</span>             <span class="s2">&#34;Alex&#34;</span>
<span class="err">friends.</span><span class="mi">1</span>              <span class="p">{</span><span class="nt">&#34;first&#34;</span><span class="p">:</span> <span class="s2">&#34;Roger&#34;</span><span class="p">,</span> <span class="nt">&#34;last&#34;</span><span class="p">:</span> <span class="s2">&#34;Craig&#34;</span><span class="p">,</span> <span class="nt">&#34;age&#34;</span><span class="p">:</span> <span class="mi">68</span><span class="p">}</span>
<span class="err">friends.</span><span class="mi">1</span><span class="err">.first</span>        <span class="s2">&#34;Roger&#34;</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="通配符">通配符</h3>
<p>key可能包含特殊的通配符<code>*</code>和<code>?</code>。<code>*</code>匹配任何0个以上的字符字符，<code>?</code>匹配任意一个字符。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="err">child*.</span><span class="mi">2</span>               <span class="s2">&#34;Jack&#34;</span>
<span class="err">c?ildren.</span><span class="mi">0</span>             <span class="s2">&#34;Sara&#34;</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="转义符">转义符</h3>
<p>特殊用途的字符，例如<code>.</code>，<code>*</code>和<code>?</code>可以进行转义<code>\</code>。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="err">fav\.movie</span>             <span class="s2">&#34;Deer Hunter&#34;</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="数组">数组</h3>
<p><code>#</code>字符允许挖掘JSON数组。</p>
<p>要获得数组的长度，可以单独使用<code>#</code>。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="err">friends.#</span>              <span class="mi">3</span>
<span class="err">friends.#.age</span>         <span class="p">[</span><span class="mi">44</span><span class="p">,</span><span class="mi">68</span><span class="p">,</span><span class="mi">47</span><span class="p">]</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="查询">查询</h3>
<p>您也可以使用<code>#(...)</code>来查询数组中的第一个匹配项，或者使用<code>#(...)#</code>查找所有匹配项。查询支持<code>==</code>，<code>!=</code>，<code>&lt;</code>，<code>&lt;=</code>，<code>&gt;</code>，<code>&gt;=</code>比较运算符，和简单模式匹配<code>%</code>（like）和<code>!%</code>（not like）。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="err">friends.#(last==</span><span class="s2">&#34;Murphy&#34;</span><span class="err">).first</span>     <span class="s2">&#34;Dale&#34;</span>
<span class="err">friends.#(last==</span><span class="s2">&#34;Murphy&#34;</span><span class="err">)#.first</span>    <span class="p">[</span><span class="s2">&#34;Dale&#34;</span><span class="p">,</span><span class="s2">&#34;Jane&#34;</span><span class="p">]</span>
<span class="err">friends.#(age&gt;</span><span class="mi">45</span><span class="err">)#.last</span>             <span class="p">[</span><span class="s2">&#34;Craig&#34;</span><span class="p">,</span><span class="s2">&#34;Murphy&#34;</span><span class="p">]</span>
<span class="err">friends.#(first%</span><span class="s2">&#34;D*&#34;</span><span class="err">).last</span>          <span class="s2">&#34;Murphy&#34;</span>
<span class="err">friends.#(first!%</span><span class="s2">&#34;D*&#34;</span><span class="err">).last</span>         <span class="s2">&#34;Craig&#34;</span>
</code></pre></td></tr></table>
</div>
</div><p>要查询数组中的非对象值，可以放弃运算符右侧的字符串。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="err">children.#(!%</span><span class="s2">&#34;*a*&#34;</span><span class="err">)</span>                 <span class="s2">&#34;Alex&#34;</span>
<span class="err">children.#(%</span><span class="s2">&#34;*a*&#34;</span><span class="err">)#</span>                 <span class="p">[</span><span class="s2">&#34;Sara&#34;</span><span class="p">,</span><span class="s2">&#34;Jack&#34;</span><span class="p">]</span>
</code></pre></td></tr></table>
</div>
</div><p>允许嵌套查询。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="err">friends.#(nets.#(==</span><span class="s2">&#34;fb&#34;</span><span class="err">))#.first</span>  <span class="err">&gt;&gt;</span> <span class="p">[</span><span class="s2">&#34;Dale&#34;</span><span class="p">,</span><span class="s2">&#34;Roger&#34;</span><span class="p">]</span>
</code></pre></td></tr></table>
</div>
</div><p>请注意，在v1.3.0之前，查询使用<code>#[...]</code>方括号。为了避免与新的多路径语法混淆，在v1.3.0中对此进行了更改。为了向后兼容，<code>#[...]</code>它将继续工作直到下一个主要版本。</p>
<h3 id="-vs-"><code>.</code> vs <code>|</code></h3>
<p><code>.</code>是标准的分隔符，但它也可以使用<code>|</code>。在大多数情况下，它们最终都返回相同的结果。当为了Arrays 和 Queries而在<code>#</code>之后使用时,<code>|</code>和<code>.</code>表现不同。</p>
<p>这里有些例子</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="err">friends.</span><span class="mi">0</span><span class="err">.first</span>                     <span class="s2">&#34;Dale&#34;</span>
<span class="err">friends|</span><span class="mi">0</span><span class="err">.first</span>                     <span class="s2">&#34;Dale&#34;</span>
<span class="err">friends.</span><span class="mi">0</span><span class="err">|first</span>                     <span class="s2">&#34;Dale&#34;</span>
<span class="err">friends|</span><span class="mi">0</span><span class="err">|first</span>                     <span class="s2">&#34;Dale&#34;</span>
<span class="err">friends|#</span>                           <span class="mi">3</span>
<span class="err">friends.#</span>                           <span class="mi">3</span>
<span class="err">friends.#(last=</span><span class="s2">&#34;Murphy&#34;</span><span class="err">)#</span>           <span class="p">[{</span><span class="nt">&#34;first&#34;</span><span class="p">:</span> <span class="s2">&#34;Dale&#34;</span><span class="p">,</span> <span class="nt">&#34;last&#34;</span><span class="p">:</span> <span class="s2">&#34;Murphy&#34;</span><span class="p">,</span> <span class="nt">&#34;age&#34;</span><span class="p">:</span> <span class="mi">44</span><span class="p">},{</span><span class="nt">&#34;first&#34;</span><span class="p">:</span> <span class="s2">&#34;Jane&#34;</span><span class="p">,</span> <span class="nt">&#34;last&#34;</span><span class="p">:</span> <span class="s2">&#34;Murphy&#34;</span><span class="p">,</span> <span class="nt">&#34;age&#34;</span><span class="p">:</span> <span class="mi">47</span><span class="p">}]</span>
<span class="err">friends.#(last=</span><span class="s2">&#34;Murphy&#34;</span><span class="err">)#.first</span>     <span class="p">[</span><span class="s2">&#34;Dale&#34;</span><span class="p">,</span><span class="s2">&#34;Jane&#34;</span><span class="p">]</span>
<span class="err">friends.#(last=</span><span class="s2">&#34;Murphy&#34;</span><span class="err">)#|first</span>     <span class="err">&lt;non-existent&gt;</span>
<span class="err">friends.#(last=</span><span class="s2">&#34;Murphy&#34;</span><span class="err">)#.</span><span class="mi">0</span>         <span class="p">[]</span>
<span class="err">friends.#(last=</span><span class="s2">&#34;Murphy&#34;</span><span class="err">)#|</span><span class="mi">0</span>         <span class="p">{</span><span class="nt">&#34;first&#34;</span><span class="p">:</span> <span class="s2">&#34;Dale&#34;</span><span class="p">,</span> <span class="nt">&#34;last&#34;</span><span class="p">:</span> <span class="s2">&#34;Murphy&#34;</span><span class="p">,</span> <span class="nt">&#34;age&#34;</span><span class="p">:</span> <span class="mi">44</span><span class="p">}</span>
<span class="err">friends.#(last=</span><span class="s2">&#34;Murphy&#34;</span><span class="err">)#.#</span>         <span class="p">[]</span>
<span class="err">friends.#(last=</span><span class="s2">&#34;Murphy&#34;</span><span class="err">)#|#</span>         <span class="mi">2</span>
</code></pre></td></tr></table>
</div>
</div><p>让我们分析其中的一些。</p>
<p>路径<code>friends.#(last=&quot;Murphy&quot;)#</code>导致</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="p">[{</span><span class="nt">&#34;first&#34;</span><span class="p">:</span> <span class="s2">&#34;Dale&#34;</span><span class="p">,</span> <span class="nt">&#34;last&#34;</span><span class="p">:</span> <span class="s2">&#34;Murphy&#34;</span><span class="p">,</span> <span class="nt">&#34;age&#34;</span><span class="p">:</span> <span class="mi">44</span><span class="p">},{</span><span class="nt">&#34;first&#34;</span><span class="p">:</span> <span class="s2">&#34;Jane&#34;</span><span class="p">,</span> <span class="nt">&#34;last&#34;</span><span class="p">:</span> <span class="s2">&#34;Murphy&#34;</span><span class="p">,</span> <span class="nt">&#34;age&#34;</span><span class="p">:</span> <span class="mi">47</span><span class="p">}]</span>
</code></pre></td></tr></table>
</div>
</div><p>所述.first后缀将处理first每个阵列元素上路径之前将结果返回。变成</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="p">[</span><span class="s2">&#34;Dale&#34;</span><span class="p">,</span><span class="s2">&#34;Jane&#34;</span><span class="p">]</span>
</code></pre></td></tr></table>
</div>
</div><p>但是<code>|first</code>后缀实际上是在前一个结果之后处理<code>first</code>路径。由于前一个结果是数组，而不是对象，因此无法处理，因为first不存在</p>
<p>后缀<code>|0</code>返回</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="p">{</span><span class="nt">&#34;first&#34;</span><span class="p">:</span> <span class="s2">&#34;Dale&#34;</span><span class="p">,</span> <span class="nt">&#34;last&#34;</span><span class="p">:</span> <span class="s2">&#34;Murphy&#34;</span><span class="p">,</span> <span class="nt">&#34;age&#34;</span><span class="p">:</span> <span class="mi">44</span><span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>因为0是先前结果的第一个索引。</p>
<h3 id="修饰符">修饰符</h3>
<p>修饰符是对JSON执行自定义处理的路径组件。</p>
<p>例如，<code>@reverse</code>在上述JSON有效负载上使用内置修饰符将反转<code>children</code>数组：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="err">children.@reverse</span>                   <span class="p">[</span><span class="s2">&#34;Jack&#34;</span><span class="p">,</span><span class="s2">&#34;Alex&#34;</span><span class="p">,</span><span class="s2">&#34;Sara&#34;</span><span class="p">]</span>
<span class="err">children.@reverse.</span><span class="mi">0</span>                 <span class="s2">&#34;Jack&#34;</span>
</code></pre></td></tr></table>
</div>
</div><p>当前有三个内置修饰符：</p>
<ul>
<li>@reverse：反转数组或对象的成员。</li>
<li>@ugly：从JSON中删除所有空格。</li>
<li>@pretty：使JSON更具可读性。</li>
</ul>
<h4 id="修饰符参数">修饰符参数</h4>
<p>修饰符可以接受可选参数。参数可以是有效的JSON有效负载，也可以只是字符。</p>
<p>例如，@pretty修饰符将json对象作为其参数。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="err">@pretty:</span><span class="p">{</span><span class="nt">&#34;sortKeys&#34;</span><span class="p">:</span><span class="kc">true</span><span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>这使得json很漂亮，并对其所有key进行排序。</p>
<p>使用此示例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="p">{</span><span class="nt">&#34;name&#34;</span><span class="p">:</span>  <span class="p">{</span><span class="nt">&#34;first&#34;</span><span class="p">:</span><span class="s2">&#34;Tom&#34;</span><span class="p">,</span><span class="nt">&#34;last&#34;</span><span class="p">:</span><span class="s2">&#34;Anderson&#34;</span><span class="p">},</span>  <span class="nt">&#34;age&#34;</span><span class="p">:</span><span class="mi">37</span><span class="p">,</span>
<span class="nt">&#34;children&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;Sara&#34;</span><span class="p">,</span><span class="s2">&#34;Alex&#34;</span><span class="p">,</span><span class="s2">&#34;Jack&#34;</span><span class="p">],</span>
<span class="nt">&#34;fav.movie&#34;</span><span class="p">:</span> <span class="s2">&#34;Deer Hunter&#34;</span><span class="p">,</span> <span class="nt">&#34;friends&#34;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span><span class="nt">&#34;first&#34;</span><span class="p">:</span> <span class="s2">&#34;Janet&#34;</span><span class="p">,</span> <span class="nt">&#34;last&#34;</span><span class="p">:</span> <span class="s2">&#34;Murphy&#34;</span><span class="p">,</span> <span class="nt">&#34;age&#34;</span><span class="p">:</span> <span class="mi">44</span><span class="p">}</span>
  <span class="p">]}</span>
</code></pre></td></tr></table>
</div>
</div><p>将json格式化为：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="p">{</span>
  <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&#34;first&#34;</span><span class="p">:</span> <span class="s2">&#34;Tom&#34;</span><span class="p">,</span>
    <span class="nt">&#34;last&#34;</span><span class="p">:</span> <span class="s2">&#34;Anderson&#34;</span>
  <span class="p">},</span>
  <span class="nt">&#34;age&#34;</span><span class="p">:</span> <span class="mi">37</span><span class="p">,</span>
  <span class="nt">&#34;children&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;Sara&#34;</span><span class="p">,</span> <span class="s2">&#34;Alex&#34;</span><span class="p">,</span> <span class="s2">&#34;Jack&#34;</span><span class="p">],</span>
  <span class="nt">&#34;fav.movie&#34;</span><span class="p">:</span> <span class="s2">&#34;Deer Hunter&#34;</span><span class="p">,</span>
  <span class="nt">&#34;friends&#34;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&#34;first&#34;</span><span class="p">:</span> <span class="s2">&#34;Janet&#34;</span><span class="p">,</span>
      <span class="nt">&#34;last&#34;</span><span class="p">:</span> <span class="s2">&#34;Murphy&#34;</span><span class="p">,</span>
      <span class="nt">&#34;age&#34;</span><span class="p">:</span> <span class="mi">44</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>@pretty选项的完整列表是<code>sortKeys</code>, <code>indent</code>, <code>prefix</code>和<code>width</code>。</p>
<h4 id="自定义修饰符">自定义修饰符</h4>
<p>您还可以添加自定义修饰符。</p>
<p>例如，在这里我们创建一个修饰符，使整个JSON有效负载变为大写或小写。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="nx">gjson</span><span class="p">.</span><span class="nf">AddModifier</span><span class="p">(</span><span class="s">&#34;case&#34;</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">json</span><span class="p">,</span> <span class="nx">arg</span> <span class="kt">string</span><span class="p">)</span> <span class="kt">string</span> <span class="p">{</span>
  <span class="k">if</span> <span class="nx">arg</span> <span class="o">==</span> <span class="s">&#34;upper&#34;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">strings</span><span class="p">.</span><span class="nf">ToUpper</span><span class="p">(</span><span class="nx">json</span><span class="p">)</span>
  <span class="p">}</span>
  <span class="k">if</span> <span class="nx">arg</span> <span class="o">==</span> <span class="s">&#34;lower&#34;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">strings</span><span class="p">.</span><span class="nf">ToLower</span><span class="p">(</span><span class="nx">json</span><span class="p">)</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">json</span>
<span class="p">})</span>
<span class="s">&#34;children.@case:upper&#34;</span>             <span class="p">[</span><span class="s">&#34;SARA&#34;</span><span class="p">,</span><span class="s">&#34;ALEX&#34;</span><span class="p">,</span><span class="s">&#34;JACK&#34;</span><span class="p">]</span>
<span class="s">&#34;children.@case:lower.@reverse&#34;</span>    <span class="p">[</span><span class="s">&#34;jack&#34;</span><span class="p">,</span><span class="s">&#34;alex&#34;</span><span class="p">,</span><span class="s">&#34;sara&#34;</span><span class="p">]</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="多路径">多路径</h3>
<p>从v1.3.0开始，GJSON添加了将多个路径连接在一起以形成新文档的功能。在<code>{...}</code>或<code>[...]</code>之间包装用逗号分隔的路径将分别导致新的数组或对象。</p>
<p>例如，使用给定的多路径</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="p">{</span><span class="err">name.first,age,</span><span class="nt">&#34;the_murphys&#34;</span><span class="p">:</span><span class="err">friends.#(last=</span><span class="s2">&#34;Murphy&#34;</span><span class="err">)#.first</span><span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>在这里，我们为姓氏为“Murphy”的朋友选择了名字，年龄和名字。</p>
<p>您会注意到，可以提供可选key，在本例中为“the_murphys”，以强制将key分配给值。否则，将使用实际字段的名称，在这种情况下为“first”。如果无法确定名称，则使用“ _”。</p>
<p>这导致</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="p">{</span><span class="nt">&#34;first&#34;</span><span class="p">:</span><span class="s2">&#34;Tom&#34;</span><span class="p">,</span><span class="nt">&#34;age&#34;</span><span class="p">:</span><span class="mi">37</span><span class="p">,</span><span class="nt">&#34;the_murphys&#34;</span><span class="p">:[</span><span class="s2">&#34;Dale&#34;</span><span class="p">,</span><span class="s2">&#34;Jane&#34;</span><span class="p">]}</span>
</code></pre></td></tr></table>
</div>
</div><h1 id="结果类型">结果类型</h1>
<p>GJSON支持JSON类型<code>string</code>，<code>number</code>，<code>bool</code>，和<code>null</code>。数组和对象作为其原始json类型返回。</p>
<p>该Result类型包含以下之一：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="err">bool,</span> <span class="err">for</span> <span class="err">JSON</span> <span class="err">booleans</span>
<span class="err">float</span><span class="mi">64</span><span class="err">,</span> <span class="err">for</span> <span class="err">JSON</span> <span class="err">numbers</span>
<span class="err">string,</span> <span class="err">for</span> <span class="err">JSON</span> <span class="err">string</span> <span class="err">literals</span>
<span class="err">nil,</span> <span class="err">for</span> <span class="err">JSON</span> <span class="kc">null</span>
</code></pre></td></tr></table>
</div>
</div><p>要直接访问该值：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="nx">result</span><span class="p">.</span><span class="nx">Type</span>    <span class="c1">// can be String, Number, True, False, Null, or JSON
</span><span class="c1"></span><span class="nx">result</span><span class="p">.</span><span class="nx">Str</span>     <span class="c1">// holds the string
</span><span class="c1"></span><span class="nx">result</span><span class="p">.</span><span class="nx">Num</span>     <span class="c1">// holds the float64 number
</span><span class="c1"></span><span class="nx">result</span><span class="p">.</span><span class="nx">Raw</span>     <span class="c1">// holds the raw json
</span><span class="c1"></span><span class="nx">result</span><span class="p">.</span><span class="nx">Index</span>   <span class="c1">// index of raw value in original json, zero means index unknown
</span></code></pre></td></tr></table>
</div>
</div><p>有多种方便的功能可以处理结果：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="nx">result</span><span class="p">.</span><span class="nf">Exists</span><span class="p">()</span> <span class="kt">bool</span>
<span class="nx">result</span><span class="p">.</span><span class="nf">Value</span><span class="p">()</span> <span class="kd">interface</span><span class="p">{}</span>
<span class="nx">result</span><span class="p">.</span><span class="nf">Int</span><span class="p">()</span> <span class="kt">int64</span>
<span class="nx">result</span><span class="p">.</span><span class="nf">Uint</span><span class="p">()</span> <span class="kt">uint64</span>
<span class="nx">result</span><span class="p">.</span><span class="nf">Float</span><span class="p">()</span> <span class="kt">float64</span>
<span class="nx">result</span><span class="p">.</span><span class="nf">String</span><span class="p">()</span> <span class="kt">string</span>
<span class="nx">result</span><span class="p">.</span><span class="nf">Bool</span><span class="p">()</span> <span class="kt">bool</span>
<span class="nx">result</span><span class="p">.</span><span class="nf">Time</span><span class="p">()</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Time</span>
<span class="nx">result</span><span class="p">.</span><span class="nf">Array</span><span class="p">()</span> <span class="p">[]</span><span class="nx">gjson</span><span class="p">.</span><span class="nx">Result</span>
<span class="nx">result</span><span class="p">.</span><span class="nf">Map</span><span class="p">()</span> <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="nx">gjson</span><span class="p">.</span><span class="nx">Result</span>
<span class="nx">result</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="nx">path</span> <span class="kt">string</span><span class="p">)</span> <span class="nx">Result</span>
<span class="nx">result</span><span class="p">.</span><span class="nf">ForEach</span><span class="p">(</span><span class="nx">iterator</span> <span class="kd">func</span><span class="p">(</span><span class="nx">key</span><span class="p">,</span> <span class="nx">value</span> <span class="nx">Result</span><span class="p">)</span> <span class="kt">bool</span><span class="p">)</span>
<span class="nx">result</span><span class="p">.</span><span class="nf">Less</span><span class="p">(</span><span class="nx">token</span> <span class="nx">Result</span><span class="p">,</span> <span class="nx">caseSensitive</span> <span class="kt">bool</span><span class="p">)</span> <span class="kt">bool</span>
</code></pre></td></tr></table>
</div>
</div><p><code>result.Value()</code>函数返回一个<code>interface{}</code>.并且是以下Go类型之一：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="err">boolean</span> <span class="err">&gt;&gt;</span> <span class="err">bool</span>
<span class="err">number</span>  <span class="err">&gt;&gt;</span> <span class="err">float</span><span class="mi">64</span>
<span class="err">string</span>  <span class="err">&gt;&gt;</span> <span class="err">string</span>
<span class="kc">null</span>    <span class="err">&gt;&gt;</span> <span class="err">nil</span>
<span class="err">array</span>   <span class="err">&gt;&gt;</span> <span class="p">[]</span><span class="err">interface</span><span class="p">{}</span>
<span class="err">object</span>  <span class="err">&gt;&gt;</span> <span class="err">map</span><span class="p">[</span><span class="err">string</span><span class="p">]</span><span class="err">interface</span><span class="p">{}</span>
</code></pre></td></tr></table>
</div>
</div><p><code>result.Array()</code>函数返回一个值数组。如果结果表示不存在的值，则将返回一个空数组。如果结果不是JSON数组，则返回值将是一个包含一个结果的数组。</p>
<h2 id="64位整数">64位整数</h2>
<p>该<code>result.Int()</code>和<code>result.Uint()</code>是能够读取所有64位，允许大型JSON整数。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="nx">result</span><span class="p">.</span><span class="nf">Int</span><span class="p">()</span> <span class="kt">int64</span>    <span class="c1">// -9223372036854775808 to 9223372036854775807
</span><span class="c1"></span><span class="nx">result</span><span class="p">.</span><span class="nf">Uint</span><span class="p">()</span> <span class="kt">int64</span>   <span class="c1">// 0 to 18446744073709551615
</span></code></pre></td></tr></table>
</div>
</div><h1 id="json行">JSON行</h1>
<p>支持使用前缀的JSON行，<code>..</code>前缀将多行文档视为数组。</p>
<p>例如：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="p">{</span><span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;Gilbert&#34;</span><span class="p">,</span> <span class="nt">&#34;age&#34;</span><span class="p">:</span> <span class="mi">61</span><span class="p">}</span>
<span class="p">{</span><span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;Alexa&#34;</span><span class="p">,</span> <span class="nt">&#34;age&#34;</span><span class="p">:</span> <span class="mi">34</span><span class="p">}</span>
<span class="p">{</span><span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;May&#34;</span><span class="p">,</span> <span class="nt">&#34;age&#34;</span><span class="p">:</span> <span class="mi">57</span><span class="p">}</span>
<span class="p">{</span><span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;Deloise&#34;</span><span class="p">,</span> <span class="nt">&#34;age&#34;</span><span class="p">:</span> <span class="mi">44</span><span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="err">..#</span>                   <span class="err">&gt;&gt;</span> <span class="mi">4</span>
<span class="err">..</span><span class="mi">1</span>                   <span class="err">&gt;&gt;</span> <span class="p">{</span><span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;Alexa&#34;</span><span class="p">,</span> <span class="nt">&#34;age&#34;</span><span class="p">:</span> <span class="mi">34</span><span class="p">}</span>
<span class="err">..</span><span class="mi">3</span>                   <span class="err">&gt;&gt;</span> <span class="p">{</span><span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;Deloise&#34;</span><span class="p">,</span> <span class="nt">&#34;age&#34;</span><span class="p">:</span> <span class="mi">44</span><span class="p">}</span>
<span class="err">..#.name</span>              <span class="err">&gt;&gt;</span> <span class="p">[</span><span class="s2">&#34;Gilbert&#34;</span><span class="p">,</span><span class="s2">&#34;Alexa&#34;</span><span class="p">,</span><span class="s2">&#34;May&#34;</span><span class="p">,</span><span class="s2">&#34;Deloise&#34;</span><span class="p">]</span>
<span class="err">..#(name=</span><span class="s2">&#34;May&#34;</span><span class="err">).age</span>   <span class="err">&gt;&gt;</span> <span class="mi">57</span>
</code></pre></td></tr></table>
</div>
</div><p><code>ForEachLines</code>函数将遍历JSON行。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="nx">gjson</span><span class="p">.</span><span class="nf">ForEachLine</span><span class="p">(</span><span class="nx">json</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">line</span> <span class="nx">gjson</span><span class="p">.</span><span class="nx">Result</span><span class="p">)</span> <span class="kt">bool</span><span class="p">{</span>
    <span class="nb">println</span><span class="p">(</span><span class="nx">line</span><span class="p">.</span><span class="nf">String</span><span class="p">())</span>
    <span class="k">return</span> <span class="kc">true</span>
<span class="p">})</span>
</code></pre></td></tr></table>
</div>
</div><h1 id="获取嵌套数组值">获取嵌套数组值</h1>
<p>假设您想要来自以下json的所有姓氏：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="p">{</span>
  <span class="nt">&#34;programmers&#34;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&#34;firstName&#34;</span><span class="p">:</span> <span class="s2">&#34;Janet&#34;</span><span class="p">,</span> 
      <span class="nt">&#34;lastName&#34;</span><span class="p">:</span> <span class="s2">&#34;McLaughlin&#34;</span><span class="p">,</span> 
    <span class="p">},</span> <span class="p">{</span>
      <span class="nt">&#34;firstName&#34;</span><span class="p">:</span> <span class="s2">&#34;Elliotte&#34;</span><span class="p">,</span> 
      <span class="nt">&#34;lastName&#34;</span><span class="p">:</span> <span class="s2">&#34;Hunter&#34;</span><span class="p">,</span> 
    <span class="p">},</span> <span class="p">{</span>
      <span class="nt">&#34;firstName&#34;</span><span class="p">:</span> <span class="s2">&#34;Jason&#34;</span><span class="p">,</span> 
      <span class="nt">&#34;lastName&#34;</span><span class="p">:</span> <span class="s2">&#34;Harold&#34;</span><span class="p">,</span> 
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>您将使用如下路径：<code>&quot;programmers.#.lastName&quot;</code>：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="nx">result</span> <span class="o">:=</span> <span class="nx">gjson</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="nx">json</span><span class="p">,</span> <span class="s">&#34;programmers.#.lastName&#34;</span><span class="p">)</span>
<span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">name</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">result</span><span class="p">.</span><span class="nf">Array</span><span class="p">()</span> <span class="p">{</span>
	<span class="nb">println</span><span class="p">(</span><span class="nx">name</span><span class="p">.</span><span class="nf">String</span><span class="p">())</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>您还可以查询数组内的对象：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="nx">name</span> <span class="o">:=</span> <span class="nx">gjson</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="nx">json</span><span class="p">,</span> <span class="s">`programmers.#(lastName=&#34;Hunter&#34;).firstName`</span><span class="p">)</span>
<span class="nb">println</span><span class="p">(</span><span class="nx">name</span><span class="p">.</span><span class="nf">String</span><span class="p">())</span>  <span class="c1">// prints &#34;Elliotte&#34;
</span></code></pre></td></tr></table>
</div>
</div><h1 id="遍历对象或数组">遍历对象或数组</h1>
<p><code>ForEach</code>函数允许快速遍历对象或数组。key和value将传递给对象的迭代器函数。仅将值传递给数组。false从迭代器返回将停止迭代。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="nx">result</span> <span class="o">:=</span> <span class="nx">gjson</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="nx">json</span><span class="p">,</span> <span class="s">&#34;programmers&#34;</span><span class="p">)</span>
<span class="nx">result</span><span class="p">.</span><span class="nf">ForEach</span><span class="p">(</span><span class="kd">func</span><span class="p">(</span><span class="nx">key</span><span class="p">,</span> <span class="nx">value</span> <span class="nx">gjson</span><span class="p">.</span><span class="nx">Result</span><span class="p">)</span> <span class="kt">bool</span> <span class="p">{</span>
	<span class="nb">println</span><span class="p">(</span><span class="nx">value</span><span class="p">.</span><span class="nf">String</span><span class="p">())</span> 
	<span class="k">return</span> <span class="kc">true</span> <span class="c1">// keep iterating
</span><span class="c1"></span><span class="p">})</span>
</code></pre></td></tr></table>
</div>
</div><h1 id="简单解析和获取">简单解析和获取</h1>
<p><code>Parse(json)</code>函数可以进行简单的解析，<code>result.Get(path)</code>可以搜索结果。</p>
<p>例如，所有这些将返回相同的结果：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="nx">gjson</span><span class="p">.</span><span class="nf">Parse</span><span class="p">(</span><span class="nx">json</span><span class="p">).</span><span class="nf">Get</span><span class="p">(</span><span class="s">&#34;name&#34;</span><span class="p">).</span><span class="nf">Get</span><span class="p">(</span><span class="s">&#34;last&#34;</span><span class="p">)</span>
<span class="nx">gjson</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="nx">json</span><span class="p">,</span> <span class="s">&#34;name&#34;</span><span class="p">).</span><span class="nf">Get</span><span class="p">(</span><span class="s">&#34;last&#34;</span><span class="p">)</span>
<span class="nx">gjson</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="nx">json</span><span class="p">,</span> <span class="s">&#34;name.last&#34;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><h1 id="检查值是否存在">检查值是否存在</h1>
<p>有时您只想知道值是否存在。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="nx">value</span> <span class="o">:=</span> <span class="nx">gjson</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="nx">json</span><span class="p">,</span> <span class="s">&#34;name.last&#34;</span><span class="p">)</span>
<span class="k">if</span> <span class="p">!</span><span class="nx">value</span><span class="p">.</span><span class="nf">Exists</span><span class="p">()</span> <span class="p">{</span>
	<span class="nb">println</span><span class="p">(</span><span class="s">&#34;no last name&#34;</span><span class="p">)</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
	<span class="nb">println</span><span class="p">(</span><span class="nx">value</span><span class="p">.</span><span class="nf">String</span><span class="p">())</span>
<span class="p">}</span>

<span class="c1">// Or as one step
</span><span class="c1"></span><span class="k">if</span> <span class="nx">gjson</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="nx">json</span><span class="p">,</span> <span class="s">&#34;name.last&#34;</span><span class="p">).</span><span class="nf">Exists</span><span class="p">()</span> <span class="p">{</span>
	<span class="nb">println</span><span class="p">(</span><span class="s">&#34;has a last name&#34;</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h1 id="验证json">验证JSON</h1>
<p><code>Get*</code>和<code>Parse*</code>功能预计，JSON是良好的。错误的json不会panic，但它可能会返回意外结果。</p>
<p>如果您从不可预测的来源使用JSON，则可能需要在使用GJSON之前进行验证。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="k">if</span> <span class="p">!</span><span class="nx">gjson</span><span class="p">.</span><span class="nf">Valid</span><span class="p">(</span><span class="nx">json</span><span class="p">)</span> <span class="p">{</span>
	<span class="k">return</span> <span class="nx">errors</span><span class="p">.</span><span class="nf">New</span><span class="p">(</span><span class="s">&#34;invalid json&#34;</span><span class="p">)</span>
<span class="p">}</span>
<span class="nx">value</span> <span class="o">:=</span> <span class="nx">gjson</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="nx">json</span><span class="p">,</span> <span class="s">&#34;name.last&#34;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><h1 id="解码map">解码map</h1>
<p>解码<code>map[string]interface{}</code>：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="nx">m</span><span class="p">,</span> <span class="nx">ok</span> <span class="o">:=</span> <span class="nx">gjson</span><span class="p">.</span><span class="nf">Parse</span><span class="p">(</span><span class="nx">json</span><span class="p">).</span><span class="nf">Value</span><span class="p">().(</span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{})</span>
<span class="k">if</span> <span class="p">!</span><span class="nx">ok</span> <span class="p">{</span>
	<span class="c1">// not a map
</span><span class="c1"></span><span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h1 id="使用bytes">使用Bytes</h1>
<p>如果您的JSON包含在<code>[]byte</code>切片中，则有GetBytes函数。这优先于<code>Get(string(data), path)</code>。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">var</span> <span class="nx">json</span> <span class="p">[]</span><span class="kt">byte</span> <span class="p">=</span> <span class="o">...</span>
<span class="nx">result</span> <span class="o">:=</span> <span class="nx">gjson</span><span class="p">.</span><span class="nf">GetBytes</span><span class="p">(</span><span class="nx">json</span><span class="p">,</span> <span class="nx">path</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>如果您使用的是<code>gjson.GetBytes(json, path)</code>函数，并且希望避免转换<code>result.Raw</code>为<code>[]byte</code>，则可以使用以下模式：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">var</span> <span class="nx">json</span> <span class="p">[]</span><span class="kt">byte</span> <span class="p">=</span> <span class="o">...</span>
<span class="nx">result</span> <span class="o">:=</span> <span class="nx">gjson</span><span class="p">.</span><span class="nf">GetBytes</span><span class="p">(</span><span class="nx">json</span><span class="p">,</span> <span class="nx">path</span><span class="p">)</span>
<span class="kd">var</span> <span class="nx">raw</span> <span class="p">[]</span><span class="kt">byte</span>
<span class="k">if</span> <span class="nx">result</span><span class="p">.</span><span class="nx">Index</span> <span class="p">&gt;</span> <span class="mi">0</span> <span class="p">{</span>
    <span class="nx">raw</span> <span class="p">=</span> <span class="nx">json</span><span class="p">[</span><span class="nx">result</span><span class="p">.</span><span class="nx">Index</span><span class="p">:</span><span class="nx">result</span><span class="p">.</span><span class="nx">Index</span><span class="o">+</span><span class="nb">len</span><span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">Raw</span><span class="p">)]</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">raw</span> <span class="p">=</span> <span class="p">[]</span><span class="nb">byte</span><span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">Raw</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>这是原始json的尽力而为的不分配子切片。此方法利用<code>result.Index</code>字段，即原始json中原始数据的位置。<code>result.Index</code>的值可能等于零，在这种情况下，<code>result.Raw</code>会转换为<code>[]byte</code>。</p>
<h1 id="一次获取多个值">一次获取多个值</h1>
<p><code>GetMany</code>函数可用于同时获取多个值。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="nx">results</span> <span class="o">:=</span> <span class="nx">gjson</span><span class="p">.</span><span class="nf">GetMany</span><span class="p">(</span><span class="nx">json</span><span class="p">,</span> <span class="s">&#34;name.first&#34;</span><span class="p">,</span> <span class="s">&#34;name.last&#34;</span><span class="p">,</span> <span class="s">&#34;age&#34;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>返回值为<code>[]Result</code>，它将始终包含与输入路径完全相同数量的项目。</p>
<p>性能</p>
<p>GJSON与encoding / json， ffjson， EasyJSON， jsonparser和json-iterator的Benchmarks</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">BenchmarkGJSONGet-8                  3000000        372 ns/op          0 B/op         0 allocs/op
BenchmarkGJSONUnmarshalMap-8          900000       4154 ns/op       1920 B/op        26 allocs/op
BenchmarkJSONUnmarshalMap-8           600000       9019 ns/op       3048 B/op        69 allocs/op
BenchmarkJSONDecoder-8                300000      14120 ns/op       4224 B/op       184 allocs/op
BenchmarkFFJSONLexer-8               1500000       3111 ns/op        896 B/op         8 allocs/op
BenchmarkEasyJSONLexer-8             3000000        887 ns/op        613 B/op         6 allocs/op
BenchmarkJSONParserGet-8             3000000        499 ns/op         21 B/op         0 allocs/op
BenchmarkJSONIterator-8              3000000        812 ns/op        544 B/op         9 allocs/op
</code></pre></td></tr></table>
</div>
</div><p>使用的JSON文档：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="p">{</span>
  <span class="nt">&#34;widget&#34;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&#34;debug&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span>
    <span class="nt">&#34;window&#34;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&#34;title&#34;</span><span class="p">:</span> <span class="s2">&#34;Sample Konfabulator Widget&#34;</span><span class="p">,</span>
      <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;main_window&#34;</span><span class="p">,</span>
      <span class="nt">&#34;width&#34;</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span>
      <span class="nt">&#34;height&#34;</span><span class="p">:</span> <span class="mi">500</span>
    <span class="p">},</span>
    <span class="nt">&#34;image&#34;</span><span class="p">:</span> <span class="p">{</span> 
      <span class="nt">&#34;src&#34;</span><span class="p">:</span> <span class="s2">&#34;Images/Sun.png&#34;</span><span class="p">,</span>
      <span class="nt">&#34;hOffset&#34;</span><span class="p">:</span> <span class="mi">250</span><span class="p">,</span>
      <span class="nt">&#34;vOffset&#34;</span><span class="p">:</span> <span class="mi">250</span><span class="p">,</span>
      <span class="nt">&#34;alignment&#34;</span><span class="p">:</span> <span class="s2">&#34;center&#34;</span>
    <span class="p">},</span>
    <span class="nt">&#34;text&#34;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&#34;data&#34;</span><span class="p">:</span> <span class="s2">&#34;Click Here&#34;</span><span class="p">,</span>
      <span class="nt">&#34;size&#34;</span><span class="p">:</span> <span class="mi">36</span><span class="p">,</span>
      <span class="nt">&#34;style&#34;</span><span class="p">:</span> <span class="s2">&#34;bold&#34;</span><span class="p">,</span>
      <span class="nt">&#34;vOffset&#34;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
      <span class="nt">&#34;alignment&#34;</span><span class="p">:</span> <span class="s2">&#34;center&#34;</span><span class="p">,</span>
      <span class="nt">&#34;onMouseUp&#34;</span><span class="p">:</span> <span class="s2">&#34;sun1.opacity = (sun1.opacity / 100) * 90;&#34;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>    
</code></pre></td></tr></table>
</div>
</div><p>每个操作都通过以下搜索路径之一进行轮换：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">widget.window.name
widget.image.hOffset
widget.text.onMouseUp
</code></pre></td></tr></table>
</div>
</div><p>这些基准测试是在使用Go 1.8的MacBook Pro 15“ 2.8 GHz Intel Core i7上运行的.</p>
<p>参考:<a href="https://github.com/tidwall/gjson">https://github.com/tidwall/gjson</a></p>

    </div>

    <div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">文章作者</span>
    <span class="item-content">Forz</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">上次更新</span>
    <span class="item-content">
        2019-12-23
        
    </span>
  </p>
  
  
</div>
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/gjson/">gjson</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/%E4%BD%BF%E7%94%A8testify%E7%AE%80%E5%8C%96tdd%E6%B5%8B%E8%AF%95/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">使用testify简化TDD测试</span>
            <span class="prev-text nav-mobile">上一篇</span>
          </a>
        <a class="next" href="/post/tdd%E4%B8%8Ebdd/">
            <span class="next-text nav-default">TDD与BDD</span>
            <span class="next-text nav-mobile">下一篇</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  
    <script src="https://utteranc.es/client.js"
            repo="forz/forzblog.talk"
            issue-term="pathname"
            theme="github-light"
            crossorigin="anonymous"
            async>
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://github.com/utterance">comments powered by utterances.</a></noscript>

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
  <a href="/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    由 <a class="hexo-link" href="https://gohugo.io">Hugo</a> 强力驱动
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    主题 - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2017 - 
    2022<span class="heart"><i class="iconfont icon-heart"></i></span><span>Forz</span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.min.c99b103c33d1539acf3025e1913697534542c4a5aa5af0ccc20475ed2863603b.js"></script>
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        }
    };
  </script>
  <script async src="https://cdn.jsdelivr.net/npm/mathjax@3.0.5/es5/tex-mml-chtml.js" integrity="sha256-HGLuEfFcsUJGhvB8cQ8nr0gai9EucOOaIxFw7qxmd+w=" crossorigin="anonymous"></script>






<script src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script>
docsearch({
    apiKey: "b4b9da2eba53aa6dabe4b8ac9e8676e1",
    indexName: "forz.forzvina.com",
    appId: "IAR2EF5L65",
    inputSelector: '.docsearch-input',
    debug: false,
});
</script>
</body>
</html>
