<!DOCTYPE html>
<html lang="zh-cn" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>time包解析(1.11) | Forz Blog</title>
<meta name="keywords" content="Go标准库" />
<meta name="description" content="常量 这些预定义的版式用于Time.Format和Time.Parse函数。用在版式中的参考时间是： 1 Mon Jan 2 15:04:05 MST 2006 对应的Unix时间是1136">
<meta name="author" content="">
<link rel="canonical" href="/post/time%E5%8C%85%E8%A7%A3%E6%9E%90-1-13/" />
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.00d5d4fc479b1575183ee8d86b4fb372ba9d9b1904e96fa8e4c40ff7debe2b94.css" integrity="sha256-ANXU/EebFXUYPujYa0&#43;zcrqdmxkE6W&#43;o5MQP996&#43;K5Q=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js" integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5&#43;kdJvBz5iKbt6B5PJI="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
<link rel="mask-icon" href="/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<meta name="generator" content="Hugo 0.87.0" />
<meta property="og:title" content="time包解析(1.11)" />
<meta property="og:description" content="常量 这些预定义的版式用于Time.Format和Time.Parse函数。用在版式中的参考时间是： 1 Mon Jan 2 15:04:05 MST 2006 对应的Unix时间是1136" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/post/time%E5%8C%85%E8%A7%A3%E6%9E%90-1-13/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2018-12-21T13:23:32&#43;00:00" />
<meta property="article:modified_time" content="2018-12-21T13:23:32&#43;00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="time包解析(1.11)"/>
<meta name="twitter:description" content="常量 这些预定义的版式用于Time.Format和Time.Parse函数。用在版式中的参考时间是： 1 Mon Jan 2 15:04:05 MST 2006 对应的Unix时间是1136"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "/post/"
    }
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "time包解析(1.11)",
      "item": "/post/time%E5%8C%85%E8%A7%A3%E6%9E%90-1-13/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "time包解析(1.11)",
  "name": "time包解析(1.11)",
  "description": "常量 这些预定义的版式用于Time.Format和Time.Parse函数。用在版式中的参考时间是： 1 Mon Jan 2 15:04:05 MST 2006 对应的Unix时间是1136",
  "keywords": [
    "Go标准库"
  ],
  "articleBody": "常量 这些预定义的版式用于Time.Format和Time.Parse函数。用在版式中的参考时间是：\n1  Mon Jan 2 15:04:05 MST 2006   对应的Unix时间是1136239445。因为MST的时区是GMT-0700，参考时间也可以表示为如下：\n1  01/02 03:04:05PM '06 -0700   要定义你自己的格式，写下该参考时间应用于你的格式的情况；例子请参见ANSIC、StampMicro或Kitchen等常数的值。该模型是为了演示参考时间的格式化效果，如此一来Format和Parse方法可以将相同的转换规则用于一个普通的时间值。\n在格式字符串中，用前置的'0’表示一个可以被可以被数字替换的'0'（如果它后面的数字有两位）；使用下划线表示一个可以被数字替换的空格（如果它后面的数字有两位）；以便兼容Unix定长时间格式。\n小数点后跟0到多个'0'，表示秒数的小数部分，输出时会生成和'0’一样多的小数位；小数点后跟0到多个'9'，表示秒数的小数部分，输出时会生成和'9’一样多的小数位但会将拖尾的'0’去掉。（只有）解析时，输入可以在秒字段后面紧跟一个小数部分，即使格式字符串里没有指明该部分。此时，小数点及其后全部的数字都会成为秒的小数部分。\n数字表示的时区格式如下：\n1 2 3  -0700 ±hhmm -07:00 ±hh:mm -07 ±hh   将格式字符串中的负号替换为Z会触发ISO 8601行为（当时区是UTC时，输出Z而不是时区偏移量），这样：\n1 2 3  Z0700 Z or ±hhmm Z07:00 Z or ±hh:mm Z07 Z or ±hh   公认的星期几格式为\"Mon\"和\"Monday\"。已识别的月份格式为“Jan”和“January”。\n格式字符串中未被识别为参考时间一部分的文本在格式化期间逐字回显，并且预期在Parse的输入中逐字显示。\nTime.Format的可执行示例详细演示了版式字符串的工作，是一个很好的参考。\n请注意，RFC822，RFC850和RFC1123格式只应应用于本地时间。将它们应用于UTC时间将使用“UTC”作为时区缩写，而严格地说，那些RFC在这种情况下需要使用“GMT”。通常，对于坚持该格式的服务器，应使用RFC1123Z而不是RFC1123，并且RFC3339应该是新协议的首选。RFC3339，RFC822，RFC822Z，RFC1123和RFC1123Z对格式化非常有用; 当与time.Parse一起使用时，它们不接受RFC允许的所有时间格式。RFC3339Nano格式从秒字段中删除尾随零，因此格式化后可能无法正确排序。\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  const ( ANSIC = \"Mon Jan _2 15:04:05 2006\" UnixDate = \"Mon Jan _2 15:04:05 MST 2006\" RubyDate = \"Mon Jan 02 15:04:05 -0700 2006\" RFC822 = \"02 Jan 06 15:04 MST\" RFC822Z = \"02 Jan 06 15:04 -0700\" // 使用数字表示时区的RFC822  RFC850 = \"Monday, 02-Jan-06 15:04:05 MST\" RFC1123 = \"Mon, 02 Jan 2006 15:04:05 MST\" RFC1123Z = \"Mon, 02 Jan 2006 15:04:05 -0700\" // 使用数字表示时区的RFC1123  RFC3339 = \"2006-01-02T15:04:05Z07:00\" RFC3339Nano = \"2006-01-02T15:04:05.999999999Z07:00\" Kitchen = \"3:04PM\" // 方便的时间戳  Stamp = \"Jan _2 15:04:05\" StampMilli = \"Jan _2 15:04:05.000\" StampMicro = \"Jan _2 15:04:05.000000\" StampNano = \"Jan _2 15:04:05.000000000\" )   常用的时间段。没有定义一天或超过一天的单元，以避免夏时制的时区切换的混乱。\n要计算持续时间中的单位数，请除以：\n1 2  second := time.Second fmt.Print(int64(second/time.Millisecond)) // prints 1000   要将整数个单位转换为持续时间，请乘以：\n1 2  seconds := 10 fmt.Print(time.Duration(seconds)*time.Second) // prints 10s   1 2 3 4 5 6 7 8  const ( Nanosecond Duration = 1 Microsecond = 1000 * Nanosecond Millisecond = 1000 * Microsecond Second = 1000 * Millisecond Minute = 60 * Second Hour = 60 * Minute )   func After 1  func After(d Duration) chan Time   等待持续时间过后，然后在返回的通道上发送当前时间。它相当于NewTimer(d).C。在计时器触发之前，垃圾收集器不会恢复基础Timer。如果需要考虑效率，请使用NewTimer，如果不再需要定时器，则调用Timer.Stop。\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19  package main import ( \"fmt\" \"time\" ) var c chan int func handle(int) {} func main() { select { case m := c: handle(m) case time.After(5 * time.Minute): fmt.Println(\"timed out\") } }   func Sleep 1  func Sleep(d Duration)   Sleep阻塞当前go程至少d代表的时间段。d1 2 3 4 5 6 7 8 9  package main import ( \"time\" ) func main() { time.Sleep(100 * time.Millisecond) }   func Tick 1  func Tick(d Duration) chan Time   Tick是NewTicker的便利包装器，仅提供对ticking channel的访问。虽然Tick对于不需要关闭Ticker的客户端很有用，但请注意，如果没有办法将其关闭，底层Ticker将无法通过垃圾收集器恢复; 与NewTicker不同，它将造成“泄漏”。如果d 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  package main import ( \"fmt\" \"time\" ) func statusUpdate() string { return \"\" } func main() { c := time.Tick(1 * time.Minute) for now := range c { fmt.Printf(\"%v %s\\n\", now, statusUpdate()) } }   type Duration 1  type Duration int64   Duration类型代表两个时间点之间经过的时间，以纳秒为单位。可表示的最长时间段大约290年。\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  package main import ( \"fmt\" \"time\" ) func expensiveCall() {} func main() { t0 := time.Now() expensiveCall() t1 := time.Now() fmt.Printf(\"The call took %v to run.\\n\", t1.Sub(t0)) }   func ParseDuration 1  func ParseDuration(s string) (Duration, error)   ParseDuration解析一个时间段字符串。一个时间段字符串是一个序列，每个片段包含可选的正负号、十进制数、可选的小数部分和单位后缀，如\"300ms\"、\"-1.5h\"、“2h45m”。合法的单位有\"ns\"、“us” /“µs”、“ms”、“s”、“m”、“h”。\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  package main import ( \"fmt\" \"time\" ) func main() { hours, _ := time.ParseDuration(\"10h\") complex, _ := time.ParseDuration(\"1h10m10s\") fmt.Println(hours) fmt.Println(complex) fmt.Printf(\"there are %.0f seconds in %v\\n\", complex.Seconds(), complex) }   func Since 1  func Since(t Time) Duration   Since返回从t到现在经过的时间，等价于time.Now().Sub(t)。\nfunc Until 1.8 1  func Until(t Time) Duration   直到返回持续时间直到t。它是t.Sub（time.Now（））的简写。\nfunc (Duration) Hours 1  func (d Duration) Hours() float64   Hours将时间段表示为float64类型的小时数。\n1 2 3 4 5 6 7 8 9 10 11  package main import ( \"fmt\" \"time\" ) func main() { h, _ := time.ParseDuration(\"4h30m\") fmt.Printf(\"I've got %.1f hours of work left.\", h.Hours()) }   func (Duration) Microseconds 1.13 1  func (d Duration) Microseconds() int64   Microseconds 以整数微秒计数返回持续时间。\nfunc (Duration) Milliseconds 1.13 1  func (d Duration) Milliseconds() int64   Milliseconds 返回持续时间，以整数毫秒计数。\nfunc (Duration) Minutes 1  func (d Duration) Minutes() float64   Hours将时间段表示为float64类型的分钟数。\n1 2 3 4 5 6 7 8 9 10 11  package main import ( \"fmt\" \"time\" ) func main() { m, _ := time.ParseDuration(\"1h30m\") fmt.Printf(\"The movie is %.0f minutes long.\", m.Minutes()) }   func (Duration) Seconds 1  func (d Duration) Seconds() float64   Hours将时间段表示为float64类型的秒数。\n1 2 3 4 5 6 7 8 9 10 11  package main import ( \"fmt\" \"time\" ) func main() { m, _ := time.ParseDuration(\"1m30s\") fmt.Printf(\"take off in t-%.0f seconds.\", m.Seconds()) }   func (Duration) Nanoseconds 1  func (d Duration) Nanoseconds() int64   Hours将时间段表示为int64类型的纳秒数，等价于int64(d)。\n1 2 3 4 5 6 7 8 9 10 11  package main import ( \"fmt\" \"time\" ) func main() { ns, _ := time.ParseDuration(\"1000ns\") fmt.Printf(\"one microsecond has %d nanoseconds.\", ns.Nanoseconds()) }   func (Duration) String 1  func (d Duration) String() string   返回时间段采用\"72h3m0.5s\"格式的字符串表示。最前面可以有符号，数字+单位为一个单元，开始部分的0值单元会被省略；如果时间段1 2 3 4 5 6 7 8 9 10 11 12 13  package main import ( \"fmt\" \"time\" ) func main() { t1 := time.Date(2016, time.August, 15, 0, 0, 0, 0, time.UTC) t2 := time.Date(2017, time.February, 16, 0, 0, 0, 0, time.UTC) fmt.Println(t2.Sub(t1).String()) }   func (Duration) Round 1.9 1  func (d Duration) Round(m Duration) Duration   Round将返回从d到m的最接近的倍数的四舍五入值。中间值的舍入行为是从零开始舍入。如果结果超出可以存储在持续时间中的最大（或最小）值，则Round返回最大（或最小）持续时间。如果m 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38  package main import ( \"fmt\" \"time\" ) func main() { d, err := time.ParseDuration(\"1h15m30.918273645s\") if err != nil { panic(err) } round := []time.Duration{ time.Nanosecond, time.Microsecond, time.Millisecond, time.Second, 2 * time.Second, time.Minute, 10 * time.Minute, time.Hour, } for _, r := range round { fmt.Printf(\"d.Round(%6s) = %s\\n\", r, d.Round(r).String()) } } //d以r为单位进行四舍五入 // d.Round( 1ns) = 1h15m30.918273645s // d.Round( 1µs) = 1h15m30.918274s // d.Round( 1ms) = 1h15m30.918s // d.Round( 1s) = 1h15m31s // d.Round( 2s) = 1h15m30s // d.Round( 1m0s) = 1h16m0s // d.Round( 10m0s) = 1h20m0s // d.Round(1h0m0s) = 1h0m0s   func (Duration) Truncate 1  func (d Duration) Truncate(m Duration) Duration   Truncate将舍入d的结果返回到零到m的倍数。如果m 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37  package main import ( \"fmt\" \"time\" ) func main() { d, err := time.ParseDuration(\"1h15m30.918273645s\") if err != nil { panic(err) } trunc := []time.Duration{ time.Nanosecond, time.Microsecond, time.Millisecond, time.Second, 2 * time.Second, time.Minute, 10 * time.Minute, time.Hour, } for _, t := range trunc { fmt.Printf(\"d.Truncate(%6s) = %s\\n\", t, d.Truncate(t).String()) } } // d.Truncate( 1ns) = 1h15m30.918273645s // d.Truncate( 1µs) = 1h15m30.918273s // d.Truncate( 1ms) = 1h15m30.918s // d.Truncate( 1s) = 1h15m30s // d.Truncate( 2s) = 1h15m30s // d.Truncate( 1m0s) = 1h15m0s // d.Truncate( 10m0s) = 1h10m0s // d.Truncate(1h0m0s) = 1h0m0s   type Location 1 2 3  type Location struct { // 内含隐藏或非导出字段 }   Location代表一个（关联到某个时间点的）地点，以及该地点所在的时区。\n1  var Local *Location = \u0026localLoc   Local代表系统本地，对应本地时区。\n1  var UTC *Location = \u0026utcLoc   UTC代表通用协调时间，对应零时区。\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26  package main import ( \"fmt\" \"time\" ) func main() { // China doesn't have daylight saving. It uses a fixed 8 hour offset from UTC. \tsecondsEastOfUTC := int((8 * time.Hour).Seconds()) beijing := time.FixedZone(\"Beijing Time\", secondsEastOfUTC) // If the system has a timezone database present, it's possible to load a location \t// from that, e.g.: \t// newYork, err := time.LoadLocation(\"America/New_York\")  // Creating a time requires a location. Common locations are time.Local and time.UTC. \ttimeInUTC := time.Date(2009, 1, 1, 12, 0, 0, 0, time.UTC) sameTimeInBeijing := time.Date(2009, 1, 1, 20, 0, 0, 0, beijing) // Although the UTC clock time is 1200 and the Beijing clock time is 2000, Beijing is \t// 8 hours ahead so the two dates actually represent the same instant. \ttimesAreEqual := timeInUTC.Equal(sameTimeInBeijing) fmt.Println(timesAreEqual) }   func LoadLocation 1  func LoadLocation(name string) (*Location, error)   LoadLocation返回使用给定的名字创建的Location。\n如果name是\"“或\"UTC”，返回UTC；如果name是\"Local\"，返回Local；否则name应该是IANA时区数据库里有记录的地点名（该数据库记录了地点和对应的时区），如\"America/New_York\"。\nLoadLocation函数需要的时区数据库可能不是所有系统都提供，特别是非Unix系统。此时LoadLocation会查找环境变量ZONEINFO指定目录或解压该变量指定的zip文件（如果有该环境变量）；然后查找Unix系统的惯例时区数据安装位置，最后查找$GOROOT/lib/time/zoneinfo.zip。\nfunc FixedZone 1  func FixedZone(name string, offset int) *Location   FixedZone返回一个始终使用给定区域名称和偏移量（UTC以东几秒）的位置。\n1 2 3 4 5 6 7 8 9 10 11 12 13  package main import ( \"fmt\" \"time\" ) func main() { loc := time.FixedZone(\"UTC-8\", -8*60*60) t := time.Date(2009, time.November, 10, 23, 0, 0, 0, loc) fmt.Println(\"The time is:\", t.Format(time.RFC822)) }   func LoadLocationFromTZData 1.10 1  func LoadLocationFromTZData（name string，data [] byte）（* Location，error）   LoadLocationFromTZData返回具有从IANA时区数据库格式的数据初始化的给定名称的Location。数据应采用标准IANA时区文件的格式(例如，Unix系统上的/etc /localtime的内容)。\nfunc (*Location) String 1  func (l *Location) String() string   String返回对时区信息的描述，返回值绑定为LoadLocation或FixedZone函数创建l时的name参数。\ntype Month 1  type Month int   Month代表一年的某个月。\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  const ( January Month = 1 + iota February March April May June July August September October November December )   1 2 3 4 5 6 7 8 9 10 11 12 13  package main import ( \"fmt\" \"time\" ) func main() { _, month, day := time.Now().Date() if month == time.November \u0026\u0026 day == 10 { fmt.Println(\"Happy Go day!\") } }   func (Month) String 1  func (m Month) String() string   String返回月份的英文名（“January”，“February”，……）\ntype ParseError 1 2 3 4 5 6 7  type ParseError struct { Layout string Value string LayoutElem string ValueElem string Message string }   ParseError描述解析时间字符串时出现的错误。\nfunc (*ParseError) Error 1  func (e *ParseError) Error() string   Error返回ParseError的字符串表示。\ntype Ticker Ticker保管一个通道，并每隔一段时间向其传递\"tick\"。\n1 2 3 4  type Ticker struct { C chan Time // 周期性传递时间信息的通道  // 内含隐藏或非导出字段 }   func NewTicker 1  func NewTicker(d Duration) *Ticker   NewTicker返回一个新的Ticker，该Ticker包含一个通道字段，并会每隔时间段d就向该通道发送当时的时间。它会调整时间间隔或者丢弃tick信息以适应反应慢的接收者。如果d1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25  package main import ( \"fmt\" \"time\" ) func main() { ticker := time.NewTicker(time.Second) defer ticker.Stop() done := make(chan bool) go func() { time.Sleep(10 * time.Second) done  true }() for { select { case done: fmt.Println(\"Done!\") return case t := ticker.C: fmt.Println(\"Current time: \", t) } } }   func (*Ticker) Stop 1  func (t *Ticker) Stop()   Stop关闭一个Ticker。在关闭后，将不会发送更多的tick信息。Stop不会关闭通道t.C，以避免从该通道的读取不正确的成功。\ntype Time Time代表一个纳秒精度的时间点。\n程序中应使用Time类型值来保存和传递时间，而不能用指针。就是说，表示时间的变量和字段，应为time.Time类型，而不是*time.Time.类型。除了方法GobDecode，UnmarshalBinary，UnmarshalJSON和UnmarshalText不是并发安全的，时间值可以由多个goroutine同时使用。时间点可以使用Before、After和Equal方法进行比较。Sub方法让两个时间点相减，生成一个Duration类型值（代表时间段）。Add方法给一个时间点加上一个时间段，生成一个新的Time类型时间点。\nTime零值代表时间点January 1, year 1, 00:00:00.000000000 UTC。因为本时间点一般不会出现在使用中，IsZero方法提供了检验时间是否显式初始化的一个简单途径。\n每一个时间都具有一个地点信息（及对应地点的时区信息），当计算时间的表示格式时，如Format、Hour和Year等方法，都会考虑该信息。Local、UTC和In方法返回一个指定时区（但指向同一时间点）的Time。修改地点/时区信息只是会改变其表示；不会修改被表示的时间点，因此也不会影响其计算。\n除了所需的“挂钟”读数外，时间可能包含当前过程的单调时钟的可选读数，以提供额外的比较或减法精度。有关详细信息，请参阅包文档中的“单调时钟”部分。\n请注意，Go ==运算符不仅比较时刻，还比较位置和单调时钟读数。因此，在不首先保证为所有值设置相同的位置时，不应将时间值用作映射或数据库键，这可以通过使用UTC或本地方法来实现，并且单调时钟读数已被剥离设置t = t.Round（0）。通常，更喜欢t.Equal（u）,因为t.Equal使用最准确的比较，并且能正确处理只有其中一个参数具有单调时钟读数的情况\n1 2 3  type Time struct { // 内含隐藏或非导出字段 }   func Date 1  func Date(year int, month Month, day, hour, min, sec, nsec int, loc *Location) Time   Date返回一个时区为loc、当地时间为：\nyear-month-day hour:min:sec + nsec nanoseconds  的时间点。\nmonth、day、hour、min、sec和nsec的值可能会超出它们的正常范围，在转换前函数会自动将之规范化。如October 32被修正为November 1。\n夏时制的时区切换会跳过或重复时间。如，在美国，March 13, 2011 2:15am从来不会出现，而November 6, 2011 1:15am 会出现两次。此时，时区的选择和时间是没有良好定义的。Date会返回在时区切换的两个时区其中一个时区\n正确的时间，但本函数不会保证在哪一个时区正确。\n如果loc为nil会panic。\n1 2 3 4 5 6 7 8 9 10 11  package main import ( \"fmt\" \"time\" ) func main() { t := time.Date(2009, time.November, 10, 23, 0, 0, 0, time.UTC) fmt.Printf(\"Go launched at %s\\n\", t.Local()) }   func Now 1  func Now() Time   返回当前的本地时间。\nfunc Parse 1  func Parse(layout, value string) (Time, error)   Parse解析一个格式化的时间字符串并返回它代表的时间。layout定义了参考时间：\n1  Mon Jan 2 15:04:05 -0700 MST 2006   在输入格式下的字符串表示，作为输入的格式的示例。同样的格式规则会被用于输入字符串。\n预定义的ANSIC、UnixDate、RFC3339和其他版式描述了参考时间的标准或便捷表示。要获得更多参考时间的定义和格式，参见本包的ANSIC和其他版式常量。\nvalue中漏掉的元素会被视为0；如果不能是0，会被视为1。因此，解析\"3:04pm\"会返回对应时间点：Jan 1, year 0, 15:04:00 UTC的Time（注意因为year为0，该时间在Time零值之前）。年份必须在0000..9999范围内。周几会被检查其语法，但是会被忽略。\n如果缺少表示时区的信息，Parse会将时区设置为UTC。\n当解析具有时区偏移量的时间字符串时，如果该时区偏移量和本地时区相同，Parse会在返回值中将Location设置为本地和本地时区。否则，它会将Location设置为一个虚构的具有该时区偏移量的值。\n当解析具有时区缩写的时间字符串时，如果该时区缩写具有已定义的时间偏移量，会使用该偏移量。如果时区缩写是\"UTC\"，会将该时间视为UTC时间，不考虑Location。如果时区缩写是未知的，Parse会将Location设置为一个虚构的地点为时区缩写，时间偏移量为0的值。这种做法是为了让一个时间可以在同一版式下不丢失信息的被解析和重新格式化；但字符串表示和具体表示的时间点会因为实际时区偏移量而不同。为了避免这些问题，请使用数字表示的时区偏移量，或者使用ParseInLocation函数。\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40  package main import ( \"fmt\" \"time\" ) func main() { // See the example for Time.Format for a thorough description of how \t// to define the layout string to parse a time.Time value; Parse and \t// Format use the same model to describe their input and output.  // longForm shows by example how the reference time would be represented in \t// the desired layout. \tconst longForm = \"Jan 2, 2006 at 3:04pm (MST)\" t, _ := time.Parse(longForm, \"Feb 3, 2013 at 7:54pm (PST)\") fmt.Println(t) // shortForm is another way the reference time would be represented \t// in the desired layout; it has no time zone present. \t// Note: without explicit zone, returns time in UTC. \tconst shortForm = \"2006-Jan-02\" t, _ = time.Parse(shortForm, \"2013-Feb-03\") fmt.Println(t) // Some valid layouts are invalid time values, due to format specifiers \t// such as _ for space padding and Z for zone information. \t// For example the RFC3339 layout 2006-01-02T15:04:05Z07:00 \t// contains both Z and a time zone offset in order to handle both valid options: \t// 2006-01-02T15:04:05Z \t// 2006-01-02T15:04:05+07:00 \tt, _ = time.Parse(time.RFC3339, \"2006-01-02T15:04:05Z\") fmt.Println(t) t, _ = time.Parse(time.RFC3339, \"2006-01-02T15:04:05+07:00\") fmt.Println(t) _, err := time.Parse(time.RFC3339, time.RFC3339) fmt.Println(\"error\", err) // Returns an error as the layout is not a valid time value  }   func ParseInLocation 1.1 1  func ParseInLocation(layout, value string, loc *Location) (Time, error)   ParseInLocation类似Parse但有两个重要的不同之处。第一，当缺少时区信息时，Parse将时间解释为UTC时间，而ParseInLocation将返回值的Location设置为loc；第二，当时间字符串提供了时区偏移量信息时，Parse会尝试去匹配本地时区，而ParseInLocation会去匹配loc。\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20  package main import ( \"fmt\" \"time\" ) func main() { loc, _ := time.LoadLocation(\"Europe/Berlin\") const longForm = \"Jan 2, 2006 at 3:04pm (MST)\" t, _ := time.ParseInLocation(longForm, \"Jul 9, 2012 at 5:02am (CEST)\", loc) fmt.Println(t) // Note: without explicit zone, returns time in given location. \tconst shortForm = \"2006-Jan-02\" t, _ = time.ParseInLocation(shortForm, \"2012-Jul-09\", loc) fmt.Println(t) }   func Unix 1  func Unix(sec int64, nsec int64) Time   Unix创建一个本地时间，对应sec和nsec表示的Unix时间（从January 1, 1970 UTC至该时间的秒数和纳秒数）。\nnsec的值在[0, 999999999]范围外是合法的。\nfunc (Time) Add 1  func (t Time) Add(d Duration) Time   Add返回时间t + d。\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21  package main import ( \"fmt\" \"time\" ) func main() { start := time.Date(2009, 1, 1, 12, 0, 0, 0, time.UTC) afterTenSeconds := start.Add(time.Second * 10) afterTenMinutes := start.Add(time.Minute * 10) afterTenHours := start.Add(time.Hour * 10) afterTenDays := start.Add(time.Hour * 24 * 10) fmt.Printf(\"start = %v\\n\", start) fmt.Printf(\"start.Add(time.Second * 10) = %v\\n\", afterTenSeconds) fmt.Printf(\"start.Add(time.Minute * 10) = %v\\n\", afterTenMinutes) fmt.Printf(\"start.Add(time.Hour * 10) = %v\\n\", afterTenHours) fmt.Printf(\"start.Add(time.Hour * 24 * 10) = %v\\n\", afterTenDays) }   func (Time) AddDate 1  func (t Time) AddDate(years int, months int, days int) Time   AddDate返回增加了给出的年份、月份和天数的时间点Time。例如，时间点January 1, 2011调用AddDate(-1, 2, 3)会返回March 4, 2010。\nAddDate会将结果规范化，类似Date函数的做法。因此，举个例子，给时间点October 31添加一个月，会生成时间点December 1。（从时间点November 31规范化而来）\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  package main import ( \"fmt\" \"time\" ) func main() { start := time.Date(2009, 1, 1, 0, 0, 0, 0, time.UTC) oneDayLater := start.AddDate(0, 0, 1) oneMonthLater := start.AddDate(0, 1, 0) oneYearLater := start.AddDate(1, 0, 0) fmt.Printf(\"oneDayLater: start.AddDate(0, 0, 1) = %v\\n\", oneDayLater) fmt.Printf(\"oneMonthLater: start.AddDate(0, 1, 0) = %v\\n\", oneMonthLater) fmt.Printf(\"oneYearLater: start.AddDate(1, 0, 0) = %v\\n\", oneYearLater) }   func (Time) After 1  func (t Time) After(u Time) bool   如果t代表的时间点在u之后，返回真；否则返回假。\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19  package main import ( \"fmt\" \"time\" ) func main() { year2000 := time.Date(2000, 1, 1, 0, 0, 0, 0, time.UTC) year3000 := time.Date(3000, 1, 1, 0, 0, 0, 0, time.UTC) isYear3000AfterYear2000 := year3000.After(year2000) // True \tisYear2000AfterYear3000 := year2000.After(year3000) // False  fmt.Printf(\"year3000.After(year2000) = %v\\n\", isYear3000AfterYear2000) fmt.Printf(\"year2000.After(year3000) = %v\\n\", isYear2000AfterYear3000) }   func（Time）AppendFormat 1.5 1  func (t Time) AppendFormat(b []byte, layout string) []byte   AppendFormat与Format类似，但将文本表示附加到b并返回扩展缓冲区。\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  package main import ( \"fmt\" \"time\" ) func main() { t := time.Date(2017, time.November, 4, 11, 0, 0, 0, time.UTC) text := []byte(\"Time: \") text = t.AppendFormat(text, time.Kitchen) fmt.Println(string(text))   func (Time) Before 1  func (t Time) Before(u Time) bool   如果t代表的时间点在u之前，返回真；否则返回假。\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  package main import ( \"fmt\" \"time\" ) func main() { year2000 := time.Date(2000, 1, 1, 0, 0, 0, 0, time.UTC) year3000 := time.Date(3000, 1, 1, 0, 0, 0, 0, time.UTC) isYear2000BeforeYear3000 := year2000.Before(year3000) // True \tisYear3000BeforeYear2000 := year3000.Before(year2000) // False  fmt.Printf(\"year2000.Before(year3000) = %v\\n\", isYear2000BeforeYear3000) fmt.Printf(\"year3000.Before(year2000) = %v\\n\", isYear3000BeforeYear2000) }   func (Time) Clock 1  func (t Time) Clock() (hour, min, sec int)   返回t对应的那一天的时、分、秒。\nfunc (Time) Date 1  func (t Time) Date() (year int, month Month, day int)   日期返回t发生的年，月和日。\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  package main import ( \"fmt\" \"time\" ) func main() { d := time.Date(2000, 2, 1, 12, 30, 0, 0, time.UTC) year, month, day := d.Date() fmt.Printf(\"year = %v\\n\", year) fmt.Printf(\"month = %v\\n\", month) fmt.Printf(\"day = %v\\n\", day) }   func (Time) Day 1  func (t Time) Day() int   返回时间点t对应那一月的第几日。\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  package main import ( \"fmt\" \"time\" ) func main() { d := time.Date(2000, 2, 1, 12, 30, 0, 0, time.UTC) day := d.Day() fmt.Printf(\"day = %v\\n\", day) }   func (Time) Equal 1  func (t Time) Equal(u Time) bool   判断两个时间是否相同，会考虑时区的影响，因此不同时区标准的时间也可以正确比较。本方法和用t==u不同，这种方法还会比较地点和时区信息。\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24  package main import ( \"fmt\" \"time\" ) func main() { secondsEastOfUTC := int((8 * time.Hour).Seconds()) beijing := time.FixedZone(\"Beijing Time\", secondsEastOfUTC) // Unlike the equal operator, Equal is aware that d1 and d2 are the \t// same instant but in different time zones. \td1 := time.Date(2000, 2, 1, 12, 30, 0, 0, time.UTC) d2 := time.Date(2000, 2, 1, 20, 30, 0, 0, beijing) datesEqualUsingEqualOperator := d1 == d2 datesEqualUsingFunction := d1.Equal(d2) fmt.Printf(\"datesEqualUsingEqualOperator = %v\\n\", datesEqualUsingEqualOperator) fmt.Printf(\"datesEqualUsingFunction = %v\\n\", datesEqualUsingFunction) }   func (Time) Format 1  func (t Time) Format(layout string) string   Format根据layout指定的格式返回t代表的时间点的格式化文本表示。layout定义了参考时间：\n1  Mon Jan 2 15:04:05 -0700 MST 2006   格式化后的字符串表示，它作为期望输出的例子。同样的格式规则会被用于格式化时间。\n预定义的ANSIC、UnixDate、RFC3339和其他版式描述了参考时间的标准或便捷表示。要获得更多参考时间的定义和格式，参见本包的ANSIC和其他版式常量。\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106  package main import ( \"fmt\" \"time\" ) func main() { // Parse a time value from a string in the standard Unix format. \tt, err := time.Parse(time.UnixDate, \"Sat Mar 7 11:06:39 PST 2015\") if err != nil { // Always check errors even if they should not happen. \tpanic(err) } // time.Time's Stringer method is useful without any format. \tfmt.Println(\"default format:\", t) // Predefined constants in the package implement common layouts. \tfmt.Println(\"Unix format:\", t.Format(time.UnixDate)) // The time zone attached to the time value affects its output. \tfmt.Println(\"Same, in UTC:\", t.UTC().Format(time.UnixDate)) // The rest of this function demonstrates the properties of the \t// layout string used in the format.  // The layout string used by the Parse function and Format method \t// shows by example how the reference time should be represented. \t// We stress that one must show how the reference time is formatted, \t// not a time of the user's choosing. Thus each layout string is a \t// representation of the time stamp, \t//\tJan 2 15:04:05 2006 MST \t// An easy way to remember this value is that it holds, when presented \t// in this order, the values (lined up with the elements above): \t//\t1 2 3 4 5 6 -7 \t// There are some wrinkles illustrated below.  // Most uses of Format and Parse use constant layout strings such as \t// the ones defined in this package, but the interface is flexible, \t// as these examples show.  // Define a helper function to make the examples' output look nice. \tdo := func(name, layout, want string) { got := t.Format(layout) if want != got { fmt.Printf(\"error: for %q got %q; expected %q\\n\", layout, got, want) return } fmt.Printf(\"%-15s %q gives %q\\n\", name, layout, got) } // Print a header in our output. \tfmt.Printf(\"\\nFormats:\\n\\n\") // A simple starter example. \tdo(\"Basic\", \"Mon Jan 2 15:04:05 MST 2006\", \"Sat Mar 7 11:06:39 PST 2015\") // For fixed-width printing of values, such as the date, that may be one or \t// two characters (7 vs. 07), use an _ instead of a space in the layout string. \t// Here we print just the day, which is 2 in our layout string and 7 in our \t// value. \tdo(\"No pad\", \"\", \"\") // An underscore represents a space pad, if the date only has one digit. \tdo(\"Spaces\", \"\", \"\") // A \"0\" indicates zero padding for single-digit values. \tdo(\"Zeros\", \"\", \"\") // If the value is already the right width, padding is not used. \t// For instance, the second (05 in the reference time) in our value is 39, \t// so it doesn't need padding, but the minutes (04, 06) does. \tdo(\"Suppressed pad\", \"04:05\", \"06:39\") // The predefined constant Unix uses an underscore to pad the day. \t// Compare with our simple starter example. \tdo(\"Unix\", time.UnixDate, \"Sat Mar 7 11:06:39 PST 2015\") // The hour of the reference time is 15, or 3PM. The layout can express \t// it either way, and since our value is the morning we should see it as \t// an AM time. We show both in one format string. Lower case too. \tdo(\"AM/PM\", \"3PM==3pm==15h\", \"11AM==11am==11h\") // When parsing, if the seconds value is followed by a decimal point \t// and some digits, that is taken as a fraction of a second even if \t// the layout string does not represent the fractional second. \t// Here we add a fractional second to our time value used above. \tt, err = time.Parse(time.UnixDate, \"Sat Mar 7 11:06:39.1234 PST 2015\") if err != nil { panic(err) } // It does not appear in the output if the layout string does not contain \t// a representation of the fractional second. \tdo(\"No fraction\", time.UnixDate, \"Sat Mar 7 11:06:39 PST 2015\") // Fractional seconds can be printed by adding a run of 0s or 9s after \t// a decimal point in the seconds value in the layout string. \t// If the layout digits are 0s, the fractional second is of the specified \t// width. Note that the output has a trailing zero. \tdo(\"0s for fraction\", \"15:04:05.00000\", \"11:06:39.12340\") // If the fraction in the layout is 9s, trailing zeros are dropped. \tdo(\"9s for fraction\", \"15:04:05.99999999\", \"11:06:39.1234\") }   func (*Time) GobDecode 1  func (t *Time) GobDecode(data []byte) error   GobDecode实现了gob.GobDecoder接口。\nfunc (Time) GobEncode 1  func (t Time) GobEncode() ([]byte, error)   GobEncode实现了gob.GobEncoder接口。\nfunc (Time) Hour 1  func (t Time) Hour() int   小时返回t指定的日期内的小时，范围为[0,23]。\nfunc (Time) ISOWeek 1  func (t Time) ISOWeek() (year, week int)   返回时间点t对应的ISO 9601标准下的年份和星期编号。星期编号范围[1,53]，1月1号到1月3号可能属于上一年的最后一周，12月29号到12月31号可能属于下一年的第一周。\nfunc (Time) In 1  func (t Time) In(loc *Location) Time   In返回采用loc指定的地点和时区，但指向同一时间点的Time。如果loc为nil会panic。\nffunc (Time) IsZero 1  func (t Time) IsZero() bool   IsZero报告t是否代表Time零值的时间点，January 1, year 1, 00:00:00 UTC。\nfunc (Time) Local 1  func (t Time) Local() Time   Local返回采用本地和本地时区，但指向同一时间点的Time。\nfunc (Time) Location 1  func (t Time) Location() *Location   Location返回t的地点和时区信息。\nfunc (Time) MarshalBinary 1  func (t Time) MarshalBinary() ([]byte, error)   MarshalBinary实现了encoding.BinaryMarshaler接口。\nfunc (Time) MarshalJSON 1  func (t Time) MarshalJSON() ([]byte, error)   MarshalJSON实现了json.Marshaler接口。返回值是用双引号括起来的采用RFC 3339格式进行格式化的时间表示，如果需要会提供小于秒的精度。\nfunc (Time) MarshalText 1  func (t Time) MarshalText() ([]byte, error)   MarshalText实现了encoding.TextMarshaler接口。返回值是采用RFC 3339格式进行格式化的时间表示，如果需要会提供小于秒的精度。\nfunc (Time) Minute 1  func (t Time) Minute() int   返回t对应的那一小时的第几分种，范围[0, 59]。\nfunc (Time) Month 1  func (t Time) Month() Month   返回时间点t对应那一年的第几月。\nfunc (Time) Nanosecond 1  func (t Time) Nanosecond() int   返回t对应的那一秒内的纳秒偏移量，范围[0, 999999999]。\nfunc (Time) Round 1  func (t Time) Round(d Duration) Time   返回距离t最近的时间点，该时间点应该满足从Time零值到该时间点的时间段能整除d；如果有两个满足要求的时间点，距离t相同，会向上舍入；如果d Round作为零时间以来的绝对持续时间运行;它不适用于当时的演示形式。因此，Round（Hour）可能会返回非零分钟的时间，具体取决于时间的位置。\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24  package main import ( \"fmt\" \"time\" ) func main() { t := time.Date(0, 0, 0, 12, 15, 30, 918273645, time.UTC) round := []time.Duration{ time.Nanosecond, time.Microsecond, time.Millisecond, time.Second, 2 * time.Second, time.Minute, 10 * time.Minute, time.Hour, } for _, d := range round { fmt.Printf(\"t.Round(%6s) = %s\\n\", d, t.Round(d).Format(\"15:04:05.999999999\")) } }   func (Time) Second 1  func (t Time) Second() int   Second返回t指定的分钟内的第二个偏移量，范围为[0,59]。\nfunc (Time) String 1  func (t Time) String() string   String返回采用如下格式字符串的格式化时间。\n1  \"2006-01-02 15:04:05.999999999 -0700 MST\"   如果时间具有单调时钟读数，则返回的字符串包括最终字段“m =±”，其中值是单调时钟读数，格式化为十进制秒数。\n返回的字符串用于调试; 对于稳定的序列化表示，请使用t.MarshalText，t.MarshalBinary或带有显式格式字符串的t.Format。\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  package main import ( \"fmt\" \"time\" ) func main() { timeWithNanoseconds := time.Date(2000, 2, 1, 12, 13, 14, 15, time.UTC) withNanoseconds := timeWithNanoseconds.String() timeWithoutNanoseconds := time.Date(2000, 2, 1, 12, 13, 14, 0, time.UTC) withoutNanoseconds := timeWithoutNanoseconds.String() fmt.Printf(\"withNanoseconds = %v\\n\", string(withNanoseconds)) fmt.Printf(\"withoutNanoseconds = %v\\n\", string(withoutNanoseconds)) }   func (Time) Sub 1  func (t Time) Sub(u Time) Duration   返回一个时间段t-u。如果结果超出了Duration可以表示的最大值/最小值，将返回最大值/最小值。要获取时间点t-d（d为Duration），可以使用t.Add(-d)。\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  package main import ( \"fmt\" \"time\" ) func main() { start := time.Date(2000, 1, 1, 0, 0, 0, 0, time.UTC) end := time.Date(2000, 1, 1, 12, 0, 0, 0, time.UTC) difference := end.Sub(start) fmt.Printf(\"difference = %v\\n\", difference) }   func (Time) Truncate 1.1 1  func (t Time) Truncate(d Duration) Time   Truncate将舍入t的结果返回到d的倍数（从零时间开始）。如果d 截断时间作为零时间以来的绝对持续时间运行; 它不适用于当时的演示形式。因此，Truncate(Hour)可能会返回非零分钟的时间，具体取决于时间的位置。\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27  package main import ( \"fmt\" \"time\" ) func main() { t, _ := time.Parse(\"2006 Jan 02 15:04:05\", \"2012 Dec 07 12:15:30.918273645\") trunc := []time.Duration{ time.Nanosecond, time.Microsecond, time.Millisecond, time.Second, 2 * time.Second, time.Minute, 10 * time.Minute, } for _, d := range trunc { fmt.Printf(\"t.Truncate(%5s) = %s\\n\", d, t.Truncate(d).Format(\"15:04:05.999999999\")) } // To round to the last midnight in the local timezone, create a new Date. \tmidnight := time.Date(t.Year(), t.Month(), t.Day(), 0, 0, 0, 0, time.Local) _ = midnight }   func (Time) UTC 1  func (t Time) UTC() Time   UTC返回采用UTC和零时区，但指向同一时间点的Time。\nfunc (Time) Unix 1  func (t Time) Unix() int64   Unix返回t作为Unix时间，即自1970年1月1日UTC以来经过的秒数。结果不依赖于与t相关的位置。\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19  package main import ( \"fmt\" \"time\" ) func main() { // 1 billion seconds of Unix, three ways. \tfmt.Println(time.Unix(1e9, 0).UTC()) // 1e9 seconds \tfmt.Println(time.Unix(0, 1e18).UTC()) // 1e18 nanoseconds \tfmt.Println(time.Unix(2e9, -1e18).UTC()) // 2e9 seconds - 1e18 nanoseconds  t := time.Date(2001, time.September, 9, 1, 46, 40, 0, time.UTC) fmt.Println(t.Unix()) // seconds since 1970 \tfmt.Println(t.UnixNano()) // nanoseconds since 1970  }   func (Time) UnixNano 1  func (t Time) UnixNano() int64   UnixNano将t作为Unix时间返回，这是自1970年1月1日UTC以来经过的纳秒数。如果以纳秒为单位的Unix时间不能用int64表示（1678年之前或2262之后的日期），则结果是未定义的。请注意，这意味着在零时调用UnixNano的结果是未定义的。结果不依赖于与t相关的位置。\nfunc (*Time) UnmarshalBinary 1.2 1  func (t *Time) UnmarshalBinary(data []byte) error   UnmarshalBinary实现encoding.BinaryUnmarshaler接口。\nfunc (*Time) UnmarshalJSON 1  func (t *Time) UnmarshalJSON(data []byte) error   UnmarshalJSON实现了json.Unmarshaler接口。预计时间是RFC 3339格式的带引号的字符串。\nfunc (*Time) UnmarshalText 1.2 1  func (t *Time) UnmarshalText(data []byte) error   UnmarshalText实现encoding.TextUnmarshaler接口。预计时间为RFC 3339格式。\nfunc (Time) Weekday 1  func (t Time) Weekday() Weekday   返回时间点t对应的那一周的周几。\nfunc (Time) Year 1  func (t Time) Year() int   年份返回t发生的年份。\nfunc (Time) YearDay 1  func (t Time) YearDay() int   返回时间点t对应的那一年的第几天，平年的返回值范围[1,365]，闰年[1,366]。\nfunc (Time) Zone 1  func (t Time) Zone() (name string, offset int)   Zone计算t所在的时区，返回该时区的规范名（如\"CET\"）和该时区相对于UTC的时间偏移量（单位秒）。\ntype Timer 1 2 3 4  type Timer struct { C chan Time // 内含隐藏或非导出字段 }   Timer类型代表单次时间事件。当Timer到期时，当时的时间会被发送给C，除非Timer是被AfterFunc函数创建的。\nfunc NewTimer 1  func NewTimer(d Duration) *Timer   NewTimer创建一个Timer，它会在最少过去时间段d后到期，向其自身的C字段发送当时的时间。\nfunc AfterFunc 1  func AfterFunc(d Duration, f func()) *Timer   AfterFunc另起一个go程等待时间段d过去，然后调用f。它返回一个Timer，可以通过调用其Stop方法来取消等待和对f的调用。\nfunc (*Timer) Reset 1  func (t *Timer) Reset(d Duration) bool   Reset使t重新开始计时，（本方法返回后再）等待时间段d过去后到期。如果调用时t还在等待中会返回真；如果t已经到期或者被停止了会返回假。\n重置计时器必须注意不要与当前计时器到期时发送到t.C的竞争对手竞争。如果程序已经从t.C接收到一个值，则已知定时器已到期，并且可以直接使用t.Reset。但是，如果程序尚未从t.C接收到值，则必须停止计时器，并且如果Stop报告计时器在停止之前已到期 - 通道明确耗尽：\n1 2 3 4  if !t.Stop() { t.C } t.Reset(d)   这不应该与Timer的通道中的其他接收同时进行。\n请注意，无法正确使用Reset的返回值，因为在排空通道和新计时器到期之间存在竞争条件。如上所述，应始终在已停止或已过期的通道上调用重置。存在返回值以保持与现有程序的兼容性。\nfunc (*Timer) Stop 1  func (t *Timer) Stop() bool   Stop停止Timer的执行。如果停止了t会返回真；如果t已经被停止或者过期了会返回假。Stop不会关闭通道t.C，以避免从该通道的读取不正确的成功。\n要防止使用NewTimer创建的计时器在调用Stop之后触发，请检查返回值并排空通道。例如，假设程序尚未从t.C收到：\n1 2 3  if !t.Stop() { t.C }   这不能与Timer的通道中的其他接收同时进行。\n对于使用AfterFunc（d，f）创建的计时器，如果t.Stop返回false，则计时器已经过期并且函数f已在其自己的goroutine中启动; 在返回之前，Stop不会等待f完成。如果调用者需要知道f是否完成，则必须明确地与f协调。\ntype Weekday 1  type Weekday int   Weekday代表一周的某一天。\n1 2 3 4 5 6 7 8 9  const ( Sunday Weekday = iota Monday Tuesday Wednesday Thursday Friday Saturday )   func (Weekday) String 1  func (d Weekday) String() string   String返回该日（周几）的英文名（“Sunday”、“Monday”，……）\n",
  "wordCount" : "12559",
  "inLanguage": "zh-cn",
  "datePublished": "2018-12-21T13:23:32Z",
  "dateModified": "2018-12-21T13:23:32Z",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "/post/time%E5%8C%85%E8%A7%A3%E6%9E%90-1-13/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Forz Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>
<noscript>
    <style type="text/css">
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: #1d1e20;
                --entry: #2e2e33;
                --primary: rgba(255, 255, 255, 0.84);
                --secondary: rgba(255, 255, 255, 0.56);
                --tertiary: rgba(255, 255, 255, 0.16);
                --content: rgba(255, 255, 255, 0.74);
                --hljs-bg: #2e2e33;
                --code-bg: #37383e;
                --border: #333;
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="/" accesskey="h" title="Forz Blog (Alt + H)">Forz Blog</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="/" title="Home">
                    <span>Home</span>
                </a>
            </li>
            <li>
                <a href="/post/" title="Archives">
                    <span>Archives</span>
                </a>
            </li>
            <li>
                <a href="/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="/categories/" title="Categories">
                    <span>Categories</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      time包解析(1.11)
    </h1>
    <div class="post-meta">December 21, 2018
</div>
  </header> 
  <div class="post-content"><h1 id="常量">常量<a hidden class="anchor" aria-hidden="true" href="#常量">#</a></h1>
<p>这些预定义的版式用于Time.Format和Time.Parse函数。用在版式中的参考时间是：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="nx">Mon</span> <span class="nx">Jan</span> <span class="mi">2</span> <span class="mi">15</span><span class="p">:</span><span class="mo">04</span><span class="p">:</span><span class="mo">05</span> <span class="nx">MST</span> <span class="mi">2006</span>
</code></pre></td></tr></table>
</div>
</div><p>对应的Unix时间是1136239445。因为MST的时区是GMT-0700，参考时间也可以表示为如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="mo">01</span><span class="o">/</span><span class="mo">02</span> <span class="mo">03</span><span class="p">:</span><span class="mo">04</span><span class="p">:</span><span class="mo">05</span><span class="nx">PM</span> <span class="err">&#39;</span><span class="mo">06</span> <span class="o">-</span><span class="mo">0700</span>
</code></pre></td></tr></table>
</div>
</div><p>要定义你自己的格式，写下该参考时间应用于你的格式的情况；例子请参见ANSIC、StampMicro或Kitchen等常数的值。该模型是为了演示参考时间的格式化效果，如此一来Format和Parse方法可以将相同的转换规则用于一个普通的时间值。</p>
<p>在格式字符串中，用前置的'0&rsquo;表示一个可以被可以被数字替换的'0'（如果它后面的数字有两位）；使用下划线表示一个可以被数字替换的空格（如果它后面的数字有两位）；以便兼容Unix定长时间格式。</p>
<p>小数点后跟0到多个'0'，表示秒数的小数部分，输出时会生成和'0&rsquo;一样多的小数位；小数点后跟0到多个'9'，表示秒数的小数部分，输出时会生成和'9&rsquo;一样多的小数位但会将拖尾的'0&rsquo;去掉。（只有）解析时，输入可以在秒字段后面紧跟一个小数部分，即使格式字符串里没有指明该部分。此时，小数点及其后全部的数字都会成为秒的小数部分。</p>
<p>数字表示的时区格式如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="o">-</span><span class="mo">0700</span>  <span class="err">±</span><span class="nx">hhmm</span>
<span class="o">-</span><span class="mo">07</span><span class="p">:</span><span class="mo">00</span> <span class="err">±</span><span class="nx">hh</span><span class="p">:</span><span class="nx">mm</span>
<span class="o">-</span><span class="mo">07</span>    <span class="err">±</span><span class="nx">hh</span>
</code></pre></td></tr></table>
</div>
</div><p>将格式字符串中的负号替换为Z会触发ISO 8601行为（当时区是UTC时，输出Z而不是时区偏移量），这样：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="nx">Z0700</span>  <span class="nx">Z</span> <span class="nx">or</span> <span class="err">±</span><span class="nx">hhmm</span>
<span class="nx">Z07</span><span class="p">:</span><span class="mo">00</span> <span class="nx">Z</span> <span class="nx">or</span> <span class="err">±</span><span class="nx">hh</span><span class="p">:</span><span class="nx">mm</span>
<span class="nx">Z07</span>    <span class="nx">Z</span> <span class="nx">or</span> <span class="err">±</span><span class="nx">hh</span>
</code></pre></td></tr></table>
</div>
</div><p>公认的星期几格式为&quot;Mon&quot;和&quot;Monday&quot;。已识别的月份格式为“Jan”和“January”。</p>
<p>格式字符串中未被识别为参考时间一部分的文本在格式化期间逐字回显，并且预期在Parse的输入中逐字显示。</p>
<p>Time.Format的可执行示例详细演示了版式字符串的工作，是一个很好的参考。</p>
<p>请注意，RFC822，RFC850和RFC1123格式只应应用于本地时间。将它们应用于UTC时间将使用“UTC”作为时区缩写，而严格地说，那些RFC在这种情况下需要使用“GMT”。通常，对于坚持该格式的服务器，应使用RFC1123Z而不是RFC1123，并且RFC3339应该是新协议的首选。RFC3339，RFC822，RFC822Z，RFC1123和RFC1123Z对格式化非常有用; 当与time.Parse一起使用时，它们不接受RFC允许的所有时间格式。RFC3339Nano格式从秒字段中删除尾随零，因此格式化后可能无法正确排序。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">const</span> <span class="p">(</span>
    <span class="nx">ANSIC</span>       <span class="p">=</span> <span class="s">&#34;Mon Jan _2 15:04:05 2006&#34;</span>
    <span class="nx">UnixDate</span>    <span class="p">=</span> <span class="s">&#34;Mon Jan _2 15:04:05 MST 2006&#34;</span>
    <span class="nx">RubyDate</span>    <span class="p">=</span> <span class="s">&#34;Mon Jan 02 15:04:05 -0700 2006&#34;</span>
    <span class="nx">RFC822</span>      <span class="p">=</span> <span class="s">&#34;02 Jan 06 15:04 MST&#34;</span>
    <span class="nx">RFC822Z</span>     <span class="p">=</span> <span class="s">&#34;02 Jan 06 15:04 -0700&#34;</span> <span class="c1">// 使用数字表示时区的RFC822
</span><span class="c1"></span>    <span class="nx">RFC850</span>      <span class="p">=</span> <span class="s">&#34;Monday, 02-Jan-06 15:04:05 MST&#34;</span>
    <span class="nx">RFC1123</span>     <span class="p">=</span> <span class="s">&#34;Mon, 02 Jan 2006 15:04:05 MST&#34;</span>
    <span class="nx">RFC1123Z</span>    <span class="p">=</span> <span class="s">&#34;Mon, 02 Jan 2006 15:04:05 -0700&#34;</span> <span class="c1">// 使用数字表示时区的RFC1123
</span><span class="c1"></span>    <span class="nx">RFC3339</span>     <span class="p">=</span> <span class="s">&#34;2006-01-02T15:04:05Z07:00&#34;</span>
    <span class="nx">RFC3339Nano</span> <span class="p">=</span> <span class="s">&#34;2006-01-02T15:04:05.999999999Z07:00&#34;</span>
    <span class="nx">Kitchen</span>     <span class="p">=</span> <span class="s">&#34;3:04PM&#34;</span>
    <span class="c1">// 方便的时间戳
</span><span class="c1"></span>    <span class="nx">Stamp</span>      <span class="p">=</span> <span class="s">&#34;Jan _2 15:04:05&#34;</span>
    <span class="nx">StampMilli</span> <span class="p">=</span> <span class="s">&#34;Jan _2 15:04:05.000&#34;</span>
    <span class="nx">StampMicro</span> <span class="p">=</span> <span class="s">&#34;Jan _2 15:04:05.000000&#34;</span>
    <span class="nx">StampNano</span>  <span class="p">=</span> <span class="s">&#34;Jan _2 15:04:05.000000000&#34;</span>
<span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>常用的时间段。没有定义一天或超过一天的单元，以避免夏时制的时区切换的混乱。</p>
<p>要计算持续时间中的单位数，请除以：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="nx">second</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Second</span>
<span class="nx">fmt</span><span class="p">.</span><span class="nf">Print</span><span class="p">(</span><span class="nb">int64</span><span class="p">(</span><span class="nx">second</span><span class="o">/</span><span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">))</span> <span class="c1">// prints 1000
</span></code></pre></td></tr></table>
</div>
</div><p>要将整数个单位转换为持续时间，请乘以：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="nx">seconds</span> <span class="o">:=</span> <span class="mi">10</span>
<span class="nx">fmt</span><span class="p">.</span><span class="nf">Print</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span class="nf">Duration</span><span class="p">(</span><span class="nx">seconds</span><span class="p">)</span><span class="o">*</span><span class="nx">time</span><span class="p">.</span><span class="nx">Second</span><span class="p">)</span> <span class="c1">// prints 10s
</span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">const</span> <span class="p">(</span>
        <span class="nx">Nanosecond</span>  <span class="nx">Duration</span> <span class="p">=</span> <span class="mi">1</span>
        <span class="nx">Microsecond</span>          <span class="p">=</span> <span class="mi">1000</span> <span class="o">*</span> <span class="nx">Nanosecond</span>
        <span class="nx">Millisecond</span>          <span class="p">=</span> <span class="mi">1000</span> <span class="o">*</span> <span class="nx">Microsecond</span>
        <span class="nx">Second</span>               <span class="p">=</span> <span class="mi">1000</span> <span class="o">*</span> <span class="nx">Millisecond</span>
        <span class="nx">Minute</span>               <span class="p">=</span> <span class="mi">60</span> <span class="o">*</span> <span class="nx">Second</span>
        <span class="nx">Hour</span>                 <span class="p">=</span> <span class="mi">60</span> <span class="o">*</span> <span class="nx">Minute</span>
<span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><h1 id="func-after">func After<a hidden class="anchor" aria-hidden="true" href="#func-after">#</a></h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="nf">After</span><span class="p">(</span><span class="nx">d</span> <span class="nx">Duration</span><span class="p">)</span> <span class="o">&lt;-</span><span class="kd">chan</span> <span class="nx">Time</span>
</code></pre></td></tr></table>
</div>
</div><p>等待持续时间过后，然后在返回的通道上发送当前时间。它相当于NewTimer(d).C。在计时器触发之前，垃圾收集器不会恢复基础Timer。如果需要考虑效率，请使用NewTimer，如果不再需要定时器，则调用Timer.Stop。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
	<span class="s">&#34;fmt&#34;</span>
	<span class="s">&#34;time&#34;</span>
<span class="p">)</span>

<span class="kd">var</span> <span class="nx">c</span> <span class="kd">chan</span> <span class="kt">int</span>

<span class="kd">func</span> <span class="nf">handle</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span> <span class="p">{}</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="k">select</span> <span class="p">{</span>
	<span class="k">case</span> <span class="nx">m</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">c</span><span class="p">:</span>
		<span class="nf">handle</span><span class="p">(</span><span class="nx">m</span><span class="p">)</span>
	<span class="k">case</span> <span class="o">&lt;-</span><span class="nx">time</span><span class="p">.</span><span class="nf">After</span><span class="p">(</span><span class="mi">5</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Minute</span><span class="p">):</span>
		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;timed out&#34;</span><span class="p">)</span>
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h1 id="func-sleep">func Sleep<a hidden class="anchor" aria-hidden="true" href="#func-sleep">#</a></h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="nf">Sleep</span><span class="p">(</span><span class="nx">d</span> <span class="nx">Duration</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>Sleep阻塞当前go程至少d代表的时间段。d&lt;=0时，Sleep会立刻返回。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
	<span class="s">&#34;time&#34;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">time</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="mi">100</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h1 id="func-tick">func Tick<a hidden class="anchor" aria-hidden="true" href="#func-tick">#</a></h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="nf">Tick</span><span class="p">(</span><span class="nx">d</span> <span class="nx">Duration</span><span class="p">)</span> <span class="o">&lt;-</span><span class="kd">chan</span> <span class="nx">Time</span>
</code></pre></td></tr></table>
</div>
</div><p>Tick是NewTicker的便利包装器，仅提供对ticking channel的访问。虽然Tick对于不需要关闭Ticker的客户端很有用，但请注意，如果没有办法将其关闭，底层Ticker将无法通过垃圾收集器恢复; 与NewTicker不同，它将造成“泄漏”。如果d &lt;= 0，Tick将返回nil。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
	<span class="s">&#34;fmt&#34;</span>
	<span class="s">&#34;time&#34;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nf">statusUpdate</span><span class="p">()</span> <span class="kt">string</span> <span class="p">{</span> <span class="k">return</span> <span class="s">&#34;&#34;</span> <span class="p">}</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">c</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Tick</span><span class="p">(</span><span class="mi">1</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Minute</span><span class="p">)</span>
	<span class="k">for</span> <span class="nx">now</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">c</span> <span class="p">{</span>
		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;%v %s\n&#34;</span><span class="p">,</span> <span class="nx">now</span><span class="p">,</span> <span class="nf">statusUpdate</span><span class="p">())</span>
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h1 id="type-duration">type Duration<a hidden class="anchor" aria-hidden="true" href="#type-duration">#</a></h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">type</span> <span class="nx">Duration</span> <span class="kt">int64</span>
</code></pre></td></tr></table>
</div>
</div><p>Duration类型代表两个时间点之间经过的时间，以纳秒为单位。可表示的最长时间段大约290年。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
	<span class="s">&#34;fmt&#34;</span>
	<span class="s">&#34;time&#34;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nf">expensiveCall</span><span class="p">()</span> <span class="p">{}</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">t0</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Now</span><span class="p">()</span>
	<span class="nf">expensiveCall</span><span class="p">()</span>
	<span class="nx">t1</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Now</span><span class="p">()</span>
	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;The call took %v to run.\n&#34;</span><span class="p">,</span> <span class="nx">t1</span><span class="p">.</span><span class="nf">Sub</span><span class="p">(</span><span class="nx">t0</span><span class="p">))</span>
<span class="p">}</span>

</code></pre></td></tr></table>
</div>
</div><h2 id="func-parseduration">func ParseDuration<a hidden class="anchor" aria-hidden="true" href="#func-parseduration">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="nf">ParseDuration</span><span class="p">(</span><span class="nx">s</span> <span class="kt">string</span><span class="p">)</span> <span class="p">(</span><span class="nx">Duration</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>ParseDuration解析一个时间段字符串。一个时间段字符串是一个序列，每个片段包含可选的正负号、十进制数、可选的小数部分和单位后缀，如&quot;300ms&quot;、&quot;-1.5h&quot;、&ldquo;2h45m&rdquo;。合法的单位有&quot;ns&quot;、&ldquo;us&rdquo; /&ldquo;µs&rdquo;、&ldquo;ms&rdquo;、&ldquo;s&rdquo;、&ldquo;m&rdquo;、&ldquo;h&rdquo;。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
	<span class="s">&#34;fmt&#34;</span>
	<span class="s">&#34;time&#34;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">hours</span><span class="p">,</span> <span class="nx">_</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">ParseDuration</span><span class="p">(</span><span class="s">&#34;10h&#34;</span><span class="p">)</span>
	<span class="nx">complex</span><span class="p">,</span> <span class="nx">_</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">ParseDuration</span><span class="p">(</span><span class="s">&#34;1h10m10s&#34;</span><span class="p">)</span>

	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">hours</span><span class="p">)</span>
	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">complex</span><span class="p">)</span>
	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;there are %.0f seconds in %v\n&#34;</span><span class="p">,</span> <span class="nx">complex</span><span class="p">.</span><span class="nf">Seconds</span><span class="p">(),</span> <span class="nx">complex</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="func-since">func Since<a hidden class="anchor" aria-hidden="true" href="#func-since">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="nf">Since</span><span class="p">(</span><span class="nx">t</span> <span class="nx">Time</span><span class="p">)</span> <span class="nx">Duration</span>
</code></pre></td></tr></table>
</div>
</div><p>Since返回从t到现在经过的时间，等价于time.Now().Sub(t)。</p>
<h2 id="func-until-18">func Until 1.8<a hidden class="anchor" aria-hidden="true" href="#func-until-18">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="nf">Until</span><span class="p">(</span><span class="nx">t</span> <span class="nx">Time</span><span class="p">)</span> <span class="nx">Duration</span>
</code></pre></td></tr></table>
</div>
</div><p>直到返回持续时间直到t。它是t.Sub（time.Now（））的简写。</p>
<h2 id="func-duration-hours">func (Duration) Hours<a hidden class="anchor" aria-hidden="true" href="#func-duration-hours">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="p">(</span><span class="nx">d</span> <span class="nx">Duration</span><span class="p">)</span> <span class="nf">Hours</span><span class="p">()</span> <span class="kt">float64</span>
</code></pre></td></tr></table>
</div>
</div><p>Hours将时间段表示为float64类型的小时数。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
	<span class="s">&#34;fmt&#34;</span>
	<span class="s">&#34;time&#34;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">h</span><span class="p">,</span> <span class="nx">_</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">ParseDuration</span><span class="p">(</span><span class="s">&#34;4h30m&#34;</span><span class="p">)</span>
	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;I&#39;ve got %.1f hours of work left.&#34;</span><span class="p">,</span> <span class="nx">h</span><span class="p">.</span><span class="nf">Hours</span><span class="p">())</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="func-duration-microseconds-113">func (Duration) Microseconds 1.13<a hidden class="anchor" aria-hidden="true" href="#func-duration-microseconds-113">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="p">(</span><span class="nx">d</span> <span class="nx">Duration</span><span class="p">)</span> <span class="nf">Microseconds</span><span class="p">()</span> <span class="kt">int64</span>
</code></pre></td></tr></table>
</div>
</div><p>Microseconds 以整数微秒计数返回持续时间。</p>
<h2 id="func-duration-milliseconds-113">func (Duration) Milliseconds 1.13<a hidden class="anchor" aria-hidden="true" href="#func-duration-milliseconds-113">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="p">(</span><span class="nx">d</span> <span class="nx">Duration</span><span class="p">)</span> <span class="nf">Milliseconds</span><span class="p">()</span> <span class="kt">int64</span>
</code></pre></td></tr></table>
</div>
</div><p>Milliseconds 返回持续时间，以整数毫秒计数。</p>
<h2 id="func-duration-minutes">func (Duration) Minutes<a hidden class="anchor" aria-hidden="true" href="#func-duration-minutes">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="p">(</span><span class="nx">d</span> <span class="nx">Duration</span><span class="p">)</span> <span class="nf">Minutes</span><span class="p">()</span> <span class="kt">float64</span>
</code></pre></td></tr></table>
</div>
</div><p>Hours将时间段表示为float64类型的分钟数。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
	<span class="s">&#34;fmt&#34;</span>
	<span class="s">&#34;time&#34;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">m</span><span class="p">,</span> <span class="nx">_</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">ParseDuration</span><span class="p">(</span><span class="s">&#34;1h30m&#34;</span><span class="p">)</span>
	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;The movie is %.0f minutes long.&#34;</span><span class="p">,</span> <span class="nx">m</span><span class="p">.</span><span class="nf">Minutes</span><span class="p">())</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="func-duration-seconds">func (Duration) Seconds<a hidden class="anchor" aria-hidden="true" href="#func-duration-seconds">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="p">(</span><span class="nx">d</span> <span class="nx">Duration</span><span class="p">)</span> <span class="nf">Seconds</span><span class="p">()</span> <span class="kt">float64</span>
</code></pre></td></tr></table>
</div>
</div><p>Hours将时间段表示为float64类型的秒数。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
	<span class="s">&#34;fmt&#34;</span>
	<span class="s">&#34;time&#34;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">m</span><span class="p">,</span> <span class="nx">_</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">ParseDuration</span><span class="p">(</span><span class="s">&#34;1m30s&#34;</span><span class="p">)</span>
	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;take off in t-%.0f seconds.&#34;</span><span class="p">,</span> <span class="nx">m</span><span class="p">.</span><span class="nf">Seconds</span><span class="p">())</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="func-duration-nanoseconds">func (Duration) Nanoseconds<a hidden class="anchor" aria-hidden="true" href="#func-duration-nanoseconds">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="p">(</span><span class="nx">d</span> <span class="nx">Duration</span><span class="p">)</span> <span class="nf">Nanoseconds</span><span class="p">()</span> <span class="kt">int64</span>
</code></pre></td></tr></table>
</div>
</div><p>Hours将时间段表示为int64类型的纳秒数，等价于int64(d)。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
	<span class="s">&#34;fmt&#34;</span>
	<span class="s">&#34;time&#34;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">ns</span><span class="p">,</span> <span class="nx">_</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">ParseDuration</span><span class="p">(</span><span class="s">&#34;1000ns&#34;</span><span class="p">)</span>
	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;one microsecond has %d nanoseconds.&#34;</span><span class="p">,</span> <span class="nx">ns</span><span class="p">.</span><span class="nf">Nanoseconds</span><span class="p">())</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="func-duration-string">func (Duration) String<a hidden class="anchor" aria-hidden="true" href="#func-duration-string">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="p">(</span><span class="nx">d</span> <span class="nx">Duration</span><span class="p">)</span> <span class="nf">String</span><span class="p">()</span> <span class="kt">string</span>
</code></pre></td></tr></table>
</div>
</div><p>返回时间段采用&quot;72h3m0.5s&quot;格式的字符串表示。最前面可以有符号，数字+单位为一个单元，开始部分的0值单元会被省略；如果时间段&lt;1s，会使用&quot;ms&quot;、&ldquo;us&rdquo;、&ldquo;ns&quot;来保证第一个单元的数字不是0；如果时间段为0，会返回&quot;0&rdquo;。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
	<span class="s">&#34;fmt&#34;</span>
	<span class="s">&#34;time&#34;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">t1</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Date</span><span class="p">(</span><span class="mi">2016</span><span class="p">,</span> <span class="nx">time</span><span class="p">.</span><span class="nx">August</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">time</span><span class="p">.</span><span class="nx">UTC</span><span class="p">)</span>
	<span class="nx">t2</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Date</span><span class="p">(</span><span class="mi">2017</span><span class="p">,</span> <span class="nx">time</span><span class="p">.</span><span class="nx">February</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">time</span><span class="p">.</span><span class="nx">UTC</span><span class="p">)</span>
	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">t2</span><span class="p">.</span><span class="nf">Sub</span><span class="p">(</span><span class="nx">t1</span><span class="p">).</span><span class="nf">String</span><span class="p">())</span>
<span class="p">}</span>

</code></pre></td></tr></table>
</div>
</div><h2 id="func-duration-round-19">func (Duration) Round 1.9<a hidden class="anchor" aria-hidden="true" href="#func-duration-round-19">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="p">(</span><span class="nx">d</span> <span class="nx">Duration</span><span class="p">)</span> <span class="nf">Round</span><span class="p">(</span><span class="nx">m</span> <span class="nx">Duration</span><span class="p">)</span> <span class="nx">Duration</span>
</code></pre></td></tr></table>
</div>
</div><p>Round将返回从d到m的最接近的倍数的四舍五入值。中间值的舍入行为是从零开始舍入。如果结果超出可以存储在持续时间中的最大（或最小）值，则Round返回最大（或最小）持续时间。如果m &lt;= 0，则Round返回d不变。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
	<span class="s">&#34;fmt&#34;</span>
	<span class="s">&#34;time&#34;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">d</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">ParseDuration</span><span class="p">(</span><span class="s">&#34;1h15m30.918273645s&#34;</span><span class="p">)</span>
	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
		<span class="nb">panic</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
	<span class="p">}</span>

	<span class="nx">round</span> <span class="o">:=</span> <span class="p">[]</span><span class="nx">time</span><span class="p">.</span><span class="nx">Duration</span><span class="p">{</span>
		<span class="nx">time</span><span class="p">.</span><span class="nx">Nanosecond</span><span class="p">,</span>
		<span class="nx">time</span><span class="p">.</span><span class="nx">Microsecond</span><span class="p">,</span>
		<span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">,</span>
		<span class="nx">time</span><span class="p">.</span><span class="nx">Second</span><span class="p">,</span>
		<span class="mi">2</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Second</span><span class="p">,</span>
		<span class="nx">time</span><span class="p">.</span><span class="nx">Minute</span><span class="p">,</span>
		<span class="mi">10</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Minute</span><span class="p">,</span>
		<span class="nx">time</span><span class="p">.</span><span class="nx">Hour</span><span class="p">,</span>
	<span class="p">}</span>

	<span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">r</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">round</span> <span class="p">{</span>
		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;d.Round(%6s) = %s\n&#34;</span><span class="p">,</span> <span class="nx">r</span><span class="p">,</span> <span class="nx">d</span><span class="p">.</span><span class="nf">Round</span><span class="p">(</span><span class="nx">r</span><span class="p">).</span><span class="nf">String</span><span class="p">())</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="c1">//d以r为单位进行四舍五入
</span><span class="c1">// d.Round(   1ns) = 1h15m30.918273645s
</span><span class="c1">// d.Round(   1µs) = 1h15m30.918274s
</span><span class="c1">// d.Round(   1ms) = 1h15m30.918s   
</span><span class="c1">// d.Round(    1s) = 1h15m31s
</span><span class="c1">// d.Round(    2s) = 1h15m30s
</span><span class="c1">// d.Round(  1m0s) = 1h16m0s
</span><span class="c1">// d.Round( 10m0s) = 1h20m0s
</span><span class="c1">// d.Round(1h0m0s) = 1h0m0s
</span></code></pre></td></tr></table>
</div>
</div><h2 id="func-duration-truncate">func (Duration) Truncate<a hidden class="anchor" aria-hidden="true" href="#func-duration-truncate">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="p">(</span><span class="nx">d</span> <span class="nx">Duration</span><span class="p">)</span> <span class="nf">Truncate</span><span class="p">(</span><span class="nx">m</span> <span class="nx">Duration</span><span class="p">)</span> <span class="nx">Duration</span>
</code></pre></td></tr></table>
</div>
</div><p>Truncate将舍入d的结果返回到零到m的倍数。如果m &lt;= 0，则Truncate返回d不变。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
	<span class="s">&#34;fmt&#34;</span>
	<span class="s">&#34;time&#34;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">d</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">ParseDuration</span><span class="p">(</span><span class="s">&#34;1h15m30.918273645s&#34;</span><span class="p">)</span>
	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
		<span class="nb">panic</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
	<span class="p">}</span>

	<span class="nx">trunc</span> <span class="o">:=</span> <span class="p">[]</span><span class="nx">time</span><span class="p">.</span><span class="nx">Duration</span><span class="p">{</span>
		<span class="nx">time</span><span class="p">.</span><span class="nx">Nanosecond</span><span class="p">,</span>
		<span class="nx">time</span><span class="p">.</span><span class="nx">Microsecond</span><span class="p">,</span>
		<span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">,</span>
		<span class="nx">time</span><span class="p">.</span><span class="nx">Second</span><span class="p">,</span>
		<span class="mi">2</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Second</span><span class="p">,</span>
		<span class="nx">time</span><span class="p">.</span><span class="nx">Minute</span><span class="p">,</span>
		<span class="mi">10</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Minute</span><span class="p">,</span>
		<span class="nx">time</span><span class="p">.</span><span class="nx">Hour</span><span class="p">,</span>
	<span class="p">}</span>

	<span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">t</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">trunc</span> <span class="p">{</span>
		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;d.Truncate(%6s) = %s\n&#34;</span><span class="p">,</span> <span class="nx">t</span><span class="p">,</span> <span class="nx">d</span><span class="p">.</span><span class="nf">Truncate</span><span class="p">(</span><span class="nx">t</span><span class="p">).</span><span class="nf">String</span><span class="p">())</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="c1">// d.Truncate(   1ns) = 1h15m30.918273645s
</span><span class="c1">// d.Truncate(   1µs) = 1h15m30.918273s
</span><span class="c1">// d.Truncate(   1ms) = 1h15m30.918s
</span><span class="c1">// d.Truncate(    1s) = 1h15m30s
</span><span class="c1">// d.Truncate(    2s) = 1h15m30s
</span><span class="c1">// d.Truncate(  1m0s) = 1h15m0s
</span><span class="c1">// d.Truncate( 10m0s) = 1h10m0s
</span><span class="c1">// d.Truncate(1h0m0s) = 1h0m0s
</span></code></pre></td></tr></table>
</div>
</div><h1 id="type-location">type Location<a hidden class="anchor" aria-hidden="true" href="#type-location">#</a></h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">type</span> <span class="nx">Location</span> <span class="kd">struct</span> <span class="p">{</span>
    <span class="c1">// 内含隐藏或非导出字段
</span><span class="c1"></span><span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>Location代表一个（关联到某个时间点的）地点，以及该地点所在的时区。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">var</span> <span class="nx">Local</span> <span class="o">*</span><span class="nx">Location</span> <span class="p">=</span> <span class="o">&amp;</span><span class="nx">localLoc</span>
</code></pre></td></tr></table>
</div>
</div><p>Local代表系统本地，对应本地时区。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">var</span> <span class="nx">UTC</span> <span class="o">*</span><span class="nx">Location</span> <span class="p">=</span> <span class="o">&amp;</span><span class="nx">utcLoc</span>
</code></pre></td></tr></table>
</div>
</div><p>UTC代表通用协调时间，对应零时区。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
	<span class="s">&#34;fmt&#34;</span>
	<span class="s">&#34;time&#34;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="c1">// China doesn&#39;t have daylight saving. It uses a fixed 8 hour offset from UTC.
</span><span class="c1"></span>	<span class="nx">secondsEastOfUTC</span> <span class="o">:=</span> <span class="nb">int</span><span class="p">((</span><span class="mi">8</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Hour</span><span class="p">).</span><span class="nf">Seconds</span><span class="p">())</span>
	<span class="nx">beijing</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">FixedZone</span><span class="p">(</span><span class="s">&#34;Beijing Time&#34;</span><span class="p">,</span> <span class="nx">secondsEastOfUTC</span><span class="p">)</span>

	<span class="c1">// If the system has a timezone database present, it&#39;s possible to load a location
</span><span class="c1"></span>	<span class="c1">// from that, e.g.:
</span><span class="c1"></span>	<span class="c1">//    newYork, err := time.LoadLocation(&#34;America/New_York&#34;)
</span><span class="c1"></span>
	<span class="c1">// Creating a time requires a location. Common locations are time.Local and time.UTC.
</span><span class="c1"></span>	<span class="nx">timeInUTC</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Date</span><span class="p">(</span><span class="mi">2009</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">time</span><span class="p">.</span><span class="nx">UTC</span><span class="p">)</span>
	<span class="nx">sameTimeInBeijing</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Date</span><span class="p">(</span><span class="mi">2009</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">beijing</span><span class="p">)</span>

	<span class="c1">// Although the UTC clock time is 1200 and the Beijing clock time is 2000, Beijing is
</span><span class="c1"></span>	<span class="c1">// 8 hours ahead so the two dates actually represent the same instant.
</span><span class="c1"></span>	<span class="nx">timesAreEqual</span> <span class="o">:=</span> <span class="nx">timeInUTC</span><span class="p">.</span><span class="nf">Equal</span><span class="p">(</span><span class="nx">sameTimeInBeijing</span><span class="p">)</span>
	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">timesAreEqual</span><span class="p">)</span>

<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="func-loadlocation">func LoadLocation<a hidden class="anchor" aria-hidden="true" href="#func-loadlocation">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="nf">LoadLocation</span><span class="p">(</span><span class="nx">name</span> <span class="kt">string</span><span class="p">)</span> <span class="p">(</span><span class="o">*</span><span class="nx">Location</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>LoadLocation返回使用给定的名字创建的Location。</p>
<p>如果name是&quot;&ldquo;或&quot;UTC&rdquo;，返回UTC；如果name是&quot;Local&quot;，返回Local；否则name应该是IANA时区数据库里有记录的地点名（该数据库记录了地点和对应的时区），如&quot;America/New_York&quot;。</p>
<p>LoadLocation函数需要的时区数据库可能不是所有系统都提供，特别是非Unix系统。此时LoadLocation会查找环境变量ZONEINFO指定目录或解压该变量指定的zip文件（如果有该环境变量）；然后查找Unix系统的惯例时区数据安装位置，最后查找$GOROOT/lib/time/zoneinfo.zip。</p>
<h2 id="func-fixedzone">func FixedZone<a hidden class="anchor" aria-hidden="true" href="#func-fixedzone">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="nf">FixedZone</span><span class="p">(</span><span class="nx">name</span> <span class="kt">string</span><span class="p">,</span> <span class="nx">offset</span> <span class="kt">int</span><span class="p">)</span> <span class="o">*</span><span class="nx">Location</span>
</code></pre></td></tr></table>
</div>
</div><p>FixedZone返回一个始终使用给定区域名称和偏移量（UTC以东几秒）的位置。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
	<span class="s">&#34;fmt&#34;</span>
	<span class="s">&#34;time&#34;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">loc</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">FixedZone</span><span class="p">(</span><span class="s">&#34;UTC-8&#34;</span><span class="p">,</span> <span class="o">-</span><span class="mi">8</span><span class="o">*</span><span class="mi">60</span><span class="o">*</span><span class="mi">60</span><span class="p">)</span>
	<span class="nx">t</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Date</span><span class="p">(</span><span class="mi">2009</span><span class="p">,</span> <span class="nx">time</span><span class="p">.</span><span class="nx">November</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">loc</span><span class="p">)</span>
	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;The time is:&#34;</span><span class="p">,</span> <span class="nx">t</span><span class="p">.</span><span class="nf">Format</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span class="nx">RFC822</span><span class="p">))</span>
<span class="p">}</span>

</code></pre></td></tr></table>
</div>
</div><h2 id="func-loadlocationfromtzdata-110">func LoadLocationFromTZData 1.10<a hidden class="anchor" aria-hidden="true" href="#func-loadlocationfromtzdata-110">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="nx">LoadLocationFromTZData</span><span class="err">（</span><span class="nx">name</span> <span class="kt">string</span><span class="err">，</span><span class="nx">data</span> <span class="p">[]</span> <span class="kt">byte</span><span class="err">）（</span><span class="o">*</span> <span class="nx">Location</span><span class="err">，</span><span class="kt">error</span><span class="err">）</span>
</code></pre></td></tr></table>
</div>
</div><p>LoadLocationFromTZData返回具有从IANA时区数据库格式的数据初始化的给定名称的Location。数据应采用标准IANA时区文件的格式(例如，Unix系统上的/etc /localtime的内容)。</p>
<h2 id="func-location-string">func (*Location) String<a hidden class="anchor" aria-hidden="true" href="#func-location-string">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="p">(</span><span class="nx">l</span> <span class="o">*</span><span class="nx">Location</span><span class="p">)</span> <span class="nf">String</span><span class="p">()</span> <span class="kt">string</span>
</code></pre></td></tr></table>
</div>
</div><p>String返回对时区信息的描述，返回值绑定为LoadLocation或FixedZone函数创建l时的name参数。</p>
<h1 id="type-month">type Month<a hidden class="anchor" aria-hidden="true" href="#type-month">#</a></h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">type</span> <span class="nx">Month</span> <span class="kt">int</span>
</code></pre></td></tr></table>
</div>
</div><p>Month代表一年的某个月。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">const</span> <span class="p">(</span>
    <span class="nx">January</span> <span class="nx">Month</span> <span class="p">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="kc">iota</span>
    <span class="nx">February</span>
    <span class="nx">March</span>
    <span class="nx">April</span>
    <span class="nx">May</span>
    <span class="nx">June</span>
    <span class="nx">July</span>
    <span class="nx">August</span>
    <span class="nx">September</span>
    <span class="nx">October</span>
    <span class="nx">November</span>
    <span class="nx">December</span>
<span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
	<span class="s">&#34;fmt&#34;</span>
	<span class="s">&#34;time&#34;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">_</span><span class="p">,</span> <span class="nx">month</span><span class="p">,</span> <span class="nx">day</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Now</span><span class="p">().</span><span class="nf">Date</span><span class="p">()</span>
	<span class="k">if</span> <span class="nx">month</span> <span class="o">==</span> <span class="nx">time</span><span class="p">.</span><span class="nx">November</span> <span class="o">&amp;&amp;</span> <span class="nx">day</span> <span class="o">==</span> <span class="mi">10</span> <span class="p">{</span>
		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Happy Go day!&#34;</span><span class="p">)</span>
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="func-month-string">func (Month) String<a hidden class="anchor" aria-hidden="true" href="#func-month-string">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="p">(</span><span class="nx">m</span> <span class="nx">Month</span><span class="p">)</span> <span class="nf">String</span><span class="p">()</span> <span class="kt">string</span>
</code></pre></td></tr></table>
</div>
</div><p>String返回月份的英文名（&ldquo;January&rdquo;，&ldquo;February&rdquo;，……）</p>
<h1 id="type-parseerror">type ParseError<a hidden class="anchor" aria-hidden="true" href="#type-parseerror">#</a></h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">type</span> <span class="nx">ParseError</span> <span class="kd">struct</span> <span class="p">{</span>
    <span class="nx">Layout</span>     <span class="kt">string</span>
    <span class="nx">Value</span>      <span class="kt">string</span>
    <span class="nx">LayoutElem</span> <span class="kt">string</span>
    <span class="nx">ValueElem</span>  <span class="kt">string</span>
    <span class="nx">Message</span>    <span class="kt">string</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>ParseError描述解析时间字符串时出现的错误。</p>
<h2 id="func-parseerror-error">func (*ParseError) Error<a hidden class="anchor" aria-hidden="true" href="#func-parseerror-error">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="p">(</span><span class="nx">e</span> <span class="o">*</span><span class="nx">ParseError</span><span class="p">)</span> <span class="nf">Error</span><span class="p">()</span> <span class="kt">string</span>
</code></pre></td></tr></table>
</div>
</div><p>Error返回ParseError的字符串表示。</p>
<h1 id="type-ticker">type Ticker<a hidden class="anchor" aria-hidden="true" href="#type-ticker">#</a></h1>
<p>Ticker保管一个通道，并每隔一段时间向其传递&quot;tick&quot;。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">type</span> <span class="nx">Ticker</span> <span class="kd">struct</span> <span class="p">{</span>
    <span class="nx">C</span> <span class="o">&lt;-</span><span class="kd">chan</span> <span class="nx">Time</span> <span class="c1">// 周期性传递时间信息的通道
</span><span class="c1"></span>    <span class="c1">// 内含隐藏或非导出字段
</span><span class="c1"></span><span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="func-newticker">func NewTicker<a hidden class="anchor" aria-hidden="true" href="#func-newticker">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="nf">NewTicker</span><span class="p">(</span><span class="nx">d</span> <span class="nx">Duration</span><span class="p">)</span> <span class="o">*</span><span class="nx">Ticker</span>
</code></pre></td></tr></table>
</div>
</div><p>NewTicker返回一个新的Ticker，该Ticker包含一个通道字段，并会每隔时间段d就向该通道发送当时的时间。它会调整时间间隔或者丢弃tick信息以适应反应慢的接收者。如果d&lt;=0会panic。关闭该Ticker可以释放相关资源。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
	<span class="s">&#34;fmt&#34;</span>
	<span class="s">&#34;time&#34;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">ticker</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">NewTicker</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span class="nx">Second</span><span class="p">)</span>
	<span class="k">defer</span> <span class="nx">ticker</span><span class="p">.</span><span class="nf">Stop</span><span class="p">()</span>
	<span class="nx">done</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="kd">chan</span> <span class="kt">bool</span><span class="p">)</span>
	<span class="k">go</span> <span class="kd">func</span><span class="p">()</span> <span class="p">{</span>
		<span class="nx">time</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="mi">10</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Second</span><span class="p">)</span>
		<span class="nx">done</span> <span class="o">&lt;-</span> <span class="kc">true</span>
	<span class="p">}()</span>
	<span class="k">for</span> <span class="p">{</span>
		<span class="k">select</span> <span class="p">{</span>
		<span class="k">case</span> <span class="o">&lt;-</span><span class="nx">done</span><span class="p">:</span>
			<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Done!&#34;</span><span class="p">)</span>
			<span class="k">return</span>
		<span class="k">case</span> <span class="nx">t</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">ticker</span><span class="p">.</span><span class="nx">C</span><span class="p">:</span>
			<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Current time: &#34;</span><span class="p">,</span> <span class="nx">t</span><span class="p">)</span>
		<span class="p">}</span>
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="func-ticker-stop">func (*Ticker) Stop<a hidden class="anchor" aria-hidden="true" href="#func-ticker-stop">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">Ticker</span><span class="p">)</span> <span class="nf">Stop</span><span class="p">()</span>
</code></pre></td></tr></table>
</div>
</div><p>Stop关闭一个Ticker。在关闭后，将不会发送更多的tick信息。Stop不会关闭通道t.C，以避免从该通道的读取不正确的成功。</p>
<h1 id="type-time">type Time<a hidden class="anchor" aria-hidden="true" href="#type-time">#</a></h1>
<p>Time代表一个纳秒精度的时间点。</p>
<p>程序中应使用Time类型值来保存和传递时间，而不能用指针。就是说，表示时间的变量和字段，应为time.Time类型，而不是*time.Time.类型。除了方法GobDecode，UnmarshalBinary，UnmarshalJSON和UnmarshalText不是并发安全的，时间值可以由多个goroutine同时使用。时间点可以使用Before、After和Equal方法进行比较。Sub方法让两个时间点相减，生成一个Duration类型值（代表时间段）。Add方法给一个时间点加上一个时间段，生成一个新的Time类型时间点。</p>
<p>Time零值代表时间点January 1, year 1, 00:00:00.000000000 UTC。因为本时间点一般不会出现在使用中，IsZero方法提供了检验时间是否显式初始化的一个简单途径。</p>
<p>每一个时间都具有一个地点信息（及对应地点的时区信息），当计算时间的表示格式时，如Format、Hour和Year等方法，都会考虑该信息。Local、UTC和In方法返回一个指定时区（但指向同一时间点）的Time。修改地点/时区信息只是会改变其表示；不会修改被表示的时间点，因此也不会影响其计算。</p>
<p>除了所需的“挂钟”读数外，时间可能包含当前过程的单调时钟的可选读数，以提供额外的比较或减法精度。有关详细信息，请参阅包文档中的“单调时钟”部分。</p>
<p>请注意，Go ==运算符不仅比较时刻，还比较位置和单调时钟读数。因此，在不首先保证为所有值设置相同的位置时，不应将时间值用作映射或数据库键，这可以通过使用UTC或本地方法来实现，并且单调时钟读数已被剥离设置t = t.Round（0）。通常，更喜欢t.Equal（u）,因为t.Equal使用最准确的比较，并且能正确处理只有其中一个参数具有单调时钟读数的情况</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">type</span> <span class="nx">Time</span> <span class="kd">struct</span> <span class="p">{</span>
    <span class="c1">// 内含隐藏或非导出字段
</span><span class="c1"></span><span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="func-date">func Date<a hidden class="anchor" aria-hidden="true" href="#func-date">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="nf">Date</span><span class="p">(</span><span class="nx">year</span> <span class="kt">int</span><span class="p">,</span> <span class="nx">month</span> <span class="nx">Month</span><span class="p">,</span> <span class="nx">day</span><span class="p">,</span> <span class="nx">hour</span><span class="p">,</span> <span class="nx">min</span><span class="p">,</span> <span class="nx">sec</span><span class="p">,</span> <span class="nx">nsec</span> <span class="kt">int</span><span class="p">,</span> <span class="nx">loc</span> <span class="o">*</span><span class="nx">Location</span><span class="p">)</span> <span class="nx">Time</span>
</code></pre></td></tr></table>
</div>
</div><p>Date返回一个时区为loc、当地时间为：</p>
<pre><code>year-month-day hour:min:sec + nsec nanoseconds
</code></pre>
<p>的时间点。</p>
<p>month、day、hour、min、sec和nsec的值可能会超出它们的正常范围，在转换前函数会自动将之规范化。如October 32被修正为November 1。</p>
<p>夏时制的时区切换会跳过或重复时间。如，在美国，March 13, 2011 2:15am从来不会出现，而November 6, 2011 1:15am 会出现两次。此时，时区的选择和时间是没有良好定义的。Date会返回在时区切换的两个时区其中一个时区</p>
<p>正确的时间，但本函数不会保证在哪一个时区正确。</p>
<p>如果loc为nil会panic。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
	<span class="s">&#34;fmt&#34;</span>
	<span class="s">&#34;time&#34;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">t</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Date</span><span class="p">(</span><span class="mi">2009</span><span class="p">,</span> <span class="nx">time</span><span class="p">.</span><span class="nx">November</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">time</span><span class="p">.</span><span class="nx">UTC</span><span class="p">)</span>
	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;Go launched at %s\n&#34;</span><span class="p">,</span> <span class="nx">t</span><span class="p">.</span><span class="nf">Local</span><span class="p">())</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="func-now">func Now<a hidden class="anchor" aria-hidden="true" href="#func-now">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="nf">Now</span><span class="p">()</span> <span class="nx">Time</span>
</code></pre></td></tr></table>
</div>
</div><p>返回当前的本地时间。</p>
<h2 id="func-parse">func Parse<a hidden class="anchor" aria-hidden="true" href="#func-parse">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="nf">Parse</span><span class="p">(</span><span class="nx">layout</span><span class="p">,</span> <span class="nx">value</span> <span class="kt">string</span><span class="p">)</span> <span class="p">(</span><span class="nx">Time</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>Parse解析一个格式化的时间字符串并返回它代表的时间。layout定义了参考时间：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">Mon Jan 2 15:04:05 -0700 MST 2006
</code></pre></td></tr></table>
</div>
</div><p>在输入格式下的字符串表示，作为输入的格式的示例。同样的格式规则会被用于输入字符串。</p>
<p>预定义的ANSIC、UnixDate、RFC3339和其他版式描述了参考时间的标准或便捷表示。要获得更多参考时间的定义和格式，参见本包的ANSIC和其他版式常量。</p>
<p>value中漏掉的元素会被视为0；如果不能是0，会被视为1。因此，解析&quot;3:04pm&quot;会返回对应时间点：Jan 1, year 0, 15:04:00 UTC的Time（注意因为year为0，该时间在Time零值之前）。年份必须在0000..9999范围内。周几会被检查其语法，但是会被忽略。</p>
<p>如果缺少表示时区的信息，Parse会将时区设置为UTC。</p>
<p>当解析具有时区偏移量的时间字符串时，如果该时区偏移量和本地时区相同，Parse会在返回值中将Location设置为本地和本地时区。否则，它会将Location设置为一个虚构的具有该时区偏移量的值。</p>
<p>当解析具有时区缩写的时间字符串时，如果该时区缩写具有已定义的时间偏移量，会使用该偏移量。如果时区缩写是&quot;UTC&quot;，会将该时间视为UTC时间，不考虑Location。如果时区缩写是未知的，Parse会将Location设置为一个虚构的地点为时区缩写，时间偏移量为0的值。这种做法是为了让一个时间可以在同一版式下不丢失信息的被解析和重新格式化；但字符串表示和具体表示的时间点会因为实际时区偏移量而不同。为了避免这些问题，请使用数字表示的时区偏移量，或者使用ParseInLocation函数。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
	<span class="s">&#34;fmt&#34;</span>
	<span class="s">&#34;time&#34;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="c1">// See the example for Time.Format for a thorough description of how
</span><span class="c1"></span>	<span class="c1">// to define the layout string to parse a time.Time value; Parse and
</span><span class="c1"></span>	<span class="c1">// Format use the same model to describe their input and output.
</span><span class="c1"></span>
	<span class="c1">// longForm shows by example how the reference time would be represented in
</span><span class="c1"></span>	<span class="c1">// the desired layout.
</span><span class="c1"></span>	<span class="kd">const</span> <span class="nx">longForm</span> <span class="p">=</span> <span class="s">&#34;Jan 2, 2006 at 3:04pm (MST)&#34;</span>
	<span class="nx">t</span><span class="p">,</span> <span class="nx">_</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Parse</span><span class="p">(</span><span class="nx">longForm</span><span class="p">,</span> <span class="s">&#34;Feb 3, 2013 at 7:54pm (PST)&#34;</span><span class="p">)</span>
	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">t</span><span class="p">)</span>

	<span class="c1">// shortForm is another way the reference time would be represented
</span><span class="c1"></span>	<span class="c1">// in the desired layout; it has no time zone present.
</span><span class="c1"></span>	<span class="c1">// Note: without explicit zone, returns time in UTC.
</span><span class="c1"></span>	<span class="kd">const</span> <span class="nx">shortForm</span> <span class="p">=</span> <span class="s">&#34;2006-Jan-02&#34;</span>
	<span class="nx">t</span><span class="p">,</span> <span class="nx">_</span> <span class="p">=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Parse</span><span class="p">(</span><span class="nx">shortForm</span><span class="p">,</span> <span class="s">&#34;2013-Feb-03&#34;</span><span class="p">)</span>
	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">t</span><span class="p">)</span>

	<span class="c1">// Some valid layouts are invalid time values, due to format specifiers
</span><span class="c1"></span>	<span class="c1">// such as _ for space padding and Z for zone information.
</span><span class="c1"></span>	<span class="c1">// For example the RFC3339 layout 2006-01-02T15:04:05Z07:00
</span><span class="c1"></span>	<span class="c1">// contains both Z and a time zone offset in order to handle both valid options:
</span><span class="c1"></span>	<span class="c1">// 2006-01-02T15:04:05Z
</span><span class="c1"></span>	<span class="c1">// 2006-01-02T15:04:05+07:00
</span><span class="c1"></span>	<span class="nx">t</span><span class="p">,</span> <span class="nx">_</span> <span class="p">=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Parse</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span class="nx">RFC3339</span><span class="p">,</span> <span class="s">&#34;2006-01-02T15:04:05Z&#34;</span><span class="p">)</span>
	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">t</span><span class="p">)</span>
	<span class="nx">t</span><span class="p">,</span> <span class="nx">_</span> <span class="p">=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Parse</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span class="nx">RFC3339</span><span class="p">,</span> <span class="s">&#34;2006-01-02T15:04:05+07:00&#34;</span><span class="p">)</span>
	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">t</span><span class="p">)</span>
	<span class="nx">_</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Parse</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span class="nx">RFC3339</span><span class="p">,</span> <span class="nx">time</span><span class="p">.</span><span class="nx">RFC3339</span><span class="p">)</span>
	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;error&#34;</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span> <span class="c1">// Returns an error as the layout is not a valid time value
</span><span class="c1"></span>
<span class="p">}</span>

</code></pre></td></tr></table>
</div>
</div><h2 id="func-parseinlocation-11">func ParseInLocation 1.1<a hidden class="anchor" aria-hidden="true" href="#func-parseinlocation-11">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="nf">ParseInLocation</span><span class="p">(</span><span class="nx">layout</span><span class="p">,</span> <span class="nx">value</span> <span class="kt">string</span><span class="p">,</span> <span class="nx">loc</span> <span class="o">*</span><span class="nx">Location</span><span class="p">)</span> <span class="p">(</span><span class="nx">Time</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>ParseInLocation类似Parse但有两个重要的不同之处。第一，当缺少时区信息时，Parse将时间解释为UTC时间，而ParseInLocation将返回值的Location设置为loc；第二，当时间字符串提供了时区偏移量信息时，Parse会尝试去匹配本地时区，而ParseInLocation会去匹配loc。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
	<span class="s">&#34;fmt&#34;</span>
	<span class="s">&#34;time&#34;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">loc</span><span class="p">,</span> <span class="nx">_</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">LoadLocation</span><span class="p">(</span><span class="s">&#34;Europe/Berlin&#34;</span><span class="p">)</span>

	<span class="kd">const</span> <span class="nx">longForm</span> <span class="p">=</span> <span class="s">&#34;Jan 2, 2006 at 3:04pm (MST)&#34;</span>
	<span class="nx">t</span><span class="p">,</span> <span class="nx">_</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">ParseInLocation</span><span class="p">(</span><span class="nx">longForm</span><span class="p">,</span> <span class="s">&#34;Jul 9, 2012 at 5:02am (CEST)&#34;</span><span class="p">,</span> <span class="nx">loc</span><span class="p">)</span>
	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">t</span><span class="p">)</span>

	<span class="c1">// Note: without explicit zone, returns time in given location.
</span><span class="c1"></span>	<span class="kd">const</span> <span class="nx">shortForm</span> <span class="p">=</span> <span class="s">&#34;2006-Jan-02&#34;</span>
	<span class="nx">t</span><span class="p">,</span> <span class="nx">_</span> <span class="p">=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">ParseInLocation</span><span class="p">(</span><span class="nx">shortForm</span><span class="p">,</span> <span class="s">&#34;2012-Jul-09&#34;</span><span class="p">,</span> <span class="nx">loc</span><span class="p">)</span>
	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">t</span><span class="p">)</span>

<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="func-unix">func Unix<a hidden class="anchor" aria-hidden="true" href="#func-unix">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="nf">Unix</span><span class="p">(</span><span class="nx">sec</span> <span class="kt">int64</span><span class="p">,</span> <span class="nx">nsec</span> <span class="kt">int64</span><span class="p">)</span> <span class="nx">Time</span>
</code></pre></td></tr></table>
</div>
</div><p>Unix创建一个本地时间，对应sec和nsec表示的Unix时间（从January 1, 1970 UTC至该时间的秒数和纳秒数）。</p>
<p>nsec的值在[0, 999999999]范围外是合法的。</p>
<h2 id="func-time-add">func (Time) Add<a hidden class="anchor" aria-hidden="true" href="#func-time-add">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="p">(</span><span class="nx">t</span> <span class="nx">Time</span><span class="p">)</span> <span class="nf">Add</span><span class="p">(</span><span class="nx">d</span> <span class="nx">Duration</span><span class="p">)</span> <span class="nx">Time</span>
</code></pre></td></tr></table>
</div>
</div><p>Add返回时间t + d。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
	<span class="s">&#34;fmt&#34;</span>
	<span class="s">&#34;time&#34;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">start</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Date</span><span class="p">(</span><span class="mi">2009</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">time</span><span class="p">.</span><span class="nx">UTC</span><span class="p">)</span>
	<span class="nx">afterTenSeconds</span> <span class="o">:=</span> <span class="nx">start</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span class="nx">Second</span> <span class="o">*</span> <span class="mi">10</span><span class="p">)</span>
	<span class="nx">afterTenMinutes</span> <span class="o">:=</span> <span class="nx">start</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span class="nx">Minute</span> <span class="o">*</span> <span class="mi">10</span><span class="p">)</span>
	<span class="nx">afterTenHours</span> <span class="o">:=</span> <span class="nx">start</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span class="nx">Hour</span> <span class="o">*</span> <span class="mi">10</span><span class="p">)</span>
	<span class="nx">afterTenDays</span> <span class="o">:=</span> <span class="nx">start</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span class="nx">Hour</span> <span class="o">*</span> <span class="mi">24</span> <span class="o">*</span> <span class="mi">10</span><span class="p">)</span>

	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;start = %v\n&#34;</span><span class="p">,</span> <span class="nx">start</span><span class="p">)</span>
	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;start.Add(time.Second * 10) = %v\n&#34;</span><span class="p">,</span> <span class="nx">afterTenSeconds</span><span class="p">)</span>
	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;start.Add(time.Minute * 10) = %v\n&#34;</span><span class="p">,</span> <span class="nx">afterTenMinutes</span><span class="p">)</span>
	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;start.Add(time.Hour * 10) = %v\n&#34;</span><span class="p">,</span> <span class="nx">afterTenHours</span><span class="p">)</span>
	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;start.Add(time.Hour * 24 * 10) = %v\n&#34;</span><span class="p">,</span> <span class="nx">afterTenDays</span><span class="p">)</span>

<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="func-time-adddate">func (Time) AddDate<a hidden class="anchor" aria-hidden="true" href="#func-time-adddate">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="p">(</span><span class="nx">t</span> <span class="nx">Time</span><span class="p">)</span> <span class="nf">AddDate</span><span class="p">(</span><span class="nx">years</span> <span class="kt">int</span><span class="p">,</span> <span class="nx">months</span> <span class="kt">int</span><span class="p">,</span> <span class="nx">days</span> <span class="kt">int</span><span class="p">)</span> <span class="nx">Time</span>
</code></pre></td></tr></table>
</div>
</div><p>AddDate返回增加了给出的年份、月份和天数的时间点Time。例如，时间点January 1, 2011调用AddDate(-1, 2, 3)会返回March 4, 2010。</p>
<p>AddDate会将结果规范化，类似Date函数的做法。因此，举个例子，给时间点October 31添加一个月，会生成时间点December 1。（从时间点November 31规范化而来）</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
	<span class="s">&#34;fmt&#34;</span>
	<span class="s">&#34;time&#34;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">start</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Date</span><span class="p">(</span><span class="mi">2009</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">time</span><span class="p">.</span><span class="nx">UTC</span><span class="p">)</span>
	<span class="nx">oneDayLater</span> <span class="o">:=</span> <span class="nx">start</span><span class="p">.</span><span class="nf">AddDate</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
	<span class="nx">oneMonthLater</span> <span class="o">:=</span> <span class="nx">start</span><span class="p">.</span><span class="nf">AddDate</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
	<span class="nx">oneYearLater</span> <span class="o">:=</span> <span class="nx">start</span><span class="p">.</span><span class="nf">AddDate</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;oneDayLater: start.AddDate(0, 0, 1) = %v\n&#34;</span><span class="p">,</span> <span class="nx">oneDayLater</span><span class="p">)</span>
	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;oneMonthLater: start.AddDate(0, 1, 0) = %v\n&#34;</span><span class="p">,</span> <span class="nx">oneMonthLater</span><span class="p">)</span>
	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;oneYearLater: start.AddDate(1, 0, 0) = %v\n&#34;</span><span class="p">,</span> <span class="nx">oneYearLater</span><span class="p">)</span>

<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="func-time-after">func (Time) After<a hidden class="anchor" aria-hidden="true" href="#func-time-after">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="p">(</span><span class="nx">t</span> <span class="nx">Time</span><span class="p">)</span> <span class="nf">After</span><span class="p">(</span><span class="nx">u</span> <span class="nx">Time</span><span class="p">)</span> <span class="kt">bool</span>
</code></pre></td></tr></table>
</div>
</div><p>如果t代表的时间点在u之后，返回真；否则返回假。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
	<span class="s">&#34;fmt&#34;</span>
	<span class="s">&#34;time&#34;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">year2000</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Date</span><span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">time</span><span class="p">.</span><span class="nx">UTC</span><span class="p">)</span>
	<span class="nx">year3000</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Date</span><span class="p">(</span><span class="mi">3000</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">time</span><span class="p">.</span><span class="nx">UTC</span><span class="p">)</span>

	<span class="nx">isYear3000AfterYear2000</span> <span class="o">:=</span> <span class="nx">year3000</span><span class="p">.</span><span class="nf">After</span><span class="p">(</span><span class="nx">year2000</span><span class="p">)</span> <span class="c1">// True
</span><span class="c1"></span>	<span class="nx">isYear2000AfterYear3000</span> <span class="o">:=</span> <span class="nx">year2000</span><span class="p">.</span><span class="nf">After</span><span class="p">(</span><span class="nx">year3000</span><span class="p">)</span> <span class="c1">// False
</span><span class="c1"></span>
	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;year3000.After(year2000) = %v\n&#34;</span><span class="p">,</span> <span class="nx">isYear3000AfterYear2000</span><span class="p">)</span>
	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;year2000.After(year3000) = %v\n&#34;</span><span class="p">,</span> <span class="nx">isYear2000AfterYear3000</span><span class="p">)</span>

<span class="p">}</span>

</code></pre></td></tr></table>
</div>
</div><h2 id="functimeappendformat-15">func（Time）AppendFormat 1.5<a hidden class="anchor" aria-hidden="true" href="#functimeappendformat-15">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="p">(</span><span class="nx">t</span> <span class="nx">Time</span><span class="p">)</span> <span class="nf">AppendFormat</span><span class="p">(</span><span class="nx">b</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">,</span> <span class="nx">layout</span> <span class="kt">string</span><span class="p">)</span> <span class="p">[]</span><span class="kt">byte</span>
</code></pre></td></tr></table>
</div>
</div><p>AppendFormat与Format类似，但将文本表示附加到b并返回扩展缓冲区。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
	<span class="s">&#34;fmt&#34;</span>
	<span class="s">&#34;time&#34;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">t</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Date</span><span class="p">(</span><span class="mi">2017</span><span class="p">,</span> <span class="nx">time</span><span class="p">.</span><span class="nx">November</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">time</span><span class="p">.</span><span class="nx">UTC</span><span class="p">)</span>
	<span class="nx">text</span> <span class="o">:=</span> <span class="p">[]</span><span class="nb">byte</span><span class="p">(</span><span class="s">&#34;Time: &#34;</span><span class="p">)</span>

	<span class="nx">text</span> <span class="p">=</span> <span class="nx">t</span><span class="p">.</span><span class="nf">AppendFormat</span><span class="p">(</span><span class="nx">text</span><span class="p">,</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Kitchen</span><span class="p">)</span>
	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nb">string</span><span class="p">(</span><span class="nx">text</span><span class="p">))</span>

</code></pre></td></tr></table>
</div>
</div><h2 id="func-time-before">func (Time) Before<a hidden class="anchor" aria-hidden="true" href="#func-time-before">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="p">(</span><span class="nx">t</span> <span class="nx">Time</span><span class="p">)</span> <span class="nf">Before</span><span class="p">(</span><span class="nx">u</span> <span class="nx">Time</span><span class="p">)</span> <span class="kt">bool</span>
</code></pre></td></tr></table>
</div>
</div><p>如果t代表的时间点在u之前，返回真；否则返回假。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
	<span class="s">&#34;fmt&#34;</span>
	<span class="s">&#34;time&#34;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">year2000</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Date</span><span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">time</span><span class="p">.</span><span class="nx">UTC</span><span class="p">)</span>
	<span class="nx">year3000</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Date</span><span class="p">(</span><span class="mi">3000</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">time</span><span class="p">.</span><span class="nx">UTC</span><span class="p">)</span>

	<span class="nx">isYear2000BeforeYear3000</span> <span class="o">:=</span> <span class="nx">year2000</span><span class="p">.</span><span class="nf">Before</span><span class="p">(</span><span class="nx">year3000</span><span class="p">)</span> <span class="c1">// True
</span><span class="c1"></span>	<span class="nx">isYear3000BeforeYear2000</span> <span class="o">:=</span> <span class="nx">year3000</span><span class="p">.</span><span class="nf">Before</span><span class="p">(</span><span class="nx">year2000</span><span class="p">)</span> <span class="c1">// False
</span><span class="c1"></span>
	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;year2000.Before(year3000) = %v\n&#34;</span><span class="p">,</span> <span class="nx">isYear2000BeforeYear3000</span><span class="p">)</span>
	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;year3000.Before(year2000) = %v\n&#34;</span><span class="p">,</span> <span class="nx">isYear3000BeforeYear2000</span><span class="p">)</span>

<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="func-time-clock">func (Time) Clock<a hidden class="anchor" aria-hidden="true" href="#func-time-clock">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="p">(</span><span class="nx">t</span> <span class="nx">Time</span><span class="p">)</span> <span class="nf">Clock</span><span class="p">()</span> <span class="p">(</span><span class="nx">hour</span><span class="p">,</span> <span class="nx">min</span><span class="p">,</span> <span class="nx">sec</span> <span class="kt">int</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>返回t对应的那一天的时、分、秒。</p>
<h2 id="func-time-date">func (Time) Date<a hidden class="anchor" aria-hidden="true" href="#func-time-date">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="p">(</span><span class="nx">t</span> <span class="nx">Time</span><span class="p">)</span> <span class="nf">Date</span><span class="p">()</span> <span class="p">(</span><span class="nx">year</span> <span class="kt">int</span><span class="p">,</span> <span class="nx">month</span> <span class="nx">Month</span><span class="p">,</span> <span class="nx">day</span> <span class="kt">int</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>日期返回t发生的年，月和日。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
	<span class="s">&#34;fmt&#34;</span>
	<span class="s">&#34;time&#34;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">d</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Date</span><span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">time</span><span class="p">.</span><span class="nx">UTC</span><span class="p">)</span>
	<span class="nx">year</span><span class="p">,</span> <span class="nx">month</span><span class="p">,</span> <span class="nx">day</span> <span class="o">:=</span> <span class="nx">d</span><span class="p">.</span><span class="nf">Date</span><span class="p">()</span>

	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;year = %v\n&#34;</span><span class="p">,</span> <span class="nx">year</span><span class="p">)</span>
	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;month = %v\n&#34;</span><span class="p">,</span> <span class="nx">month</span><span class="p">)</span>
	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;day = %v\n&#34;</span><span class="p">,</span> <span class="nx">day</span><span class="p">)</span>

<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="func-time-day">func (Time) Day<a hidden class="anchor" aria-hidden="true" href="#func-time-day">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="p">(</span><span class="nx">t</span> <span class="nx">Time</span><span class="p">)</span> <span class="nf">Day</span><span class="p">()</span> <span class="kt">int</span>
</code></pre></td></tr></table>
</div>
</div><p>返回时间点t对应那一月的第几日。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
	<span class="s">&#34;fmt&#34;</span>
	<span class="s">&#34;time&#34;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">d</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Date</span><span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">time</span><span class="p">.</span><span class="nx">UTC</span><span class="p">)</span>
	<span class="nx">day</span> <span class="o">:=</span> <span class="nx">d</span><span class="p">.</span><span class="nf">Day</span><span class="p">()</span>

	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;day = %v\n&#34;</span><span class="p">,</span> <span class="nx">day</span><span class="p">)</span>

<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="func-time-equal">func (Time) Equal<a hidden class="anchor" aria-hidden="true" href="#func-time-equal">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="p">(</span><span class="nx">t</span> <span class="nx">Time</span><span class="p">)</span> <span class="nf">Equal</span><span class="p">(</span><span class="nx">u</span> <span class="nx">Time</span><span class="p">)</span> <span class="kt">bool</span>
</code></pre></td></tr></table>
</div>
</div><p>判断两个时间是否相同，会考虑时区的影响，因此不同时区标准的时间也可以正确比较。本方法和用t==u不同，这种方法还会比较地点和时区信息。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
	<span class="s">&#34;fmt&#34;</span>
	<span class="s">&#34;time&#34;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">secondsEastOfUTC</span> <span class="o">:=</span> <span class="nb">int</span><span class="p">((</span><span class="mi">8</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Hour</span><span class="p">).</span><span class="nf">Seconds</span><span class="p">())</span>
	<span class="nx">beijing</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">FixedZone</span><span class="p">(</span><span class="s">&#34;Beijing Time&#34;</span><span class="p">,</span> <span class="nx">secondsEastOfUTC</span><span class="p">)</span>

	<span class="c1">// Unlike the equal operator, Equal is aware that d1 and d2 are the
</span><span class="c1"></span>	<span class="c1">// same instant but in different time zones.
</span><span class="c1"></span>	<span class="nx">d1</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Date</span><span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">time</span><span class="p">.</span><span class="nx">UTC</span><span class="p">)</span>
	<span class="nx">d2</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Date</span><span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">beijing</span><span class="p">)</span>

	<span class="nx">datesEqualUsingEqualOperator</span> <span class="o">:=</span> <span class="nx">d1</span> <span class="o">==</span> <span class="nx">d2</span>
	<span class="nx">datesEqualUsingFunction</span> <span class="o">:=</span> <span class="nx">d1</span><span class="p">.</span><span class="nf">Equal</span><span class="p">(</span><span class="nx">d2</span><span class="p">)</span>

	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;datesEqualUsingEqualOperator = %v\n&#34;</span><span class="p">,</span> <span class="nx">datesEqualUsingEqualOperator</span><span class="p">)</span>
	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;datesEqualUsingFunction = %v\n&#34;</span><span class="p">,</span> <span class="nx">datesEqualUsingFunction</span><span class="p">)</span>

<span class="p">}</span>

</code></pre></td></tr></table>
</div>
</div><h2 id="func-time-format">func (Time) Format<a hidden class="anchor" aria-hidden="true" href="#func-time-format">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="p">(</span><span class="nx">t</span> <span class="nx">Time</span><span class="p">)</span> <span class="nf">Format</span><span class="p">(</span><span class="nx">layout</span> <span class="kt">string</span><span class="p">)</span> <span class="kt">string</span>
</code></pre></td></tr></table>
</div>
</div><p>Format根据layout指定的格式返回t代表的时间点的格式化文本表示。layout定义了参考时间：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">Mon Jan 2 15:04:05 -0700 MST 2006
</code></pre></td></tr></table>
</div>
</div><p>格式化后的字符串表示，它作为期望输出的例子。同样的格式规则会被用于格式化时间。</p>
<p>预定义的ANSIC、UnixDate、RFC3339和其他版式描述了参考时间的标准或便捷表示。要获得更多参考时间的定义和格式，参见本包的ANSIC和其他版式常量。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go">
<span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
	<span class="s">&#34;fmt&#34;</span>
	<span class="s">&#34;time&#34;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="c1">// Parse a time value from a string in the standard Unix format.
</span><span class="c1"></span>	<span class="nx">t</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Parse</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span class="nx">UnixDate</span><span class="p">,</span> <span class="s">&#34;Sat Mar  7 11:06:39 PST 2015&#34;</span><span class="p">)</span>
	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span> <span class="c1">// Always check errors even if they should not happen.
</span><span class="c1"></span>		<span class="nb">panic</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
	<span class="p">}</span>

	<span class="c1">// time.Time&#39;s Stringer method is useful without any format.
</span><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;default format:&#34;</span><span class="p">,</span> <span class="nx">t</span><span class="p">)</span>

	<span class="c1">// Predefined constants in the package implement common layouts.
</span><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Unix format:&#34;</span><span class="p">,</span> <span class="nx">t</span><span class="p">.</span><span class="nf">Format</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span class="nx">UnixDate</span><span class="p">))</span>

	<span class="c1">// The time zone attached to the time value affects its output.
</span><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Same, in UTC:&#34;</span><span class="p">,</span> <span class="nx">t</span><span class="p">.</span><span class="nf">UTC</span><span class="p">().</span><span class="nf">Format</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span class="nx">UnixDate</span><span class="p">))</span>

	<span class="c1">// The rest of this function demonstrates the properties of the
</span><span class="c1"></span>	<span class="c1">// layout string used in the format.
</span><span class="c1"></span>
	<span class="c1">// The layout string used by the Parse function and Format method
</span><span class="c1"></span>	<span class="c1">// shows by example how the reference time should be represented.
</span><span class="c1"></span>	<span class="c1">// We stress that one must show how the reference time is formatted,
</span><span class="c1"></span>	<span class="c1">// not a time of the user&#39;s choosing. Thus each layout string is a
</span><span class="c1"></span>	<span class="c1">// representation of the time stamp,
</span><span class="c1"></span>	<span class="c1">//	Jan 2 15:04:05 2006 MST
</span><span class="c1"></span>	<span class="c1">// An easy way to remember this value is that it holds, when presented
</span><span class="c1"></span>	<span class="c1">// in this order, the values (lined up with the elements above):
</span><span class="c1"></span>	<span class="c1">//	  1 2  3  4  5    6  -7
</span><span class="c1"></span>	<span class="c1">// There are some wrinkles illustrated below.
</span><span class="c1"></span>
	<span class="c1">// Most uses of Format and Parse use constant layout strings such as
</span><span class="c1"></span>	<span class="c1">// the ones defined in this package, but the interface is flexible,
</span><span class="c1"></span>	<span class="c1">// as these examples show.
</span><span class="c1"></span>
	<span class="c1">// Define a helper function to make the examples&#39; output look nice.
</span><span class="c1"></span>	<span class="nx">do</span> <span class="o">:=</span> <span class="kd">func</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">layout</span><span class="p">,</span> <span class="nx">want</span> <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
		<span class="nx">got</span> <span class="o">:=</span> <span class="nx">t</span><span class="p">.</span><span class="nf">Format</span><span class="p">(</span><span class="nx">layout</span><span class="p">)</span>
		<span class="k">if</span> <span class="nx">want</span> <span class="o">!=</span> <span class="nx">got</span> <span class="p">{</span>
			<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;error: for %q got %q; expected %q\n&#34;</span><span class="p">,</span> <span class="nx">layout</span><span class="p">,</span> <span class="nx">got</span><span class="p">,</span> <span class="nx">want</span><span class="p">)</span>
			<span class="k">return</span>
		<span class="p">}</span>
		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;%-15s %q gives %q\n&#34;</span><span class="p">,</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">layout</span><span class="p">,</span> <span class="nx">got</span><span class="p">)</span>
	<span class="p">}</span>

	<span class="c1">// Print a header in our output.
</span><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;\nFormats:\n\n&#34;</span><span class="p">)</span>

	<span class="c1">// A simple starter example.
</span><span class="c1"></span>	<span class="nf">do</span><span class="p">(</span><span class="s">&#34;Basic&#34;</span><span class="p">,</span> <span class="s">&#34;Mon Jan 2 15:04:05 MST 2006&#34;</span><span class="p">,</span> <span class="s">&#34;Sat Mar 7 11:06:39 PST 2015&#34;</span><span class="p">)</span>

	<span class="c1">// For fixed-width printing of values, such as the date, that may be one or
</span><span class="c1"></span>	<span class="c1">// two characters (7 vs. 07), use an _ instead of a space in the layout string.
</span><span class="c1"></span>	<span class="c1">// Here we print just the day, which is 2 in our layout string and 7 in our
</span><span class="c1"></span>	<span class="c1">// value.
</span><span class="c1"></span>	<span class="nf">do</span><span class="p">(</span><span class="s">&#34;No pad&#34;</span><span class="p">,</span> <span class="s">&#34;&lt;2&gt;&#34;</span><span class="p">,</span> <span class="s">&#34;&lt;7&gt;&#34;</span><span class="p">)</span>

	<span class="c1">// An underscore represents a space pad, if the date only has one digit.
</span><span class="c1"></span>	<span class="nf">do</span><span class="p">(</span><span class="s">&#34;Spaces&#34;</span><span class="p">,</span> <span class="s">&#34;&lt;_2&gt;&#34;</span><span class="p">,</span> <span class="s">&#34;&lt; 7&gt;&#34;</span><span class="p">)</span>

	<span class="c1">// A &#34;0&#34; indicates zero padding for single-digit values.
</span><span class="c1"></span>	<span class="nf">do</span><span class="p">(</span><span class="s">&#34;Zeros&#34;</span><span class="p">,</span> <span class="s">&#34;&lt;02&gt;&#34;</span><span class="p">,</span> <span class="s">&#34;&lt;07&gt;&#34;</span><span class="p">)</span>

	<span class="c1">// If the value is already the right width, padding is not used.
</span><span class="c1"></span>	<span class="c1">// For instance, the second (05 in the reference time) in our value is 39,
</span><span class="c1"></span>	<span class="c1">// so it doesn&#39;t need padding, but the minutes (04, 06) does.
</span><span class="c1"></span>	<span class="nf">do</span><span class="p">(</span><span class="s">&#34;Suppressed pad&#34;</span><span class="p">,</span> <span class="s">&#34;04:05&#34;</span><span class="p">,</span> <span class="s">&#34;06:39&#34;</span><span class="p">)</span>

	<span class="c1">// The predefined constant Unix uses an underscore to pad the day.
</span><span class="c1"></span>	<span class="c1">// Compare with our simple starter example.
</span><span class="c1"></span>	<span class="nf">do</span><span class="p">(</span><span class="s">&#34;Unix&#34;</span><span class="p">,</span> <span class="nx">time</span><span class="p">.</span><span class="nx">UnixDate</span><span class="p">,</span> <span class="s">&#34;Sat Mar  7 11:06:39 PST 2015&#34;</span><span class="p">)</span>

	<span class="c1">// The hour of the reference time is 15, or 3PM. The layout can express
</span><span class="c1"></span>	<span class="c1">// it either way, and since our value is the morning we should see it as
</span><span class="c1"></span>	<span class="c1">// an AM time. We show both in one format string. Lower case too.
</span><span class="c1"></span>	<span class="nf">do</span><span class="p">(</span><span class="s">&#34;AM/PM&#34;</span><span class="p">,</span> <span class="s">&#34;3PM==3pm==15h&#34;</span><span class="p">,</span> <span class="s">&#34;11AM==11am==11h&#34;</span><span class="p">)</span>

	<span class="c1">// When parsing, if the seconds value is followed by a decimal point
</span><span class="c1"></span>	<span class="c1">// and some digits, that is taken as a fraction of a second even if
</span><span class="c1"></span>	<span class="c1">// the layout string does not represent the fractional second.
</span><span class="c1"></span>	<span class="c1">// Here we add a fractional second to our time value used above.
</span><span class="c1"></span>	<span class="nx">t</span><span class="p">,</span> <span class="nx">err</span> <span class="p">=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Parse</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span class="nx">UnixDate</span><span class="p">,</span> <span class="s">&#34;Sat Mar  7 11:06:39.1234 PST 2015&#34;</span><span class="p">)</span>
	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
		<span class="nb">panic</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
	<span class="p">}</span>
	<span class="c1">// It does not appear in the output if the layout string does not contain
</span><span class="c1"></span>	<span class="c1">// a representation of the fractional second.
</span><span class="c1"></span>	<span class="nf">do</span><span class="p">(</span><span class="s">&#34;No fraction&#34;</span><span class="p">,</span> <span class="nx">time</span><span class="p">.</span><span class="nx">UnixDate</span><span class="p">,</span> <span class="s">&#34;Sat Mar  7 11:06:39 PST 2015&#34;</span><span class="p">)</span>

	<span class="c1">// Fractional seconds can be printed by adding a run of 0s or 9s after
</span><span class="c1"></span>	<span class="c1">// a decimal point in the seconds value in the layout string.
</span><span class="c1"></span>	<span class="c1">// If the layout digits are 0s, the fractional second is of the specified
</span><span class="c1"></span>	<span class="c1">// width. Note that the output has a trailing zero.
</span><span class="c1"></span>	<span class="nf">do</span><span class="p">(</span><span class="s">&#34;0s for fraction&#34;</span><span class="p">,</span> <span class="s">&#34;15:04:05.00000&#34;</span><span class="p">,</span> <span class="s">&#34;11:06:39.12340&#34;</span><span class="p">)</span>

	<span class="c1">// If the fraction in the layout is 9s, trailing zeros are dropped.
</span><span class="c1"></span>	<span class="nf">do</span><span class="p">(</span><span class="s">&#34;9s for fraction&#34;</span><span class="p">,</span> <span class="s">&#34;15:04:05.99999999&#34;</span><span class="p">,</span> <span class="s">&#34;11:06:39.1234&#34;</span><span class="p">)</span>

<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="func-time-gobdecode">func (*Time) GobDecode<a hidden class="anchor" aria-hidden="true" href="#func-time-gobdecode">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">Time</span><span class="p">)</span> <span class="nf">GobDecode</span><span class="p">(</span><span class="nx">data</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">)</span> <span class="kt">error</span>
</code></pre></td></tr></table>
</div>
</div><p>GobDecode实现了gob.GobDecoder接口。</p>
<h2 id="func-time-gobencode">func (Time) GobEncode<a hidden class="anchor" aria-hidden="true" href="#func-time-gobencode">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="p">(</span><span class="nx">t</span> <span class="nx">Time</span><span class="p">)</span> <span class="nf">GobEncode</span><span class="p">()</span> <span class="p">([]</span><span class="kt">byte</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>GobEncode实现了gob.GobEncoder接口。</p>
<h2 id="func-time-hour">func (Time) Hour<a hidden class="anchor" aria-hidden="true" href="#func-time-hour">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="p">(</span><span class="nx">t</span> <span class="nx">Time</span><span class="p">)</span> <span class="nf">Hour</span><span class="p">()</span> <span class="kt">int</span>
</code></pre></td></tr></table>
</div>
</div><p>小时返回t指定的日期内的小时，范围为[0,23]。</p>
<h2 id="func-time-isoweek">func (Time) ISOWeek<a hidden class="anchor" aria-hidden="true" href="#func-time-isoweek">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="p">(</span><span class="nx">t</span> <span class="nx">Time</span><span class="p">)</span> <span class="nf">ISOWeek</span><span class="p">()</span> <span class="p">(</span><span class="nx">year</span><span class="p">,</span> <span class="nx">week</span> <span class="kt">int</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>返回时间点t对应的ISO 9601标准下的年份和星期编号。星期编号范围[1,53]，1月1号到1月3号可能属于上一年的最后一周，12月29号到12月31号可能属于下一年的第一周。</p>
<h2 id="func-time-in">func (Time) In<a hidden class="anchor" aria-hidden="true" href="#func-time-in">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="p">(</span><span class="nx">t</span> <span class="nx">Time</span><span class="p">)</span> <span class="nf">In</span><span class="p">(</span><span class="nx">loc</span> <span class="o">*</span><span class="nx">Location</span><span class="p">)</span> <span class="nx">Time</span>
</code></pre></td></tr></table>
</div>
</div><p>In返回采用loc指定的地点和时区，但指向同一时间点的Time。如果loc为nil会panic。</p>
<h2 id="ffunc-time-iszero">ffunc (Time) IsZero<a hidden class="anchor" aria-hidden="true" href="#ffunc-time-iszero">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="p">(</span><span class="nx">t</span> <span class="nx">Time</span><span class="p">)</span> <span class="nf">IsZero</span><span class="p">()</span> <span class="kt">bool</span>
</code></pre></td></tr></table>
</div>
</div><p>IsZero报告t是否代表Time零值的时间点，January 1, year 1, 00:00:00 UTC。</p>
<h2 id="func-time-local">func (Time) Local<a hidden class="anchor" aria-hidden="true" href="#func-time-local">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="p">(</span><span class="nx">t</span> <span class="nx">Time</span><span class="p">)</span> <span class="nf">Local</span><span class="p">()</span> <span class="nx">Time</span>
</code></pre></td></tr></table>
</div>
</div><p>Local返回采用本地和本地时区，但指向同一时间点的Time。</p>
<h2 id="func-time-location">func (Time) Location<a hidden class="anchor" aria-hidden="true" href="#func-time-location">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="p">(</span><span class="nx">t</span> <span class="nx">Time</span><span class="p">)</span> <span class="nf">Location</span><span class="p">()</span> <span class="o">*</span><span class="nx">Location</span>
</code></pre></td></tr></table>
</div>
</div><p>Location返回t的地点和时区信息。</p>
<h2 id="func-time-marshalbinary">func (Time) MarshalBinary<a hidden class="anchor" aria-hidden="true" href="#func-time-marshalbinary">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="p">(</span><span class="nx">t</span> <span class="nx">Time</span><span class="p">)</span> <span class="nf">MarshalBinary</span><span class="p">()</span> <span class="p">([]</span><span class="kt">byte</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>MarshalBinary实现了encoding.BinaryMarshaler接口。</p>
<h2 id="func-time-marshaljson">func (Time) MarshalJSON<a hidden class="anchor" aria-hidden="true" href="#func-time-marshaljson">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="p">(</span><span class="nx">t</span> <span class="nx">Time</span><span class="p">)</span> <span class="nf">MarshalJSON</span><span class="p">()</span> <span class="p">([]</span><span class="kt">byte</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>MarshalJSON实现了json.Marshaler接口。返回值是用双引号括起来的采用RFC 3339格式进行格式化的时间表示，如果需要会提供小于秒的精度。</p>
<h2 id="func-time-marshaltext">func (Time) MarshalText<a hidden class="anchor" aria-hidden="true" href="#func-time-marshaltext">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="p">(</span><span class="nx">t</span> <span class="nx">Time</span><span class="p">)</span> <span class="nf">MarshalText</span><span class="p">()</span> <span class="p">([]</span><span class="kt">byte</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>MarshalText实现了encoding.TextMarshaler接口。返回值是采用RFC 3339格式进行格式化的时间表示，如果需要会提供小于秒的精度。</p>
<h2 id="func-time-minute">func (Time) Minute<a hidden class="anchor" aria-hidden="true" href="#func-time-minute">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="p">(</span><span class="nx">t</span> <span class="nx">Time</span><span class="p">)</span> <span class="nf">Minute</span><span class="p">()</span> <span class="kt">int</span>
</code></pre></td></tr></table>
</div>
</div><p>返回t对应的那一小时的第几分种，范围[0, 59]。</p>
<h2 id="func-time-month">func (Time) Month<a hidden class="anchor" aria-hidden="true" href="#func-time-month">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="p">(</span><span class="nx">t</span> <span class="nx">Time</span><span class="p">)</span> <span class="nf">Month</span><span class="p">()</span> <span class="nx">Month</span>
</code></pre></td></tr></table>
</div>
</div><p>返回时间点t对应那一年的第几月。</p>
<h2 id="func-time-nanosecond">func (Time) Nanosecond<a hidden class="anchor" aria-hidden="true" href="#func-time-nanosecond">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="p">(</span><span class="nx">t</span> <span class="nx">Time</span><span class="p">)</span> <span class="nf">Nanosecond</span><span class="p">()</span> <span class="kt">int</span>
</code></pre></td></tr></table>
</div>
</div><p>返回t对应的那一秒内的纳秒偏移量，范围[0, 999999999]。</p>
<h2 id="func-time-round">func (Time) Round<a hidden class="anchor" aria-hidden="true" href="#func-time-round">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="p">(</span><span class="nx">t</span> <span class="nx">Time</span><span class="p">)</span> <span class="nf">Round</span><span class="p">(</span><span class="nx">d</span> <span class="nx">Duration</span><span class="p">)</span> <span class="nx">Time</span>
</code></pre></td></tr></table>
</div>
</div><p>返回距离t最近的时间点，该时间点应该满足从Time零值到该时间点的时间段能整除d；如果有两个满足要求的时间点，距离t相同，会向上舍入；如果d &lt;= 0，Round返回t剥离任何单调时钟读数，否则不变。</p>
<p>Round作为零时间以来的绝对持续时间运行;它不适用于当时的演示形式。因此，Round（Hour）可能会返回非零分钟的时间，具体取决于时间的位置。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
	<span class="s">&#34;fmt&#34;</span>
	<span class="s">&#34;time&#34;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">t</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Date</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">918273645</span><span class="p">,</span> <span class="nx">time</span><span class="p">.</span><span class="nx">UTC</span><span class="p">)</span>
	<span class="nx">round</span> <span class="o">:=</span> <span class="p">[]</span><span class="nx">time</span><span class="p">.</span><span class="nx">Duration</span><span class="p">{</span>
		<span class="nx">time</span><span class="p">.</span><span class="nx">Nanosecond</span><span class="p">,</span>
		<span class="nx">time</span><span class="p">.</span><span class="nx">Microsecond</span><span class="p">,</span>
		<span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">,</span>
		<span class="nx">time</span><span class="p">.</span><span class="nx">Second</span><span class="p">,</span>
		<span class="mi">2</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Second</span><span class="p">,</span>
		<span class="nx">time</span><span class="p">.</span><span class="nx">Minute</span><span class="p">,</span>
		<span class="mi">10</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Minute</span><span class="p">,</span>
		<span class="nx">time</span><span class="p">.</span><span class="nx">Hour</span><span class="p">,</span>
	<span class="p">}</span>

	<span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">d</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">round</span> <span class="p">{</span>
		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;t.Round(%6s) = %s\n&#34;</span><span class="p">,</span> <span class="nx">d</span><span class="p">,</span> <span class="nx">t</span><span class="p">.</span><span class="nf">Round</span><span class="p">(</span><span class="nx">d</span><span class="p">).</span><span class="nf">Format</span><span class="p">(</span><span class="s">&#34;15:04:05.999999999&#34;</span><span class="p">))</span>
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="func-time-second">func (Time) Second<a hidden class="anchor" aria-hidden="true" href="#func-time-second">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="p">(</span><span class="nx">t</span> <span class="nx">Time</span><span class="p">)</span> <span class="nf">Second</span><span class="p">()</span> <span class="kt">int</span>
</code></pre></td></tr></table>
</div>
</div><p>Second返回t指定的分钟内的第二个偏移量，范围为[0,59]。</p>
<h2 id="func-time-string">func (Time) String<a hidden class="anchor" aria-hidden="true" href="#func-time-string">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="p">(</span><span class="nx">t</span> <span class="nx">Time</span><span class="p">)</span> <span class="nf">String</span><span class="p">()</span> <span class="kt">string</span>
</code></pre></td></tr></table>
</div>
</div><p>String返回采用如下格式字符串的格式化时间。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="s">&#34;2006-01-02 15:04:05.999999999 -0700 MST&#34;</span>
</code></pre></td></tr></table>
</div>
</div><p>如果时间具有单调时钟读数，则返回的字符串包括最终字段“m =±&lt;值&gt;”，其中值是单调时钟读数，格式化为十进制秒数。</p>
<p>返回的字符串用于调试; 对于稳定的序列化表示，请使用t.MarshalText，t.MarshalBinary或带有显式格式字符串的t.Format。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
	<span class="s">&#34;fmt&#34;</span>
	<span class="s">&#34;time&#34;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">timeWithNanoseconds</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Date</span><span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="nx">time</span><span class="p">.</span><span class="nx">UTC</span><span class="p">)</span>
	<span class="nx">withNanoseconds</span> <span class="o">:=</span> <span class="nx">timeWithNanoseconds</span><span class="p">.</span><span class="nf">String</span><span class="p">()</span>

	<span class="nx">timeWithoutNanoseconds</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Date</span><span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">time</span><span class="p">.</span><span class="nx">UTC</span><span class="p">)</span>
	<span class="nx">withoutNanoseconds</span> <span class="o">:=</span> <span class="nx">timeWithoutNanoseconds</span><span class="p">.</span><span class="nf">String</span><span class="p">()</span>

	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;withNanoseconds = %v\n&#34;</span><span class="p">,</span> <span class="nb">string</span><span class="p">(</span><span class="nx">withNanoseconds</span><span class="p">))</span>
	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;withoutNanoseconds = %v\n&#34;</span><span class="p">,</span> <span class="nb">string</span><span class="p">(</span><span class="nx">withoutNanoseconds</span><span class="p">))</span>

<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="func-time-sub">func (Time) Sub<a hidden class="anchor" aria-hidden="true" href="#func-time-sub">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="p">(</span><span class="nx">t</span> <span class="nx">Time</span><span class="p">)</span> <span class="nf">Sub</span><span class="p">(</span><span class="nx">u</span> <span class="nx">Time</span><span class="p">)</span> <span class="nx">Duration</span>
</code></pre></td></tr></table>
</div>
</div><p>返回一个时间段t-u。如果结果超出了Duration可以表示的最大值/最小值，将返回最大值/最小值。要获取时间点t-d（d为Duration），可以使用t.Add(-d)。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go">
<span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
	<span class="s">&#34;fmt&#34;</span>
	<span class="s">&#34;time&#34;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">start</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Date</span><span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">time</span><span class="p">.</span><span class="nx">UTC</span><span class="p">)</span>
	<span class="nx">end</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Date</span><span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">time</span><span class="p">.</span><span class="nx">UTC</span><span class="p">)</span>

	<span class="nx">difference</span> <span class="o">:=</span> <span class="nx">end</span><span class="p">.</span><span class="nf">Sub</span><span class="p">(</span><span class="nx">start</span><span class="p">)</span>
	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;difference = %v\n&#34;</span><span class="p">,</span> <span class="nx">difference</span><span class="p">)</span>

<span class="p">}</span>


</code></pre></td></tr></table>
</div>
</div><h2 id="func-time-truncate-11">func (Time) Truncate 1.1<a hidden class="anchor" aria-hidden="true" href="#func-time-truncate-11">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="p">(</span><span class="nx">t</span> <span class="nx">Time</span><span class="p">)</span> <span class="nf">Truncate</span><span class="p">(</span><span class="nx">d</span> <span class="nx">Duration</span><span class="p">)</span> <span class="nx">Time</span>
</code></pre></td></tr></table>
</div>
</div><p>Truncate将舍入t的结果返回到d的倍数（从零时间开始）。如果d &lt;= 0，则Truncate返回t剥离任何单调时钟读数但不改变。</p>
<p>截断时间作为零时间以来的绝对持续时间运行; 它不适用于当时的演示形式。因此，Truncate(Hour)可能会返回非零分钟的时间，具体取决于时间的位置。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
	<span class="s">&#34;fmt&#34;</span>
	<span class="s">&#34;time&#34;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">t</span><span class="p">,</span> <span class="nx">_</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Parse</span><span class="p">(</span><span class="s">&#34;2006 Jan 02 15:04:05&#34;</span><span class="p">,</span> <span class="s">&#34;2012 Dec 07 12:15:30.918273645&#34;</span><span class="p">)</span>
	<span class="nx">trunc</span> <span class="o">:=</span> <span class="p">[]</span><span class="nx">time</span><span class="p">.</span><span class="nx">Duration</span><span class="p">{</span>
		<span class="nx">time</span><span class="p">.</span><span class="nx">Nanosecond</span><span class="p">,</span>
		<span class="nx">time</span><span class="p">.</span><span class="nx">Microsecond</span><span class="p">,</span>
		<span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">,</span>
		<span class="nx">time</span><span class="p">.</span><span class="nx">Second</span><span class="p">,</span>
		<span class="mi">2</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Second</span><span class="p">,</span>
		<span class="nx">time</span><span class="p">.</span><span class="nx">Minute</span><span class="p">,</span>
		<span class="mi">10</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Minute</span><span class="p">,</span>
	<span class="p">}</span>

	<span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">d</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">trunc</span> <span class="p">{</span>
		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;t.Truncate(%5s) = %s\n&#34;</span><span class="p">,</span> <span class="nx">d</span><span class="p">,</span> <span class="nx">t</span><span class="p">.</span><span class="nf">Truncate</span><span class="p">(</span><span class="nx">d</span><span class="p">).</span><span class="nf">Format</span><span class="p">(</span><span class="s">&#34;15:04:05.999999999&#34;</span><span class="p">))</span>
	<span class="p">}</span>
	<span class="c1">// To round to the last midnight in the local timezone, create a new Date.
</span><span class="c1"></span>	<span class="nx">midnight</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Date</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nf">Year</span><span class="p">(),</span> <span class="nx">t</span><span class="p">.</span><span class="nf">Month</span><span class="p">(),</span> <span class="nx">t</span><span class="p">.</span><span class="nf">Day</span><span class="p">(),</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Local</span><span class="p">)</span>
	<span class="nx">_</span> <span class="p">=</span> <span class="nx">midnight</span>

<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="func-time-utc">func (Time) UTC<a hidden class="anchor" aria-hidden="true" href="#func-time-utc">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="p">(</span><span class="nx">t</span> <span class="nx">Time</span><span class="p">)</span> <span class="nf">UTC</span><span class="p">()</span> <span class="nx">Time</span>
</code></pre></td></tr></table>
</div>
</div><p>UTC返回采用UTC和零时区，但指向同一时间点的Time。</p>
<h2 id="func-time-unix">func (Time) Unix<a hidden class="anchor" aria-hidden="true" href="#func-time-unix">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="p">(</span><span class="nx">t</span> <span class="nx">Time</span><span class="p">)</span> <span class="nf">Unix</span><span class="p">()</span> <span class="kt">int64</span>
</code></pre></td></tr></table>
</div>
</div><p>Unix返回t作为Unix时间，即自1970年1月1日UTC以来经过的秒数。结果不依赖于与t相关的位置。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
	<span class="s">&#34;fmt&#34;</span>
	<span class="s">&#34;time&#34;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="c1">// 1 billion seconds of Unix, three ways.
</span><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span class="nf">Unix</span><span class="p">(</span><span class="mf">1e9</span><span class="p">,</span> <span class="mi">0</span><span class="p">).</span><span class="nf">UTC</span><span class="p">())</span>     <span class="c1">// 1e9 seconds
</span><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span class="nf">Unix</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">1e18</span><span class="p">).</span><span class="nf">UTC</span><span class="p">())</span>    <span class="c1">// 1e18 nanoseconds
</span><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span class="nf">Unix</span><span class="p">(</span><span class="mf">2e9</span><span class="p">,</span> <span class="o">-</span><span class="mf">1e18</span><span class="p">).</span><span class="nf">UTC</span><span class="p">())</span> <span class="c1">// 2e9 seconds - 1e18 nanoseconds
</span><span class="c1"></span>
	<span class="nx">t</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Date</span><span class="p">(</span><span class="mi">2001</span><span class="p">,</span> <span class="nx">time</span><span class="p">.</span><span class="nx">September</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">46</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">time</span><span class="p">.</span><span class="nx">UTC</span><span class="p">)</span>
	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nf">Unix</span><span class="p">())</span>     <span class="c1">// seconds since 1970
</span><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nf">UnixNano</span><span class="p">())</span> <span class="c1">// nanoseconds since 1970
</span><span class="c1"></span>
<span class="p">}</span>

</code></pre></td></tr></table>
</div>
</div><h2 id="func-time-unixnano">func (Time) UnixNano<a hidden class="anchor" aria-hidden="true" href="#func-time-unixnano">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="p">(</span><span class="nx">t</span> <span class="nx">Time</span><span class="p">)</span> <span class="nf">UnixNano</span><span class="p">()</span> <span class="kt">int64</span>
</code></pre></td></tr></table>
</div>
</div><p>UnixNano将t作为Unix时间返回，这是自1970年1月1日UTC以来经过的纳秒数。如果以纳秒为单位的Unix时间不能用int64表示（1678年之前或2262之后的日期），则结果是未定义的。请注意，这意味着在零时调用UnixNano的结果是未定义的。结果不依赖于与t相关的位置。</p>
<h2 id="func-time-unmarshalbinary-12">func (*Time) UnmarshalBinary 1.2<a hidden class="anchor" aria-hidden="true" href="#func-time-unmarshalbinary-12">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">Time</span><span class="p">)</span> <span class="nf">UnmarshalBinary</span><span class="p">(</span><span class="nx">data</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">)</span> <span class="kt">error</span>
</code></pre></td></tr></table>
</div>
</div><p>UnmarshalBinary实现encoding.BinaryUnmarshaler接口。</p>
<h2 id="func-time-unmarshaljson">func (*Time) UnmarshalJSON<a hidden class="anchor" aria-hidden="true" href="#func-time-unmarshaljson">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">Time</span><span class="p">)</span> <span class="nf">UnmarshalJSON</span><span class="p">(</span><span class="nx">data</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">)</span> <span class="kt">error</span>
</code></pre></td></tr></table>
</div>
</div><p>UnmarshalJSON实现了json.Unmarshaler接口。预计时间是RFC 3339格式的带引号的字符串。</p>
<h2 id="func-time-unmarshaltext-12">func (*Time) UnmarshalText 1.2<a hidden class="anchor" aria-hidden="true" href="#func-time-unmarshaltext-12">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">Time</span><span class="p">)</span> <span class="nf">UnmarshalText</span><span class="p">(</span><span class="nx">data</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">)</span> <span class="kt">error</span>
</code></pre></td></tr></table>
</div>
</div><p>UnmarshalText实现encoding.TextUnmarshaler接口。预计时间为RFC 3339格式。</p>
<h2 id="func-time-weekday">func (Time) Weekday<a hidden class="anchor" aria-hidden="true" href="#func-time-weekday">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="p">(</span><span class="nx">t</span> <span class="nx">Time</span><span class="p">)</span> <span class="nf">Weekday</span><span class="p">()</span> <span class="nx">Weekday</span>
</code></pre></td></tr></table>
</div>
</div><p>返回时间点t对应的那一周的周几。</p>
<h2 id="func-time-year">func (Time) Year<a hidden class="anchor" aria-hidden="true" href="#func-time-year">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="p">(</span><span class="nx">t</span> <span class="nx">Time</span><span class="p">)</span> <span class="nf">Year</span><span class="p">()</span> <span class="kt">int</span>
</code></pre></td></tr></table>
</div>
</div><p>年份返回t发生的年份。</p>
<h2 id="func-time-yearday">func (Time) YearDay<a hidden class="anchor" aria-hidden="true" href="#func-time-yearday">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="p">(</span><span class="nx">t</span> <span class="nx">Time</span><span class="p">)</span> <span class="nf">YearDay</span><span class="p">()</span> <span class="kt">int</span>
</code></pre></td></tr></table>
</div>
</div><p>返回时间点t对应的那一年的第几天，平年的返回值范围[1,365]，闰年[1,366]。</p>
<h2 id="func-time-zone">func (Time) Zone<a hidden class="anchor" aria-hidden="true" href="#func-time-zone">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="p">(</span><span class="nx">t</span> <span class="nx">Time</span><span class="p">)</span> <span class="nf">Zone</span><span class="p">()</span> <span class="p">(</span><span class="nx">name</span> <span class="kt">string</span><span class="p">,</span> <span class="nx">offset</span> <span class="kt">int</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>Zone计算t所在的时区，返回该时区的规范名（如&quot;CET&quot;）和该时区相对于UTC的时间偏移量（单位秒）。</p>
<h1 id="type-timer">type Timer<a hidden class="anchor" aria-hidden="true" href="#type-timer">#</a></h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">type</span> <span class="nx">Timer</span> <span class="kd">struct</span> <span class="p">{</span>
    <span class="nx">C</span> <span class="o">&lt;-</span><span class="kd">chan</span> <span class="nx">Time</span>
    <span class="c1">// 内含隐藏或非导出字段
</span><span class="c1"></span><span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>Timer类型代表单次时间事件。当Timer到期时，当时的时间会被发送给C，除非Timer是被AfterFunc函数创建的。</p>
<h2 id="func-newtimer">func NewTimer<a hidden class="anchor" aria-hidden="true" href="#func-newtimer">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="nf">NewTimer</span><span class="p">(</span><span class="nx">d</span> <span class="nx">Duration</span><span class="p">)</span> <span class="o">*</span><span class="nx">Timer</span>
</code></pre></td></tr></table>
</div>
</div><p>NewTimer创建一个Timer，它会在最少过去时间段d后到期，向其自身的C字段发送当时的时间。</p>
<h2 id="func-afterfunc">func AfterFunc<a hidden class="anchor" aria-hidden="true" href="#func-afterfunc">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="nf">AfterFunc</span><span class="p">(</span><span class="nx">d</span> <span class="nx">Duration</span><span class="p">,</span> <span class="nx">f</span> <span class="kd">func</span><span class="p">())</span> <span class="o">*</span><span class="nx">Timer</span>
</code></pre></td></tr></table>
</div>
</div><p>AfterFunc另起一个go程等待时间段d过去，然后调用f。它返回一个Timer，可以通过调用其Stop方法来取消等待和对f的调用。</p>
<h2 id="func-timer-reset">func (*Timer) Reset<a hidden class="anchor" aria-hidden="true" href="#func-timer-reset">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">Timer</span><span class="p">)</span> <span class="nf">Reset</span><span class="p">(</span><span class="nx">d</span> <span class="nx">Duration</span><span class="p">)</span> <span class="kt">bool</span>
</code></pre></td></tr></table>
</div>
</div><p>Reset使t重新开始计时，（本方法返回后再）等待时间段d过去后到期。如果调用时t还在等待中会返回真；如果t已经到期或者被停止了会返回假。</p>
<p>重置计时器必须注意不要与当前计时器到期时发送到t.C的竞争对手竞争。如果程序已经从t.C接收到一个值，则已知定时器已到期，并且可以直接使用t.Reset。但是，如果程序尚未从t.C接收到值，则必须停止计时器，并且如果Stop报告计时器在停止之前已到期 - 通道明确耗尽：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="k">if</span> <span class="p">!</span><span class="nx">t</span><span class="p">.</span><span class="nf">Stop</span><span class="p">()</span> <span class="p">{</span>
	<span class="o">&lt;-</span><span class="nx">t</span><span class="p">.</span><span class="nx">C</span>
<span class="p">}</span>
<span class="nx">t</span><span class="p">.</span><span class="nf">Reset</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>这不应该与Timer的通道中的其他接收同时进行。</p>
<p>请注意，无法正确使用Reset的返回值，因为在排空通道和新计时器到期之间存在竞争条件。如上所述，应始终在已停止或已过期的通道上调用重置。存在返回值以保持与现有程序的兼容性。</p>
<h2 id="func-timer-stop">func (*Timer) Stop<a hidden class="anchor" aria-hidden="true" href="#func-timer-stop">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">Timer</span><span class="p">)</span> <span class="nf">Stop</span><span class="p">()</span> <span class="kt">bool</span>
</code></pre></td></tr></table>
</div>
</div><p>Stop停止Timer的执行。如果停止了t会返回真；如果t已经被停止或者过期了会返回假。Stop不会关闭通道t.C，以避免从该通道的读取不正确的成功。</p>
<p>要防止使用NewTimer创建的计时器在调用Stop之后触发，请检查返回值并排空通道。例如，假设程序尚未从t.C收到：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="k">if</span> <span class="p">!</span><span class="nx">t</span><span class="p">.</span><span class="nf">Stop</span><span class="p">()</span> <span class="p">{</span>
	<span class="o">&lt;-</span><span class="nx">t</span><span class="p">.</span><span class="nx">C</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>这不能与Timer的通道中的其他接收同时进行。</p>
<p>对于使用AfterFunc（d，f）创建的计时器，如果t.Stop返回false，则计时器已经过期并且函数f已在其自己的goroutine中启动; 在返回之前，Stop不会等待f完成。如果调用者需要知道f是否完成，则必须明确地与f协调。</p>
<h1 id="type-weekday">type Weekday<a hidden class="anchor" aria-hidden="true" href="#type-weekday">#</a></h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">type</span> <span class="nx">Weekday</span> <span class="kt">int</span>
</code></pre></td></tr></table>
</div>
</div><p>Weekday代表一周的某一天。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">const</span> <span class="p">(</span>
    <span class="nx">Sunday</span> <span class="nx">Weekday</span> <span class="p">=</span> <span class="kc">iota</span>
    <span class="nx">Monday</span>
    <span class="nx">Tuesday</span>
    <span class="nx">Wednesday</span>
    <span class="nx">Thursday</span>
    <span class="nx">Friday</span>
    <span class="nx">Saturday</span>
<span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="func-weekday-string">func (Weekday) String<a hidden class="anchor" aria-hidden="true" href="#func-weekday-string">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="p">(</span><span class="nx">d</span> <span class="nx">Weekday</span><span class="p">)</span> <span class="nf">String</span><span class="p">()</span> <span class="kt">string</span>
</code></pre></td></tr></table>
</div>
</div><p>String返回该日（周几）的英文名（&ldquo;Sunday&rdquo;、&ldquo;Monday&rdquo;，……）</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="/tags/go%E6%A0%87%E5%87%86%E5%BA%93/">Go标准库</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2021 <a href="/">Forz Blog</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)">
    <button class="top-link" id="top-link" type="button" accesskey="g">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
            <path d="M12 6H0l6-6z" />
        </svg>
    </button>
</a>

<script>
    let menu = document.getElementById('menu')
    menu.scrollLeft = localStorage.getItem("menu-scroll-position");
    menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
